import{af as m,ah as wt,as as Ct,al as ae}from"./pro-components-L2sDkqQs.js";import{i as oe,a as ce,u as he}from"./index-C1FgRNF4.js";import{D as ue,a as Z,bA as kt,a6 as Vt,S as vt,a1 as Dt,ag as fe,bx as le,B as de}from"./antd-Bzy0GL_f.js";import{_ as be,I as xe}from"./index-0oxnn2GF.js";import{C as Rt}from"./index-TKg8GOiT.js";import{t as ge}from"./toDate-53CWvhfL.js";import"./json-editor-CBqK5HSN.js";var bt={exports:{}},pe=bt.exports,_t;function ye(){return _t||(_t=1,function(e,t){(function(s,n){e.exports=n()})(pe,function(){var s=1e3,n=6e4,r=36e5,i="millisecond",a="second",o="minute",c="hour",d="day",x="week",l="month",H="quarter",A="year",v="date",I="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Q=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(g){var u=["th","st","nd","rd"],h=g%100;return"["+g+(u[(h-20)%10]||u[h]||u[0])+"]"}},$=function(g,u,h){var b=String(g);return!b||b.length>=u?g:""+Array(u+1-b.length).join(h)+g},W={s:$,z:function(g){var u=-g.utcOffset(),h=Math.abs(u),b=Math.floor(h/60),f=h%60;return(u<=0?"+":"-")+$(b,2,"0")+":"+$(f,2,"0")},m:function g(u,h){if(u.date()<h.date())return-g(h,u);var b=12*(h.year()-u.year())+(h.month()-u.month()),f=u.clone().add(b,l),p=h-f<0,y=u.clone().add(b+(p?-1:1),l);return+(-(b+(h-f)/(p?f-y:y-f))||0)},a:function(g){return g<0?Math.ceil(g)||0:Math.floor(g)},p:function(g){return{M:l,y:A,w:x,d,D:v,h:c,m:o,s:a,ms:i,Q:H}[g]||String(g||"").toLowerCase().replace(/s$/,"")},u:function(g){return g===void 0}},_="en",G={};G[_]=P;var st="$isDayjsObject",O=function(g){return g instanceof R||!(!g||!g[st])},j=function g(u,h,b){var f;if(!u)return _;if(typeof u=="string"){var p=u.toLowerCase();G[p]&&(f=p),h&&(G[p]=h,f=p);var y=u.split("-");if(!f&&y.length>1)return g(y[0])}else{var L=u.name;G[L]=u,f=L}return!b&&f&&(_=f),f||!b&&_},D=function(g,u){if(O(g))return g.clone();var h=typeof u=="object"?u:{};return h.date=g,h.args=arguments,new R(h)},S=W;S.l=j,S.i=O,S.w=function(g,u){return D(g,{locale:u.$L,utc:u.$u,x:u.$x,$offset:u.$offset})};var R=function(){function g(h){this.$L=j(h.locale,null,!0),this.parse(h),this.$x=this.$x||h.x||{},this[st]=!0}var u=g.prototype;return u.parse=function(h){this.$d=function(b){var f=b.date,p=b.utc;if(f===null)return new Date(NaN);if(S.u(f))return new Date;if(f instanceof Date)return new Date(f);if(typeof f=="string"&&!/Z$/i.test(f)){var y=f.match(k);if(y){var L=y[2]-1||0,B=(y[7]||"0").substring(0,3);return p?new Date(Date.UTC(y[1],L,y[3]||1,y[4]||0,y[5]||0,y[6]||0,B)):new Date(y[1],L,y[3]||1,y[4]||0,y[5]||0,y[6]||0,B)}}return new Date(f)}(h),this.init()},u.init=function(){var h=this.$d;this.$y=h.getFullYear(),this.$M=h.getMonth(),this.$D=h.getDate(),this.$W=h.getDay(),this.$H=h.getHours(),this.$m=h.getMinutes(),this.$s=h.getSeconds(),this.$ms=h.getMilliseconds()},u.$utils=function(){return S},u.isValid=function(){return this.$d.toString()!==I},u.isSame=function(h,b){var f=D(h);return this.startOf(b)<=f&&f<=this.endOf(b)},u.isAfter=function(h,b){return D(h)<this.startOf(b)},u.isBefore=function(h,b){return this.endOf(b)<D(h)},u.$g=function(h,b,f){return S.u(h)?this[b]:this.set(f,h)},u.unix=function(){return Math.floor(this.valueOf()/1e3)},u.valueOf=function(){return this.$d.getTime()},u.startOf=function(h,b){var f=this,p=!!S.u(b)||b,y=S.p(h),L=function(et,U){var Y=S.w(f.$u?Date.UTC(f.$y,U,et):new Date(f.$y,U,et),f);return p?Y:Y.endOf(d)},B=function(et,U){return S.w(f.toDate()[et].apply(f.toDate("s"),(p?[0,0,0,0]:[23,59,59,999]).slice(U)),f)},M=this.$W,C=this.$M,F=this.$D,rt="set"+(this.$u?"UTC":"");switch(y){case A:return p?L(1,0):L(31,11);case l:return p?L(1,C):L(0,C+1);case x:var tt=this.$locale().weekStart||0,ct=(M<tt?M+7:M)-tt;return L(p?F-ct:F+(6-ct),C);case d:case v:return B(rt+"Hours",0);case c:return B(rt+"Minutes",1);case o:return B(rt+"Seconds",2);case a:return B(rt+"Milliseconds",3);default:return this.clone()}},u.endOf=function(h){return this.startOf(h,!1)},u.$set=function(h,b){var f,p=S.p(h),y="set"+(this.$u?"UTC":""),L=(f={},f[d]=y+"Date",f[v]=y+"Date",f[l]=y+"Month",f[A]=y+"FullYear",f[c]=y+"Hours",f[o]=y+"Minutes",f[a]=y+"Seconds",f[i]=y+"Milliseconds",f)[p],B=p===d?this.$D+(b-this.$W):b;if(p===l||p===A){var M=this.clone().set(v,1);M.$d[L](B),M.init(),this.$d=M.set(v,Math.min(this.$D,M.daysInMonth())).$d}else L&&this.$d[L](B);return this.init(),this},u.set=function(h,b){return this.clone().$set(h,b)},u.get=function(h){return this[S.p(h)]()},u.add=function(h,b){var f,p=this;h=Number(h);var y=S.p(b),L=function(C){var F=D(p);return S.w(F.date(F.date()+Math.round(C*h)),p)};if(y===l)return this.set(l,this.$M+h);if(y===A)return this.set(A,this.$y+h);if(y===d)return L(1);if(y===x)return L(7);var B=(f={},f[o]=n,f[c]=r,f[a]=s,f)[y]||1,M=this.$d.getTime()+h*B;return S.w(M,this)},u.subtract=function(h,b){return this.add(-1*h,b)},u.format=function(h){var b=this,f=this.$locale();if(!this.isValid())return f.invalidDate||I;var p=h||"YYYY-MM-DDTHH:mm:ssZ",y=S.z(this),L=this.$H,B=this.$m,M=this.$M,C=f.weekdays,F=f.months,rt=f.meridiem,tt=function(U,Y,ht,lt){return U&&(U[Y]||U(b,p))||ht[Y].slice(0,lt)},ct=function(U){return S.s(L%12||12,U,"0")},et=rt||function(U,Y,ht){var lt=U<12?"AM":"PM";return ht?lt.toLowerCase():lt};return p.replace(Q,function(U,Y){return Y||function(ht){switch(ht){case"YY":return String(b.$y).slice(-2);case"YYYY":return S.s(b.$y,4,"0");case"M":return M+1;case"MM":return S.s(M+1,2,"0");case"MMM":return tt(f.monthsShort,M,F,3);case"MMMM":return tt(F,M);case"D":return b.$D;case"DD":return S.s(b.$D,2,"0");case"d":return String(b.$W);case"dd":return tt(f.weekdaysMin,b.$W,C,2);case"ddd":return tt(f.weekdaysShort,b.$W,C,3);case"dddd":return C[b.$W];case"H":return String(L);case"HH":return S.s(L,2,"0");case"h":return ct(1);case"hh":return ct(2);case"a":return et(L,B,!0);case"A":return et(L,B,!1);case"m":return String(B);case"mm":return S.s(B,2,"0");case"s":return String(b.$s);case"ss":return S.s(b.$s,2,"0");case"SSS":return S.s(b.$ms,3,"0");case"Z":return y}return null}(U)||y.replace(":","")})},u.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},u.diff=function(h,b,f){var p,y=this,L=S.p(b),B=D(h),M=(B.utcOffset()-this.utcOffset())*n,C=this-B,F=function(){return S.m(y,B)};switch(L){case A:p=F()/12;break;case l:p=F();break;case H:p=F()/3;break;case x:p=(C-M)/6048e5;break;case d:p=(C-M)/864e5;break;case c:p=C/r;break;case o:p=C/n;break;case a:p=C/s;break;default:p=C}return f?p:S.a(p)},u.daysInMonth=function(){return this.endOf(l).$D},u.$locale=function(){return G[this.$L]},u.locale=function(h,b){if(!h)return this.$L;var f=this.clone(),p=j(h,b,!0);return p&&(f.$L=p),f},u.clone=function(){return S.w(this.$d,this)},u.toDate=function(){return new Date(this.valueOf())},u.toJSON=function(){return this.isValid()?this.toISOString():null},u.toISOString=function(){return this.$d.toISOString()},u.toString=function(){return this.$d.toUTCString()},g}(),nt=R.prototype;return D.prototype=nt,[["$ms",i],["$s",a],["$m",o],["$H",c],["$W",d],["$M",l],["$y",A],["$D",v]].forEach(function(g){nt[g[1]]=function(u){return this.$g(u,g[0],g[1])}}),D.extend=function(g,u){return g.$i||(g(u,R,D),g.$i=!0),D},D.locale=j,D.isDayjs=O,D.unix=function(g){return D(1e3*g)},D.en=G[_],D.Ls=G,D.p={},D})}(bt)),bt.exports}var we=ye();const me=ue(we);var mt=function(e){if(!e)return 0;var t=me(e).valueOf()-Date.now();return t<0?0:t},Ae=function(e){return{days:Math.floor(e/864e5),hours:Math.floor(e/36e5)%24,minutes:Math.floor(e/6e4)%60,seconds:Math.floor(e/1e3)%60,milliseconds:Math.floor(e)%1e3}},Se=function(e){e===void 0&&(e={});var t=e||{},s=t.leftTime,n=t.targetDate,r=t.interval,i=r===void 0?1e3:r,a=t.onEnd,o=Z.useMemo(function(){return oe(s)&&s>0?Date.now()+s:void 0},[s]),c="leftTime"in e?o:n,d=be(Z.useState(function(){return mt(c)}),2),x=d[0],l=d[1],H=ce(a);Z.useEffect(function(){if(!c){l(0);return}l(mt(c));var v=setInterval(function(){var I,k=mt(c);l(k),k===0&&(clearInterval(v),(I=H.current)===null||I===void 0||I.call(H))},i);return function(){return clearInterval(v)}},[c,i]);var A=Z.useMemo(function(){return Ae(x)},[x]);return[x,A]};function jt(e){return ge(e).getSeconds()}//! otpauth 9.3.6 | (c) Héctor Molinero Fernández | MIT | https://github.com/hectorm/otpauth
//! noble-hashes 1.6.1 | (c) Paul Miller | MIT | https://github.com/paulmillr/noble-hashes
const He=e=>{const t=new ArrayBuffer(8),s=new Uint8Array(t);let n=e;for(let r=7;r>=0&&n!==0;r--)s[r]=n&255,n-=s[r],n/=256;return s};function xt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function $e(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function gt(e,...t){if(!$e(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Le(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");xt(e.outputLen),xt(e.blockLen)}function it(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Yt(e,t){gt(e);const s=t.outputLen;if(e.length<s)throw new Error("digestInto() expects output buffer of length at least "+s)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ve=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),At=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),V=(e,t)=>e<<32-t|e>>>t,St=(e,t)=>e<<t|e>>>32-t>>>0,Ut=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,De=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function Ot(e){for(let t=0;t<e.length;t++)e[t]=De(e[t])}function Ie(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function pt(e){return typeof e=="string"&&(e=Ie(e)),gt(e),e}class It{clone(){return this._cloneInto()}}function ot(e){const t=n=>e().update(pt(n)).digest(),s=e();return t.outputLen=s.outputLen,t.blockLen=s.blockLen,t.create=()=>e(),t}class Kt extends It{update(t){return it(this),this.iHash.update(t),this}digestInto(t){it(this),gt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:n,finished:r,destroyed:i,blockLen:a,outputLen:o}=this;return t=t,t.finished=r,t.destroyed=i,t.blockLen=a,t.outputLen=o,t.oHash=s._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}constructor(t,s){super(),this.finished=!1,this.destroyed=!1,Le(t);const n=pt(s);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?t.create().update(n).digest():n);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=t.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}}const Ht=(e,t,s)=>new Kt(e,t).update(s).digest();Ht.create=(e,t)=>new Kt(e,t);function Be(e,t,s,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,s,n);const r=BigInt(32),i=BigInt(4294967295),a=Number(s>>r&i),o=Number(s&i),c=n?4:0,d=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+d,o,n)}const Jt=(e,t,s)=>e&t^~e&s,qt=(e,t,s)=>e&t^e&s^t&s;class Bt extends It{update(t){it(this);const{view:s,buffer:n,blockLen:r}=this;t=pt(t);const i=t.length;for(let a=0;a<i;){const o=Math.min(r-this.pos,i-a);if(o===r){const c=At(t);for(;r<=i-a;a+=r)this.process(c,a);continue}n.set(t.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(s,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){it(this),Yt(t,this),this.finished=!0;const{buffer:s,view:n,blockLen:r,isLE:i}=this;let{pos:a}=this;s[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>r-a&&(this.process(n,0),a=0);for(let l=a;l<r;l++)s[l]=0;Be(n,r-8,BigInt(this.length*8),i),this.process(n,0);const o=At(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,x=this.get();if(d>x.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<d;l++)o.setUint32(4*l,x[l],i)}digest(){const{buffer:t,outputLen:s}=this;this.digestInto(t);const n=t.slice(0,s);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:s,buffer:n,length:r,finished:i,destroyed:a,pos:o}=this;return t.length=r,t.pos=o,t.finished=i,t.destroyed=a,r%s&&t.buffer.set(n),t}constructor(t,s,n,r){super(),this.blockLen=t,this.outputLen=s,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=At(this.buffer)}}const ut=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),K=new Uint32Array(80);class Me extends Bt{get(){const{A:t,B:s,C:n,D:r,E:i}=this;return[t,s,n,r,i]}set(t,s,n,r,i){this.A=t|0,this.B=s|0,this.C=n|0,this.D=r|0,this.E=i|0}process(t,s){for(let c=0;c<16;c++,s+=4)K[c]=t.getUint32(s,!1);for(let c=16;c<80;c++)K[c]=St(K[c-3]^K[c-8]^K[c-14]^K[c-16],1);let{A:n,B:r,C:i,D:a,E:o}=this;for(let c=0;c<80;c++){let d,x;c<20?(d=Jt(r,i,a),x=1518500249):c<40?(d=r^i^a,x=1859775393):c<60?(d=qt(r,i,a),x=2400959708):(d=r^i^a,x=3395469782);const l=St(n,5)+d+o+x+K[c]|0;o=a,a=i,i=St(r,30),r=n,n=l}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,this.set(n,r,i,a,o)}roundClean(){K.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,20,8,!1),this.A=ut[0]|0,this.B=ut[1]|0,this.C=ut[2]|0,this.D=ut[3]|0,this.E=ut[4]|0}}const Ee=ot(()=>new Me),Ce=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),J=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),q=new Uint32Array(64);class zt extends Bt{get(){const{A:t,B:s,C:n,D:r,E:i,F:a,G:o,H:c}=this;return[t,s,n,r,i,a,o,c]}set(t,s,n,r,i,a,o,c){this.A=t|0,this.B=s|0,this.C=n|0,this.D=r|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=c|0}process(t,s){for(let l=0;l<16;l++,s+=4)q[l]=t.getUint32(s,!1);for(let l=16;l<64;l++){const H=q[l-15],A=q[l-2],v=V(H,7)^V(H,18)^H>>>3,I=V(A,17)^V(A,19)^A>>>10;q[l]=I+q[l-7]+v+q[l-16]|0}let{A:n,B:r,C:i,D:a,E:o,F:c,G:d,H:x}=this;for(let l=0;l<64;l++){const H=V(o,6)^V(o,11)^V(o,25),A=x+H+Jt(o,c,d)+Ce[l]+q[l]|0,I=(V(n,2)^V(n,13)^V(n,22))+qt(n,r,i)|0;x=d,d=c,c=o,o=a+A|0,a=i,i=r,r=n,n=A+I|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,d=d+this.G|0,x=x+this.H|0,this.set(n,r,i,a,o,c,d,x)}roundClean(){q.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,32,8,!1),this.A=J[0]|0,this.B=J[1]|0,this.C=J[2]|0,this.D=J[3]|0,this.E=J[4]|0,this.F=J[5]|0,this.G=J[6]|0,this.H=J[7]|0}}class ke extends zt{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const _e=ot(()=>new zt),je=ot(()=>new ke),dt=BigInt(2**32-1),$t=BigInt(32);function Xt(e,t=!1){return t?{h:Number(e&dt),l:Number(e>>$t&dt)}:{h:Number(e>>$t&dt)|0,l:Number(e&dt)|0}}function Zt(e,t=!1){let s=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let r=0;r<e.length;r++){const{h:i,l:a}=Xt(e[r],t);[s[r],n[r]]=[i,a]}return[s,n]}const Ue=(e,t)=>BigInt(e>>>0)<<$t|BigInt(t>>>0),Oe=(e,t,s)=>e>>>s,Fe=(e,t,s)=>e<<32-s|t>>>s,Te=(e,t,s)=>e>>>s|t<<32-s,Ge=(e,t,s)=>e<<32-s|t>>>s,Ne=(e,t,s)=>e<<64-s|t>>>s-32,We=(e,t,s)=>e>>>s-32|t<<64-s,Ve=(e,t)=>t,Re=(e,t)=>e,Qt=(e,t,s)=>e<<s|t>>>32-s,Pt=(e,t,s)=>t<<s|e>>>32-s,te=(e,t,s)=>t<<s-32|e>>>64-s,ee=(e,t,s)=>e<<s-32|t>>>64-s;function Ye(e,t,s,n){const r=(t>>>0)+(n>>>0);return{h:e+s+(r/2**32|0)|0,l:r|0}}const Ke=(e,t,s)=>(e>>>0)+(t>>>0)+(s>>>0),Je=(e,t,s,n)=>t+s+n+(e/2**32|0)|0,qe=(e,t,s,n)=>(e>>>0)+(t>>>0)+(s>>>0)+(n>>>0),ze=(e,t,s,n,r)=>t+s+n+r+(e/2**32|0)|0,Xe=(e,t,s,n,r)=>(e>>>0)+(t>>>0)+(s>>>0)+(n>>>0)+(r>>>0),Ze=(e,t,s,n,r,i)=>t+s+n+r+i+(e/2**32|0)|0,w={fromBig:Xt,split:Zt,toBig:Ue,shrSH:Oe,shrSL:Fe,rotrSH:Te,rotrSL:Ge,rotrBH:Ne,rotrBL:We,rotr32H:Ve,rotr32L:Re,rotlSH:Qt,rotlSL:Pt,rotlBH:te,rotlBL:ee,add:Ye,add3L:Ke,add3H:Je,add4L:qe,add4H:ze,add5H:Ze,add5L:Xe},[Qe,Pe]=w.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),z=new Uint32Array(80),X=new Uint32Array(80);class se extends Bt{get(){const{Ah:t,Al:s,Bh:n,Bl:r,Ch:i,Cl:a,Dh:o,Dl:c,Eh:d,El:x,Fh:l,Fl:H,Gh:A,Gl:v,Hh:I,Hl:k}=this;return[t,s,n,r,i,a,o,c,d,x,l,H,A,v,I,k]}set(t,s,n,r,i,a,o,c,d,x,l,H,A,v,I,k){this.Ah=t|0,this.Al=s|0,this.Bh=n|0,this.Bl=r|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=d|0,this.El=x|0,this.Fh=l|0,this.Fl=H|0,this.Gh=A|0,this.Gl=v|0,this.Hh=I|0,this.Hl=k|0}process(t,s){for(let $=0;$<16;$++,s+=4)z[$]=t.getUint32(s),X[$]=t.getUint32(s+=4);for(let $=16;$<80;$++){const W=z[$-15]|0,_=X[$-15]|0,G=w.rotrSH(W,_,1)^w.rotrSH(W,_,8)^w.shrSH(W,_,7),st=w.rotrSL(W,_,1)^w.rotrSL(W,_,8)^w.shrSL(W,_,7),O=z[$-2]|0,j=X[$-2]|0,D=w.rotrSH(O,j,19)^w.rotrBH(O,j,61)^w.shrSH(O,j,6),S=w.rotrSL(O,j,19)^w.rotrBL(O,j,61)^w.shrSL(O,j,6),R=w.add4L(st,S,X[$-7],X[$-16]),nt=w.add4H(R,G,D,z[$-7],z[$-16]);z[$]=nt|0,X[$]=R|0}let{Ah:n,Al:r,Bh:i,Bl:a,Ch:o,Cl:c,Dh:d,Dl:x,Eh:l,El:H,Fh:A,Fl:v,Gh:I,Gl:k,Hh:Q,Hl:P}=this;for(let $=0;$<80;$++){const W=w.rotrSH(l,H,14)^w.rotrSH(l,H,18)^w.rotrBH(l,H,41),_=w.rotrSL(l,H,14)^w.rotrSL(l,H,18)^w.rotrBL(l,H,41),G=l&A^~l&I,st=H&v^~H&k,O=w.add5L(P,_,st,Pe[$],X[$]),j=w.add5H(O,Q,W,G,Qe[$],z[$]),D=O|0,S=w.rotrSH(n,r,28)^w.rotrBH(n,r,34)^w.rotrBH(n,r,39),R=w.rotrSL(n,r,28)^w.rotrBL(n,r,34)^w.rotrBL(n,r,39),nt=n&i^n&o^i&o,g=r&a^r&c^a&c;Q=I|0,P=k|0,I=A|0,k=v|0,A=l|0,v=H|0,{h:l,l:H}=w.add(d|0,x|0,j|0,D|0),d=o|0,x=c|0,o=i|0,c=a|0,i=n|0,a=r|0;const u=w.add3L(D,R,g);n=w.add3H(u,j,S,nt),r=u|0}({h:n,l:r}=w.add(this.Ah|0,this.Al|0,n|0,r|0)),{h:i,l:a}=w.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:c}=w.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:d,l:x}=w.add(this.Dh|0,this.Dl|0,d|0,x|0),{h:l,l:H}=w.add(this.Eh|0,this.El|0,l|0,H|0),{h:A,l:v}=w.add(this.Fh|0,this.Fl|0,A|0,v|0),{h:I,l:k}=w.add(this.Gh|0,this.Gl|0,I|0,k|0),{h:Q,l:P}=w.add(this.Hh|0,this.Hl|0,Q|0,P|0),this.set(n,r,i,a,o,c,d,x,l,H,A,v,I,k,Q,P)}roundClean(){z.fill(0),X.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}}class ts extends se{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const es=ot(()=>new se),ss=ot(()=>new ts),ne=[],re=[],ie=[],ns=BigInt(0),ft=BigInt(1),rs=BigInt(2),is=BigInt(7),as=BigInt(256),os=BigInt(113);for(let e=0,t=ft,s=1,n=0;e<24;e++){[s,n]=[n,(2*s+3*n)%5],ne.push(2*(5*n+s)),re.push((e+1)*(e+2)/2%64);let r=ns;for(let i=0;i<7;i++)t=(t<<ft^(t>>is)*os)%as,t&rs&&(r^=ft<<(ft<<BigInt(i))-ft);ie.push(r)}const[cs,hs]=Zt(ie,!0),Ft=(e,t,s)=>s>32?te(e,t,s):Qt(e,t,s),Tt=(e,t,s)=>s>32?ee(e,t,s):Pt(e,t,s);function us(e,t=24){const s=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let a=0;a<10;a++)s[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,d=s[c],x=s[c+1],l=Ft(d,x,1)^s[o],H=Tt(d,x,1)^s[o+1];for(let A=0;A<50;A+=10)e[a+A]^=l,e[a+A+1]^=H}let r=e[2],i=e[3];for(let a=0;a<24;a++){const o=re[a],c=Ft(r,i,o),d=Tt(r,i,o),x=ne[a];r=e[x],i=e[x+1],e[x]=c,e[x+1]=d}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)s[o]=e[a+o];for(let o=0;o<10;o++)e[a+o]^=~s[(o+2)%10]&s[(o+4)%10]}e[0]^=cs[n],e[1]^=hs[n]}s.fill(0)}class Mt extends It{keccak(){Ut||Ot(this.state32),us(this.state32,this.rounds),Ut||Ot(this.state32),this.posOut=0,this.pos=0}update(t){it(this);const{blockLen:s,state:n}=this;t=pt(t);const r=t.length;for(let i=0;i<r;){const a=Math.min(s-this.pos,r-i);for(let o=0;o<a;o++)n[this.pos++]^=t[i++];this.pos===s&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:s,pos:n,blockLen:r}=this;t[n]^=s,(s&128)!==0&&n===r-1&&this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){it(this,!1),gt(t),this.finish();const s=this.state,{blockLen:n}=this;for(let r=0,i=t.length;r<i;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,i-r);t.set(s.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return xt(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Yt(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:s,suffix:n,outputLen:r,rounds:i,enableXOF:a}=this;return t||(t=new Mt(s,n,r,a,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=r,t.enableXOF=a,t.destroyed=this.destroyed,t}constructor(t,s,n,r=!1,i=24){if(super(),this.blockLen=t,this.suffix=s,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,xt(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ve(this.state)}}const yt=(e,t,s)=>ot(()=>new Mt(t,e,s)),fs=yt(6,144,224/8),ls=yt(6,136,256/8),ds=yt(6,104,384/8),bs=yt(6,72,512/8),at=(()=>{if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"__GLOBALTHIS__",{get(){return this},configurable:!0});try{if(typeof __GLOBALTHIS__<"u")return __GLOBALTHIS__}finally{delete Object.prototype.__GLOBALTHIS__}if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global})(),Gt={SHA1:Ee,SHA224:je,SHA256:_e,SHA384:ss,SHA512:es,"SHA3-224":fs,"SHA3-256":ls,"SHA3-384":ds,"SHA3-512":bs},Et=e=>{switch(!0){case/^(?:SHA-?1|SSL3-SHA1)$/i.test(e):return"SHA1";case/^SHA(?:2?-)?224$/i.test(e):return"SHA224";case/^SHA(?:2?-)?256$/i.test(e):return"SHA256";case/^SHA(?:2?-)?384$/i.test(e):return"SHA384";case/^SHA(?:2?-)?512$/i.test(e):return"SHA512";case/^SHA3-224$/i.test(e):return"SHA3-224";case/^SHA3-256$/i.test(e):return"SHA3-256";case/^SHA3-384$/i.test(e):return"SHA3-384";case/^SHA3-512$/i.test(e):return"SHA3-512";default:throw new TypeError(`Unknown hash algorithm: ${e}`)}},xs=(e,t,s)=>{if(Ht){const n=Gt[e]??Gt[Et(e)];return Ht(n,t,s)}else throw new Error("Missing HMAC function")},Lt="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",gs=e=>{e=e.replace(/ /g,"");let t=e.length;for(;e[t-1]==="=";)--t;e=(t<e.length?e.substring(0,t):e).toUpperCase();const s=new ArrayBuffer(e.length*5/8|0),n=new Uint8Array(s);let r=0,i=0,a=0;for(let o=0;o<e.length;o++){const c=Lt.indexOf(e[o]);if(c===-1)throw new TypeError(`Invalid character found: ${e[o]}`);i=i<<5|c,r+=5,r>=8&&(r-=8,n[a++]=i>>>r)}return n},ps=e=>{let t=0,s=0,n="";for(let r=0;r<e.length;r++)for(s=s<<8|e[r],t+=8;t>=5;)n+=Lt[s>>>t-5&31],t-=5;return t>0&&(n+=Lt[s<<5-t&31]),n},ys=e=>{e=e.replace(/ /g,"");const t=new ArrayBuffer(e.length/2),s=new Uint8Array(t);for(let n=0;n<e.length;n+=2)s[n/2]=parseInt(e.substring(n,n+2),16);return s},ws=e=>{let t="";for(let s=0;s<e.length;s++){const n=e[s].toString(16);n.length===1&&(t+="0"),t+=n}return t.toUpperCase()},ms=e=>{const t=new ArrayBuffer(e.length),s=new Uint8Array(t);for(let n=0;n<e.length;n++)s[n]=e.charCodeAt(n)&255;return s},As=e=>{let t="";for(let s=0;s<e.length;s++)t+=String.fromCharCode(e[s]);return t},Nt=at.TextEncoder?new at.TextEncoder:null,Wt=at.TextDecoder?new at.TextDecoder:null,Ss=e=>{if(!Nt)throw new Error("Encoding API not available");return Nt.encode(e)},Hs=e=>{if(!Wt)throw new Error("Encoding API not available");return Wt.decode(e)},$s=e=>{var t;if((t=at.crypto)!=null&&t.getRandomValues)return at.crypto.getRandomValues(new Uint8Array(e));throw new Error("Cryptography API not available")};class N{static fromLatin1(t){return new N({buffer:ms(t).buffer})}static fromUTF8(t){return new N({buffer:Ss(t).buffer})}static fromBase32(t){return new N({buffer:gs(t).buffer})}static fromHex(t){return new N({buffer:ys(t).buffer})}get buffer(){return this.bytes.buffer}get latin1(){return Object.defineProperty(this,"latin1",{enumerable:!0,writable:!1,configurable:!1,value:As(this.bytes)}),this.latin1}get utf8(){return Object.defineProperty(this,"utf8",{enumerable:!0,writable:!1,configurable:!1,value:Hs(this.bytes)}),this.utf8}get base32(){return Object.defineProperty(this,"base32",{enumerable:!0,writable:!1,configurable:!1,value:ps(this.bytes)}),this.base32}get hex(){return Object.defineProperty(this,"hex",{enumerable:!0,writable:!1,configurable:!1,value:ws(this.bytes)}),this.hex}constructor({buffer:t,size:s=20}={}){this.bytes=typeof t>"u"?$s(s):new Uint8Array(t),Object.defineProperty(this,"bytes",{enumerable:!0,writable:!1,configurable:!1,value:this.bytes})}}const Ls=(e,t)=>{{if(e.length!==t.length)throw new TypeError("Input strings must have the same length");let s=-1,n=0;for(;++s<e.length;)n|=e.charCodeAt(s)^t.charCodeAt(s);return n===0}};class E{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,counter:0,window:1}}static generate({secret:t,algorithm:s=E.defaults.algorithm,digits:n=E.defaults.digits,counter:r=E.defaults.counter}){const i=xs(s,t.bytes,He(r)),a=i[i.byteLength-1]&15;return(((i[a]&127)<<24|(i[a+1]&255)<<16|(i[a+2]&255)<<8|i[a+3]&255)%10**n).toString().padStart(n,"0")}generate({counter:t=this.counter++}={}){return E.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:t})}static validate({token:t,secret:s,algorithm:n,digits:r=E.defaults.digits,counter:i=E.defaults.counter,window:a=E.defaults.window}){if(t.length!==r)return null;let o=null;const c=d=>{const x=E.generate({secret:s,algorithm:n,digits:r,counter:d});Ls(t,x)&&(o=d-i)};c(i);for(let d=1;d<=a&&o===null&&(c(i-d),!(o!==null||(c(i+d),o!==null)));++d);return o}validate({token:t,counter:s=this.counter,window:n}){return E.validate({token:t,secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:s,window:n})}toString(){const t=encodeURIComponent;return`otpauth://hotp/${this.issuer.length>0?this.issuerInLabel?`${t(this.issuer)}:${t(this.label)}?issuer=${t(this.issuer)}&`:`${t(this.label)}?issuer=${t(this.issuer)}&`:`${t(this.label)}?`}secret=${t(this.secret.base32)}&algorithm=${t(this.algorithm)}&digits=${t(this.digits)}&counter=${t(this.counter)}`}constructor({issuer:t=E.defaults.issuer,label:s=E.defaults.label,issuerInLabel:n=E.defaults.issuerInLabel,secret:r=new N,algorithm:i=E.defaults.algorithm,digits:a=E.defaults.digits,counter:o=E.defaults.counter}={}){this.issuer=t,this.label=s,this.issuerInLabel=n,this.secret=typeof r=="string"?N.fromBase32(r):r,this.algorithm=Et(i),this.digits=a,this.counter=o}}class T{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,period:30,window:1}}static generate({secret:t,algorithm:s,digits:n,period:r=T.defaults.period,timestamp:i=Date.now()}){return E.generate({secret:t,algorithm:s,digits:n,counter:Math.floor(i/1e3/r)})}generate({timestamp:t=Date.now()}={}){return T.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:t})}static validate({token:t,secret:s,algorithm:n,digits:r,period:i=T.defaults.period,timestamp:a=Date.now(),window:o}){return E.validate({token:t,secret:s,algorithm:n,digits:r,counter:Math.floor(a/1e3/i),window:o})}validate({token:t,timestamp:s,window:n}){return T.validate({token:t,secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:s,window:n})}toString(){const t=encodeURIComponent;return`otpauth://totp/${this.issuer.length>0?this.issuerInLabel?`${t(this.issuer)}:${t(this.label)}?issuer=${t(this.issuer)}&`:`${t(this.label)}?issuer=${t(this.issuer)}&`:`${t(this.label)}?`}secret=${t(this.secret.base32)}&algorithm=${t(this.algorithm)}&digits=${t(this.digits)}&period=${t(this.period)}`}constructor({issuer:t=T.defaults.issuer,label:s=T.defaults.label,issuerInLabel:n=T.defaults.issuerInLabel,secret:r=new N,algorithm:i=T.defaults.algorithm,digits:a=T.defaults.digits,period:o=T.defaults.period}={}){this.issuer=t,this.label=s,this.issuerInLabel=n,this.secret=typeof r=="string"?N.fromBase32(r):r,this.algorithm=Et(i),this.digits=a,this.period=o}}const vs=({totps:e})=>m.jsx("div",{children:m.jsx(kt,{children:e==null?void 0:e.map(t=>m.jsx(kt.Item,{},t.secretKey))})}),Ds=({totp:e})=>{const[t,s]=Z.useState(0),[n,r]=Z.useState("");Z.useEffect(()=>{if(s(0),e){const o=new Date,c=jt(o),d=o.getTime(),x=(c>=30?60-c:30-c)*1e3;s(d+x),r(e.generate())}},[e]);const[i]=Se({targetDate:t,onEnd:()=>{if(s(0),e){const o=new Date,c=jt(o),d=o.getTime(),x=(c>=30?60-c:30-c)*1e3;s(d+x),r(e.generate())}}}),a=()=>m.jsx(fe,{type:"circle",percent:(30-Math.round(i/1e3))/30*100,format:()=>Math.round(i/1e3),size:20});return m.jsx(Vt.Item,{label:"Token",children:m.jsxs(vt.Compact,{children:[m.jsx(Dt,{value:n,addonAfter:m.jsx(a,{})}),m.jsx(Rt,{text:n})]})})},Is=({totp:e})=>m.jsxs("div",{children:[m.jsx("div",{children:m.jsx(le,{value:(e==null?void 0:e.toString())||"-",style:{width:128,height:128}})}),m.jsx("div",{className:"mt-4",children:m.jsx(Ds,{totp:e})}),m.jsx("div",{className:"mt-4",children:m.jsxs(vt.Compact,{className:"w-full",children:[m.jsx(Dt,{value:(e==null?void 0:e.toString())||""}),m.jsx(Rt,{text:e==null?void 0:e.toString()})]})})]}),Bs=()=>{const[e]=Vt.useForm(),[t,s]=Z.useState(),n=()=>{const i=new N;e.setFieldValue("secret",i.base32)},r=async i=>{console.log(i);const a=new T({issuer:i.issuer,label:i.account,secret:i.secretKey});return s(a),!0};return m.jsxs(m.Fragment,{children:[m.jsxs(wt,{form:e,layout:"horizontal",onFinish:r,children:[m.jsx(Ct,{label:"Issuer",name:"issuer",required:!0}),m.jsx(Ct,{label:"Account",name:"account"}),m.jsx(wt.Item,{shouldUpdate:!0,children:i=>m.jsx(wt.Item,{label:"Secret Key",name:"secret",required:!0,children:m.jsxs(vt.Compact,{style:{width:"100%"},children:[m.jsx(Dt,{value:i.getFieldValue("secret"),showCount:!0}),m.jsx(de,{icon:m.jsx(xe,{icon:"lucide:refresh-ccw"}),onClick:n})]})})})]}),m.jsx(Is,{totp:t})]})},Os=()=>{const[e]=he("totps",{defaultValue:[]});return console.log(N.fromUTF8("ha")),m.jsx(ae,{title:!1,className:"pt-4",children:m.jsxs("div",{className:"grid grid-cols-3",children:[m.jsx("div",{className:"col-span-1",children:m.jsx(vs,{totps:e})}),m.jsx("div",{className:"col-span-2",children:m.jsx(Bs,{})})]})})};export{Os as Component};

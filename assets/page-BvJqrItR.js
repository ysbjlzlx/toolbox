import{af as y}from"./pro-components-CPZIsSOc.js";import{P as X}from"./index-DkoMvkBT.js";import{a as v,aM as Y,aj as Z,a1 as _,S as P,B as z}from"./antd-Cl3cKmq-.js";import{T as L}from"./TextResultBox-CS5z2Euf.js";import"./json-editor-D3HpTOiY.js";import"./index-CZe-kGyt.js";/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function D(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function I(e,r){return Array.isArray(r)?r.length===0?!0:e?r.every(n=>typeof n=="string"):r.every(n=>Number.isSafeInteger(n)):!1}function $(e,r){if(typeof r!="string")throw new Error(`${e}: string expected`);return!0}function m(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function j(e){if(!Array.isArray(e))throw new Error("array expected")}function R(e,r){if(!I(!0,r))throw new Error(`${e}: array of strings expected`)}function O(e,r){if(!I(!1,r))throw new Error(`${e}: array of numbers expected`)}function C(...e){const r=o=>o,n=(o,h)=>i=>o(h(i)),c=e.map(o=>o.encode).reduceRight(n,r),a=e.map(o=>o.decode).reduce(n,r);return{encode:c,decode:a}}function T(e){const r=typeof e=="string"?e.split(""):e,n=r.length;R("alphabet",r);const c=new Map(r.map((a,o)=>[a,o]));return{encode:a=>(j(a),a.map(o=>{if(!Number.isSafeInteger(o)||o<0||o>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${o}". Allowed: ${e}`);return r[o]})),decode:a=>(j(a),a.map(o=>{$("alphabet.decode",o);const h=c.get(o);if(h===void 0)throw new Error(`Unknown letter: "${o}". Allowed: ${e}`);return h}))}}function S(e=""){return $("join",e),{encode:r=>(R("join.decode",r),r.join(e)),decode:r=>($("join.decode",r),r.split(e))}}function F(e,r="="){return m(e),$("padding",r),{encode(n){for(R("padding.encode",n);n.length*e%8;)n.push(r);return n},decode(n){R("padding.decode",n);let c=n.length;if(c*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;c>0&&n[c-1]===r;c--)if((c-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,c)}}}function k(e,r,n){if(r<2)throw new Error(`convertRadix: invalid from=${r}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(j(e),!e.length)return[];let c=0;const a=[],o=Array.from(e,i=>{if(m(i),i<0||i>=r)throw new Error(`invalid integer: ${i}`);return i}),h=o.length;for(;;){let i=0,x=!0;for(let t=c;t<h;t++){const s=o[t],f=r*i,d=f+s;if(!Number.isSafeInteger(d)||f/r!==i||d-s!==f)throw new Error("convertRadix: carry overflow");const u=d/n;i=d%n;const l=Math.floor(u);if(o[t]=l,!Number.isSafeInteger(l)||l*n+i!==d)throw new Error("convertRadix: carry overflow");if(x)l?x=!1:c=t;else continue}if(a.push(i),x)break}for(let i=0;i<e.length-1&&e[i]===0;i++)a.push(0);return a.reverse()}const V=(e,r)=>r===0?e:V(r,e%r),U=(e,r)=>e+(r-V(e,r)),N=(()=>{let e=[];for(let r=0;r<40;r++)e.push(2**r);return e})();function M(e,r,n,c){if(j(e),r<=0||r>32)throw new Error(`convertRadix2: wrong from=${r}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(U(r,n)>32)throw new Error(`convertRadix2: carry overflow from=${r} to=${n} carryBits=${U(r,n)}`);let a=0,o=0;const h=N[r],i=N[n]-1,x=[];for(const t of e){if(m(t),t>=h)throw new Error(`convertRadix2: invalid data word=${t} from=${r}`);if(a=a<<r|t,o+r>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${r}`);for(o+=r;o>=n;o-=n)x.push((a>>o-n&i)>>>0);const s=N[o];if(s===void 0)throw new Error("invalid carry");a&=s-1}if(a=a<<n-o&i,!c&&o>=r)throw new Error("Excess padding");if(!c&&a>0)throw new Error(`Non-zero padding: ${a}`);return c&&o>0&&x.push(a>>>0),x}function H(e){m(e);const r=2**8;return{encode:n=>{if(!D(n))throw new Error("radix.encode input should be Uint8Array");return k(Array.from(n),r,e)},decode:n=>(O("radix.decode",n),Uint8Array.from(k(n,e,r)))}}function B(e,r=!1){if(m(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(U(8,e)>32||U(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!D(n))throw new Error("radix2.encode input should be Uint8Array");return M(Array.from(n),8,e,!r)},decode:n=>(O("radix2.decode",n),Uint8Array.from(M(n,e,8,r)))}}const q=C(B(4),T("0123456789ABCDEF"),S("")),G=C(B(5),T("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),F(5),S("")),J=C(B(6),T("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),F(6),S("")),ee=e=>C(H(58),T(e),S("")),K=ee("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function Q(e){if(e.length>=255)throw new TypeError("Alphabet too long");const r=new Uint8Array(256);for(let t=0;t<r.length;t++)r[t]=255;for(let t=0;t<e.length;t++){const s=e.charAt(t),f=s.charCodeAt(0);if(r[f]!==255)throw new TypeError(s+" is ambiguous");r[f]=t}const n=e.length,c=e.charAt(0),a=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function h(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length===0)return"";let s=0,f=0,d=0;const u=t.length;for(;d!==u&&t[d]===0;)d++,s++;const l=(u-d)*o+1>>>0,g=new Uint8Array(l);for(;d!==u;){let w=t[d],E=0;for(let b=l-1;(w!==0||E<f)&&b!==-1;b--,E++)w+=256*g[b]>>>0,g[b]=w%n>>>0,w=w/n>>>0;if(w!==0)throw new Error("Non-zero carry");f=E,d++}let p=l-f;for(;p!==l&&g[p]===0;)p++;let A=c.repeat(s);for(;p<l;++p)A+=e.charAt(g[p]);return A}function i(t){if(typeof t!="string")throw new TypeError("Expected String");if(t.length===0)return new Uint8Array;let s=0,f=0,d=0;for(;t[s]===c;)f++,s++;const u=(t.length-s)*a+1>>>0,l=new Uint8Array(u);for(;t[s];){let w=r[t.charCodeAt(s)];if(w===255)return;let E=0;for(let b=u-1;(w!==0||E<d)&&b!==-1;b--,E++)w+=n*l[b]>>>0,l[b]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");d=E,s++}let g=u-d;for(;g!==u&&l[g]===0;)g++;const p=new Uint8Array(f+(u-g));let A=f;for(;g!==u;)p[A++]=l[g++];return p}function x(t){const s=i(t);if(s)return s;throw new Error("Non-base"+n+" character")}return{encode:h,decodeUnsafe:i,decode:x}}const W={"base-36":"0123456789abcdefghijklmnopqrstuvwxyz"},re=(e,r)=>{switch(e){case"base-16":return q.encode(new TextEncoder().encode(r));case"base-32":return G.encode(new TextEncoder().encode(r));case"base-58":return K.encode(new TextEncoder().encode(r));case"base-64":return J.encode(new TextEncoder().encode(r))}const n=W[e];return Q(n).encode(new TextEncoder().encode(r))},ne=(e,r)=>{switch(e){case"base-16":return new TextDecoder().decode(q.decode(r));case"base-32":return new TextDecoder().decode(G.decode(r));case"base-58":return new TextDecoder().decode(K.decode(r));case"base-64":return new TextDecoder().decode(J.decode(r))}const n=W[e];return new TextDecoder().decode(Q(n).decode(r))},de=()=>{const[e,r]=v.useState("base-64"),[n,c]=v.useState(""),[a,o]=v.useState(""),h=[{label:"Base16",value:"base-16"},{label:"Base32",value:"base-32",disabled:!1},{label:"Base36",value:"base-36",disabled:!1},{label:"Base58",value:"base-58",disabled:!1},{label:"Base64",value:"base-64"}],i=v.useCallback(()=>{const t=re(e,n);o(t)},[e,n]),x=v.useCallback(()=>{const t=ne(e,n);o(t)},[e,n]);return y.jsx(X,{className:"mx-auto max-w-screen-md pt-4",children:y.jsxs(Y,{children:[y.jsx(Z,{block:!0,value:e,options:h,onChange:t=>{r(t)}}),y.jsx("div",{className:"mt-4",children:y.jsx(_.TextArea,{value:n,onChange:t=>{c(t.target.value)},placeholder:"文本",autoSize:{minRows:5,maxRows:10},showCount:!0})}),y.jsx("div",{className:"mt-4",children:y.jsxs(P.Compact,{children:[y.jsx(z,{onClick:i,children:"编码"}),y.jsx(z,{onClick:x,children:"解码"})]})}),y.jsx("div",{className:"mt-4",children:y.jsx(L,{title:"结果",text:a})})]})})};export{de as Component};

import{i as s,a as u}from"./index-D6fLMv29-CeGVhQwU.js";import{h as d,u as p,a as f}from"./index-DwPuSZv8.js";import{P as m,a as h,D as P,b as C}from"./index-i1pBeVdL.js";import"./pro-components-L2sDkqQs.js";import"./antd-Bzy0GL_f.js";import"./json-editor-CBqK5HSN.js";import"./md-editor-C6otpRZL.js";import"./ace-BbTluGSE.js";import"./index-08JC0wQa.js";function b(n){var e;return n.childCount<=1&&!((e=n.firstChild)!=null&&e.content.size)}function g(n,e){const{selection:r}=n;if(!r.empty)return null;const o=r.$anchor,t=o.parent;if(t.content.size>0||f(a=>a.type.name==="table")(o))return null;const c=o.before();return C.node(c,c+t.nodeSize,{class:"crepe-placeholder","data-placeholder":e})}const l=d({text:"Please enter...",mode:"block"},"placeholderConfigCtx"),y=p(n=>new m({key:new h("CREPE_PLACEHOLDER"),props:{decorations:e=>{var r;const o=n.get(l.key);if(o.mode==="doc"&&!b(e.doc)||s(e.selection)||u(e.selection))return null;const t=(r=o.text)!=null?r:"Please enter...",i=g(e,t);return i?P.create(e.doc,[i]):null}}})),w=(n,e)=>{n.config(r=>{e&&r.update(l.key,o=>({...o,...e}))}).use(y).use(l)};export{w as defineFeature,l as placeholderConfig,y as placeholderPlugin};

import{i as s,a as u}from"./index-D6fLMv29-CeGVhQwU.js";import{h as d,u as p,a as f}from"./index-BKZqlHfW.js";import{P as m,a as h,r as P,q as C}from"./index-CCHPmTqj.js";import"./pro-components-CPZIsSOc.js";import"./antd-Cl3cKmq-.js";import"./json-editor-D3HpTOiY.js";import"./syntax-2Kab1CR3.js";import"./index.browser-B0na17u1.js";import"./index-BUFMBfDr.js";function g(n){var e;return n.childCount<=1&&!((e=n.firstChild)!=null&&e.content.size)}function y(n,e){const{selection:r}=n;if(!r.empty)return null;const o=r.$anchor,t=o.parent;if(t.content.size>0||f(a=>a.type.name==="table")(o))return null;const c=o.before();return C.node(c,c+t.nodeSize,{class:"crepe-placeholder","data-placeholder":e})}const l=d({text:"Please enter...",mode:"block"},"placeholderConfigCtx"),b=p(n=>new m({key:new h("CREPE_PLACEHOLDER"),props:{decorations:e=>{var r;const o=n.get(l.key);if(o.mode==="doc"&&!g(e.doc)||s(e.selection)||u(e.selection))return null;const t=(r=o.text)!=null?r:"Please enter...",i=y(e,t);return i?P.create(e.doc,[i]):null}}})),w=(n,e)=>{n.config(r=>{e&&r.update(l.key,o=>({...o,...e}))}).use(b).use(l)};export{w as defineFeature,l as placeholderConfig,b as placeholderPlugin};

import{j as b,B as R}from"./index-f5efc014.js";import{r as y,_ as L}from"./ace-073628d1.js";import"./ext-searchbox-a35fb402.js";import"./mode-json-775dfcf6.js";import"./mode-json5-bb8ad950.js";import"./mode-yaml-51f49bee.js";import"./theme-monokai-06b92aea.js";import{f as B}from"./formatter-9cda844d.js";import{F as C,C as M}from"./index-17212553.js";import{S as A}from"./index-396364a4.js";import{B as j}from"./button-3dbedcc7.js";import"./standalone-ff0fb4dd.js";import"./row-b71c317c.js";import"./SearchOutlined-f09f35ab.js";var I={exports:{}};(function(_,F){ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(s,d,w){var h=s("../lib/oop"),f=s("./text_highlight_rules").TextHighlightRules,x=function(o){var u="[_:a-zA-ZÀ-￿][-_:.a-zA-Z0-9À-￿]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+u+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:u},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+u+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+u+":)?"+u+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:u},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===x&&this.normalizeRules()};(function(){this.embedTagRules=function(o,u,m){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+m+".tag-name.xml"],regex:"(<)("+m+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:u+"start"}]}),this.$rules[m+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(l,i,n){return n.splice(0),this.token}}],this.embedRules(o,u,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+m+".tag-name.xml"],regex:"(</)("+m+"(?=\\s|>|$))",next:m+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(f.prototype),h.inherits(x,f),d.XmlHighlightRules=x}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(s,d,w){var h=s("../../lib/oop"),f=s("../behaviour").Behaviour,x=s("../../token_iterator").TokenIterator;s("../../lib/lang");function o(m,l){return m&&m.type.lastIndexOf(l+".xml")>-1}var u=function(){this.add("string_dquotes","insertion",function(m,l,i,n,e){if(e=='"'||e=="'"){var t=e,a=n.doc.getTextRange(i.getSelectionRange());if(a!==""&&a!=="'"&&a!='"'&&i.getWrapBehavioursEnabled())return{text:t+a+t,selection:!1};var r=i.getCursorPosition(),c=n.doc.getLine(r.row),p=c.substring(r.column,r.column+1),k=new x(n,r.row,r.column),g=k.getCurrentToken();if(p==t&&(o(g,"attribute-value")||o(g,"string")))return{text:"",selection:[1,1]};if(g||(g=k.stepBackward()),!g)return;for(;o(g,"tag-whitespace")||o(g,"whitespace");)g=k.stepBackward();var v=!p||p.match(/\s/);if(o(g,"attribute-equals")&&(v||p==">")||o(g,"decl-attribute-equals")&&(v||p=="?"))return{text:t+t,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(m,l,i,n,e){var t=n.doc.getTextRange(e);if(!e.isMultiLine()&&(t=='"'||t=="'")){var a=n.doc.getLine(e.start.row),r=a.substring(e.start.column+1,e.start.column+2);if(r==t)return e.end.column++,e}}),this.add("autoclosing","insertion",function(m,l,i,n,e){if(e==">"){var t=i.getSelectionRange().start,a=new x(n,t.row,t.column),r=a.getCurrentToken()||a.stepBackward();if(!r||!(o(r,"tag-name")||o(r,"tag-whitespace")||o(r,"attribute-name")||o(r,"attribute-equals")||o(r,"attribute-value"))||o(r,"reference.attribute-value"))return;if(o(r,"attribute-value")){var c=a.getCurrentTokenColumn()+r.value.length;if(t.column<c)return;if(t.column==c){var p=a.stepForward();if(p&&o(p,"attribute-value"))return;a.stepBackward()}}if(/^\s*>/.test(n.getLine(t.row).slice(t.column)))return;for(;!o(r,"tag-name");)if(r=a.stepBackward(),r.value=="<"){r=a.stepForward();break}var k=a.getCurrentTokenRow(),g=a.getCurrentTokenColumn();if(o(a.stepBackward(),"end-tag-open"))return;var v=r.value;return k==t.row&&(v=v.substring(0,t.column-g)),this.voidElements.hasOwnProperty(v.toLowerCase())?void 0:{text:"></"+v+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(m,l,i,n,e){if(e==`
`){var t=i.getCursorPosition(),a=n.getLine(t.row),r=new x(n,t.row,t.column),c=r.getCurrentToken();if(c&&c.type.indexOf("tag-close")!==-1){if(c.value=="/>")return;for(;c&&c.type.indexOf("tag-name")===-1;)c=r.stepBackward();if(!c)return;var p=c.value,k=r.getCurrentTokenRow();if(c=r.stepBackward(),!c||c.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[p]){var g=n.getTokenAt(t.row,t.column+1),a=n.getLine(k),v=this.$getIndent(a),T=v+n.getTabString();return g&&g.value==="</"?{text:`
`+T+`
`+v,selection:[1,T.length,1,T.length]}:{text:`
`+T}}}}})};h.inherits(u,f),d.XmlBehaviour=u}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(s,d,w){var h=s("../../lib/oop"),f=s("../../range").Range,x=s("./fold_mode").FoldMode,o=d.FoldMode=function(l,i){x.call(this),this.voidElements=l||{},this.optionalEndTags=h.mixin({},this.voidElements),i&&h.mixin(this.optionalEndTags,i)};h.inherits(o,x);var u=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function m(l,i){return l.type.lastIndexOf(i+".xml")>-1}(function(){this.getFoldWidget=function(l,i,n){var e=this._getFirstTagInLine(l,n);return e?e.closing||!e.tagName&&e.selfClosing?i==="markbeginend"?"end":"":!e.tagName||e.selfClosing||this.voidElements.hasOwnProperty(e.tagName.toLowerCase())||this._findEndTagInLine(l,n,e.tagName,e.end.column)?"":"start":this.getCommentFoldWidget(l,n)},this.getCommentFoldWidget=function(l,i){return/comment/.test(l.getState(i))&&/<!-/.test(l.getLine(i))?"start":""},this._getFirstTagInLine=function(l,i){for(var n=l.getTokens(i),e=new u,t=0;t<n.length;t++){var a=n[t];if(m(a,"tag-open")){if(e.end.column=e.start.column+a.value.length,e.closing=m(a,"end-tag-open"),a=n[++t],!a)return null;for(e.tagName=a.value,e.end.column+=a.value.length,t++;t<n.length;t++)if(a=n[t],e.end.column+=a.value.length,m(a,"tag-close")){e.selfClosing=a.value=="/>";break}return e}else if(m(a,"tag-close"))return e.selfClosing=a.value=="/>",e;e.start.column+=a.value.length}return null},this._findEndTagInLine=function(l,i,n,e){for(var t=l.getTokens(i),a=0,r=0;r<t.length;r++){var c=t[r];if(a+=c.value.length,!(a<e)&&m(c,"end-tag-open")&&(c=t[r+1],c&&c.value==n))return!0}return!1},this.getFoldWidgetRange=function(l,i,n){var e=l.getMatchingTags({row:n,column:0});return e?new f(e.openTag.end.row,e.openTag.end.column,e.closeTag.start.row,e.closeTag.start.column):this.getCommentFoldWidget(l,n)&&l.getCommentFoldRange(n,l.getLine(n).length)}}).call(o.prototype)}),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],function(s,d,w){var h=s("../lib/oop"),f=s("../lib/lang"),x=s("./text").Mode,o=s("./xml_highlight_rules").XmlHighlightRules,u=s("./behaviour/xml").XmlBehaviour,m=s("./folding/xml").FoldMode,l=s("../worker/worker_client").WorkerClient,i=function(){this.HighlightRules=o,this.$behaviour=new u,this.foldingRules=new m};h.inherits(i,x),(function(){this.voidElements=f.arrayToMap([]),this.blockComment={start:"<!--",end:"-->"},this.createWorker=function(n){var e=new l(["ace"],"ace/mode/xml_worker","Worker");return e.attachToDocument(n.getDocument()),e.on("error",function(t){n.setAnnotations(t.data)}),e.on("terminate",function(){n.clearAnnotations()}),e},this.$id="ace/mode/xml"}).call(i.prototype),d.Mode=i}),function(){ace.require(["ace/mode/xml"],function(s){_&&(_.exports=s)})}()})(I);const U=()=>{const[_,F]=y.useState({useWorker:!1,showLineNumbers:!0,tabSize:2,wrap:!0,fontSize:14,theme:"ace/theme/monokai"}),[s,d]=y.useState(""),[w,h]=y.useState("json"),f=[{name:"formatter",bindKey:{win:"Ctrl-Alt-L",mac:"Command-Option-L"},exec:u=>{B(u.getValue(),w).then(m=>{d(m)})}}],x=u=>{d(u)},o=()=>{B(s,w).then(u=>{d(u)})};return b.jsxs(R,{sx:{height:"100%"},children:[b.jsx(R,{sx:{pt:2,pb:1,pl:1},children:b.jsxs(C,{onFinish:o,initialValues:{remember:!0},layout:"inline",children:[b.jsx(C.Item,{label:"类型",children:b.jsx(A,{defaultValue:w,onChange:u=>{h(u)},options:[{label:"JSON",value:"json"},{label:"JSON5",value:"json5"},{label:"YAML",value:"yaml"},{label:"XML",value:"xml"}],style:{width:100}})}),b.jsx(C.Item,{name:"remember",children:b.jsx(M,{checked:_.wrap,onChange:u=>{F({..._,wrap:u.target.checked})},children:"自动换行"})}),b.jsx(C.Item,{children:b.jsx(j,{type:"primary",htmlType:"submit",children:"格式化"})})]})}),b.jsx(L,{width:"100%",height:"calc(100% - 56px)",mode:w,onChange:x,name:"UNIQUE_ID_OF_DIV",setOptions:_,editorProps:{$blockScrolling:!0},value:s,commands:f})]})};export{U as default};
//# sourceMappingURL=page-0ec94c22.js.map

import{D as vC}from"./antd-Bzy0GL_f.js";import{i as Fi,b as Ma,a as Nn,S as Wo,c as Mi,W as Zx,d as As,e as fd,r as bl,f as Ss,s as q5,g as bC,h as su,j as Fs,k as dd,l as F5,m as Qo,n as Pa,o as xi,p as Fm,q as Os,M as yC,t as Um,u as ou,v as U5,w as hd,x as An,y as yc,z as us,A as xC,B as f1,C as wC,D as W5,E as jC,F as V5,G as au,H as Us,I as Vo,J as Wm,K as H5,L as K5,N as kC,O as G5,P as d1,Q as h1,R as SC,T as lu,U as CC,V as p1,X as Dp,Y as oi,Z as J5,_ as _C,$ as uu,a0 as cu,a1 as m1,a2 as g1,a3 as Y5,a4 as Q5,a5 as v1,a6 as AC,a7 as X5,a8 as OC,a9 as b1,aa as sv,ab as EC,ac as Yn,ad as ln,ae as MC}from"./pro-components-L2sDkqQs.js";const Z5="modulepreload",e8=function(t){return"/"+t},ew={},t8=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=e8(l),l in ew)return;ew[l]=!0;const f=l.endsWith(".css"),c=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":Z5,f||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),f)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var n8="[object Symbol]";function cs(t){return typeof t=="symbol"||Fi(t)&&Ma(t)==n8}var r8=NaN;function tw(t){return typeof t=="number"?t:cs(t)?r8:+t}function Gr(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var nw=Wo?Wo.prototype:void 0,rw=nw?nw.toString:void 0;function _s(t){if(typeof t=="string")return t;if(Nn(t))return Gr(t,_s)+"";if(cs(t))return rw?rw.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Vm(t,e){return function(n,r){var i;if(n===void 0&&r===void 0)return e;if(n!==void 0&&(i=n),r!==void 0){if(i===void 0)return r;typeof n=="string"||typeof r=="string"?(n=_s(n),r=_s(r)):(n=tw(n),r=tw(r)),i=t(n,r)}return i}}var PC=Vm(function(t,e){return t+e},0),i8=/\s/;function RC(t){for(var e=t.length;e--&&i8.test(t.charAt(e)););return e}var s8=/^\s+/;function TC(t){return t&&t.slice(0,RC(t)+1).replace(s8,"")}var iw=NaN,o8=/^[-+]0x[0-9a-f]+$/i,a8=/^0b[01]+$/i,l8=/^0o[0-7]+$/i,u8=parseInt;function Cs(t){if(typeof t=="number")return t;if(cs(t))return iw;if(Mi(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Mi(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=TC(t);var n=a8.test(t);return n||l8.test(t)?u8(t.slice(2),n?2:8):o8.test(t)?iw:+t}var c8=1/0,f8=17976931348623157e292;function Do(t){if(!t)return t===0?t:0;if(t=Cs(t),t===c8||t===-1/0){var e=t<0?-1:1;return e*f8}return t===t?t:0}function un(t){var e=Do(t),n=e%1;return e===e?n?e-n:e:0}var d8="Expected a function";function $C(t,e){if(typeof e!="function")throw new TypeError(d8);return t=un(t),function(){if(--t<1)return e.apply(this,arguments)}}var Lp=Zx&&new Zx,NC=Lp?function(t,e){return Lp.set(t,e),t}:As;function Af(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=fd(t.prototype),r=t.apply(n,e);return Mi(r)?r:n}}var h8=1;function p8(t,e,n){var r=e&h8,i=Af(t);function s(){var o=this&&this!==bl&&this instanceof s?i:t;return o.apply(r?n:this,arguments)}return s}var m8=Math.max;function IC(t,e,n,r){for(var i=-1,s=t.length,o=n.length,a=-1,l=e.length,f=m8(s-o,0),c=Array(l+f),d=!r;++a<l;)c[a]=e[a];for(;++i<o;)(d||i<s)&&(c[n[i]]=t[i]);for(;f--;)c[a++]=t[i++];return c}var g8=Math.max;function DC(t,e,n,r){for(var i=-1,s=t.length,o=-1,a=n.length,l=-1,f=e.length,c=g8(s-a,0),d=Array(c+f),h=!r;++i<c;)d[i]=t[i];for(var m=i;++l<f;)d[m+l]=e[l];for(;++o<a;)(h||i<s)&&(d[m+n[o]]=t[i++]);return d}function v8(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function Hm(){}var b8=4294967295;function qn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=b8,this.__views__=[]}qn.prototype=fd(Hm.prototype);qn.prototype.constructor=qn;function $r(){}var y1=Lp?function(t){return Lp.get(t)}:$r,qu={},y8=Object.prototype,x8=y8.hasOwnProperty;function yp(t){for(var e=t.name+"",n=qu[e],r=x8.call(qu,e)?n.length:0;r--;){var i=n[r],s=i.func;if(s==null||s==t)return i.name}return e}function Ws(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}Ws.prototype=fd(Hm.prototype);Ws.prototype.constructor=Ws;function LC(t){if(t instanceof qn)return t.clone();var e=new Ws(t.__wrapped__,t.__chain__);return e.__actions__=Ss(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var w8=Object.prototype,j8=w8.hasOwnProperty;function R(t){if(Fi(t)&&!Nn(t)&&!(t instanceof qn)){if(t instanceof Ws)return t;if(j8.call(t,"__wrapped__"))return LC(t)}return new Ws(t)}R.prototype=Hm.prototype;R.prototype.constructor=R;function x0(t){var e=yp(t),n=R[e];if(typeof n!="function"||!(e in qn.prototype))return!1;if(t===n)return!0;var r=y1(n);return!!r&&t===r[0]}var zC=q5(NC),k8=/\{\n\/\* \[wrapped with (.+)\] \*/,S8=/,? & /;function C8(t){var e=t.match(k8);return e?e[1].split(S8):[]}var _8=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function A8(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(_8,`{
/* [wrapped with `+e+`] */
`)}function Gs(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function Km(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function BC(t){return t!==t}function O8(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function xc(t,e,n){return e===e?O8(t,e,n):Km(t,BC,n)}function Gm(t,e){var n=t==null?0:t.length;return!!n&&xc(t,e,0)>-1}var E8=1,M8=2,P8=8,R8=16,T8=32,$8=64,N8=128,I8=256,D8=512,L8=[["ary",N8],["bind",E8],["bindKey",M8],["curry",P8],["curryRight",R8],["flip",D8],["partial",T8],["partialRight",$8],["rearg",I8]];function z8(t,e){return Gs(L8,function(n){var r="_."+n[0];e&n[1]&&!Gm(t,r)&&t.push(r)}),t.sort()}function qC(t,e,n){var r=e+"";return bC(t,A8(r,z8(C8(r),n)))}var B8=4,q8=8,sw=32,ow=64;function FC(t,e,n,r,i,s,o,a,l,f){var c=e&q8,d=c?o:void 0,h=c?void 0:o,m=c?s:void 0,p=c?void 0:s;e|=c?sw:ow,e&=~(c?ow:sw),e&B8||(e&=-4);var y=[t,e,i,m,d,p,h,a,l,f],g=n.apply(void 0,y);return x0(t)&&zC(g,y),g.placeholder=r,qC(g,t,e)}function wc(t){var e=t;return e.placeholder}var F8=Math.min;function U8(t,e){for(var n=t.length,r=F8(e.length,n),i=Ss(t);r--;){var s=e[r];t[r]=su(s,n)?i[s]:void 0}return t}var aw="__lodash_placeholder__";function il(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n];(o===e||o===aw)&&(t[n]=aw,s[i++]=n)}return s}var W8=1,V8=2,H8=8,K8=16,G8=128,J8=512;function Jm(t,e,n,r,i,s,o,a,l,f){var c=e&G8,d=e&W8,h=e&V8,m=e&(H8|K8),p=e&J8,y=h?void 0:Af(t);function g(){for(var b=arguments.length,v=Array(b),x=b;x--;)v[x]=arguments[x];if(m)var j=wc(g),w=v8(v,j);if(r&&(v=IC(v,r,i,m)),s&&(v=DC(v,s,o,m)),b-=w,m&&b<f){var k=il(v,j);return FC(t,e,Jm,g.placeholder,n,v,k,a,l,f-b)}var S=d?n:this,M=h?S[t]:t;return b=v.length,a?v=U8(v,a):p&&b>1&&v.reverse(),c&&l<b&&(v.length=l),this&&this!==bl&&this instanceof g&&(M=y||Af(M)),M.apply(S,v)}return g}function Y8(t,e,n){var r=Af(t);function i(){for(var s=arguments.length,o=Array(s),a=s,l=wc(i);a--;)o[a]=arguments[a];var f=s<3&&o[0]!==l&&o[s-1]!==l?[]:il(o,l);if(s-=f.length,s<n)return FC(t,e,Jm,i.placeholder,void 0,o,f,void 0,void 0,n-s);var c=this&&this!==bl&&this instanceof i?r:t;return Fs(c,this,o)}return i}var Q8=1;function X8(t,e,n,r){var i=e&Q8,s=Af(t);function o(){for(var a=-1,l=arguments.length,f=-1,c=r.length,d=Array(c+l),h=this&&this!==bl&&this instanceof o?s:t;++f<c;)d[f]=r[f];for(;l--;)d[f++]=arguments[++a];return Fs(h,i?n:this,d)}return o}var lw="__lodash_placeholder__",ov=1,Z8=2,e6=4,uw=8,Kc=128,cw=256,t6=Math.min;function n6(t,e){var n=t[1],r=e[1],i=n|r,s=i<(ov|Z8|Kc),o=r==Kc&&n==uw||r==Kc&&n==cw&&t[7].length<=e[8]||r==(Kc|cw)&&e[7].length<=e[8]&&n==uw;if(!(s||o))return t;r&ov&&(t[2]=e[2],i|=n&ov?0:e6);var a=e[3];if(a){var l=t[3];t[3]=l?IC(l,a,e[4]):a,t[4]=l?il(t[3],lw):e[4]}return a=e[5],a&&(l=t[5],t[5]=l?DC(l,a,e[6]):a,t[6]=l?il(t[5],lw):e[6]),a=e[7],a&&(t[7]=a),r&Kc&&(t[8]=t[8]==null?e[8]:t6(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}var r6="Expected a function",fw=1,i6=2,dw=8,hw=16,pw=32,s6=64,mw=Math.max;function Ra(t,e,n,r,i,s,o,a){var l=e&i6;if(!l&&typeof t!="function")throw new TypeError(r6);var f=r?r.length:0;if(f||(e&=-97,r=i=void 0),o=o===void 0?o:mw(un(o),0),a=a===void 0?a:un(a),f-=i?i.length:0,e&s6){var c=r,d=i;r=i=void 0}var h=l?void 0:y1(t),m=[t,e,n,r,i,c,d,s,o,a];if(h&&n6(m,h),t=m[0],e=m[1],n=m[2],r=m[3],i=m[4],a=m[9]=m[9]===void 0?l?0:t.length:mw(m[9]-f,0),!a&&e&(dw|hw)&&(e&=-25),!e||e==fw)var p=p8(t,e,n);else e==dw||e==hw?p=Y8(t,e,a):(e==pw||e==(fw|pw))&&!i.length?p=X8(t,e,n,r):p=Jm.apply(void 0,m);var y=h?NC:zC;return qC(y(p,m),t,e)}var o6=128;function x1(t,e,n){return e=n?void 0:e,e=t&&e==null?t.length:e,Ra(t,o6,void 0,void 0,void 0,void 0,e)}var a6=Object.prototype,l6=a6.hasOwnProperty,UC=dd(function(t,e){if(F5(e)||Qo(e)){Pa(e,xi(e),t);return}for(var n in e)l6.call(e,n)&&Fm(t,n,e[n])}),w0=dd(function(t,e){Pa(e,Os(e),t)}),Of=dd(function(t,e,n,r){Pa(e,Os(e),t,r)}),WC=dd(function(t,e,n,r){Pa(e,xi(e),t,r)}),u6=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c6=/^\w*$/;function w1(t,e){if(Nn(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||cs(t)?!0:c6.test(t)||!u6.test(t)||e!=null&&t in Object(e)}var f6="Expected a function";function pd(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(f6);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(pd.Cache||yC),n}pd.Cache=yC;var d6=500;function h6(t){var e=pd(t,function(r){return n.size===d6&&n.clear(),r}),n=e.cache;return e}var p6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m6=/\\(\\)?/g,VC=h6(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(p6,function(n,r,i,s){e.push(i?s.replace(m6,"$1"):r||n)}),e});function ar(t){return t==null?"":_s(t)}function yl(t,e){return Nn(t)?t:w1(t,e)?[t]:VC(ar(t))}function Xo(t){if(typeof t=="string"||cs(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function fu(t,e){e=yl(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Xo(e[n++])];return n&&n==r?t:void 0}function Ym(t,e,n){var r=t==null?void 0:fu(t,e);return r===void 0?n:r}function j1(t,e){for(var n=-1,r=e.length,i=Array(r),s=t==null;++n<r;)i[n]=s?void 0:Ym(t,e[n]);return i}var gw=Wo?Wo.isConcatSpreadable:void 0;function g6(t){return Nn(t)||Um(t)||!!(gw&&t&&t[gw])}function Ri(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=g6),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?Ri(a,e-1,n,r,i):ou(i,a):r||(i[i.length]=a)}return i}function k1(t){var e=t==null?0:t.length;return e?Ri(t,1):[]}function Ta(t){return bC(U5(t,void 0,k1),t+"")}var HC=Ta(j1),v6="[object DOMException]",b6="[object Error]";function Qm(t){if(!Fi(t))return!1;var e=Ma(t);return e==b6||e==v6||typeof t.message=="string"&&typeof t.name=="string"&&!hd(t)}var S1=An(function(t,e){try{return Fs(t,void 0,e)}catch(n){return Qm(n)?n:new Error(n)}}),y6="Expected a function";function C1(t,e){var n;if(typeof e!="function")throw new TypeError(y6);return t=un(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var x6=1,w6=32,md=An(function(t,e,n){var r=x6;if(n.length){var i=il(n,wc(md));r|=w6}return Ra(t,r,e,n,i)});md.placeholder={};var KC=Ta(function(t,e){return Gs(e,function(n){n=Xo(n),yc(t,n,md(t[n],t))}),t}),j6=1,k6=2,S6=32,Xm=An(function(t,e,n){var r=j6|k6;if(n.length){var i=il(n,wc(Xm));r|=S6}return Ra(e,r,t,n,i)});Xm.placeholder={};function Vs(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function xl(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Vs(t,e,n)}var C6="\\ud800-\\udfff",_6="\\u0300-\\u036f",A6="\\ufe20-\\ufe2f",O6="\\u20d0-\\u20ff",E6=_6+A6+O6,M6="\\ufe0e\\ufe0f",P6="\\u200d",R6=RegExp("["+P6+C6+E6+M6+"]");function jc(t){return R6.test(t)}function T6(t){return t.split("")}var GC="\\ud800-\\udfff",$6="\\u0300-\\u036f",N6="\\ufe20-\\ufe2f",I6="\\u20d0-\\u20ff",D6=$6+N6+I6,L6="\\ufe0e\\ufe0f",z6="["+GC+"]",j0="["+D6+"]",k0="\\ud83c[\\udffb-\\udfff]",B6="(?:"+j0+"|"+k0+")",JC="[^"+GC+"]",YC="(?:\\ud83c[\\udde6-\\uddff]){2}",QC="[\\ud800-\\udbff][\\udc00-\\udfff]",q6="\\u200d",XC=B6+"?",ZC="["+L6+"]?",F6="(?:"+q6+"(?:"+[JC,YC,QC].join("|")+")"+ZC+XC+")*",U6=ZC+XC+F6,W6="(?:"+[JC+j0+"?",j0,YC,QC,z6].join("|")+")",V6=RegExp(k0+"(?="+k0+")|"+W6+U6,"g");function H6(t){return t.match(V6)||[]}function mo(t){return jc(t)?H6(t):T6(t)}function e4(t){return function(e){e=ar(e);var n=jc(e)?mo(e):void 0,r=n?n[0]:e.charAt(0),i=n?xl(n,1).join(""):e.slice(1);return r[t]()+i}}var Zm=e4("toUpperCase");function _1(t){return Zm(ar(t).toLowerCase())}function A1(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function O1(t){return function(e){return t==null?void 0:t[e]}}var K6={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},G6=O1(K6),J6=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Y6="\\u0300-\\u036f",Q6="\\ufe20-\\ufe2f",X6="\\u20d0-\\u20ff",Z6=Y6+Q6+X6,e$="["+Z6+"]",t$=RegExp(e$,"g");function E1(t){return t=ar(t),t&&t.replace(J6,G6).replace(t$,"")}var n$=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function r$(t){return t.match(n$)||[]}var i$=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function s$(t){return i$.test(t)}var t4="\\ud800-\\udfff",o$="\\u0300-\\u036f",a$="\\ufe20-\\ufe2f",l$="\\u20d0-\\u20ff",u$=o$+a$+l$,n4="\\u2700-\\u27bf",r4="a-z\\xdf-\\xf6\\xf8-\\xff",c$="\\xac\\xb1\\xd7\\xf7",f$="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",d$="\\u2000-\\u206f",h$=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i4="A-Z\\xc0-\\xd6\\xd8-\\xde",p$="\\ufe0e\\ufe0f",s4=c$+f$+d$+h$,o4="['’]",vw="["+s4+"]",m$="["+u$+"]",a4="\\d+",g$="["+n4+"]",l4="["+r4+"]",u4="[^"+t4+s4+a4+n4+r4+i4+"]",v$="\\ud83c[\\udffb-\\udfff]",b$="(?:"+m$+"|"+v$+")",y$="[^"+t4+"]",c4="(?:\\ud83c[\\udde6-\\uddff]){2}",f4="[\\ud800-\\udbff][\\udc00-\\udfff]",Cu="["+i4+"]",x$="\\u200d",bw="(?:"+l4+"|"+u4+")",w$="(?:"+Cu+"|"+u4+")",yw="(?:"+o4+"(?:d|ll|m|re|s|t|ve))?",xw="(?:"+o4+"(?:D|LL|M|RE|S|T|VE))?",d4=b$+"?",h4="["+p$+"]?",j$="(?:"+x$+"(?:"+[y$,c4,f4].join("|")+")"+h4+d4+")*",k$="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",S$="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",C$=h4+d4+j$,_$="(?:"+[g$,c4,f4].join("|")+")"+C$,A$=RegExp([Cu+"?"+l4+"+"+yw+"(?="+[vw,Cu,"$"].join("|")+")",w$+"+"+xw+"(?="+[vw,Cu+bw,"$"].join("|")+")",Cu+"?"+bw+"+"+yw,Cu+"+"+xw,S$,k$,a4,_$].join("|"),"g");function O$(t){return t.match(A$)||[]}function M1(t,e,n){return t=ar(t),e=n?void 0:e,e===void 0?s$(t)?O$(t):r$(t):t.match(e)||[]}var E$="['’]",M$=RegExp(E$,"g");function kc(t){return function(e){return A1(M1(E1(e).replace(M$,"")),t,"")}}var p4=kc(function(t,e,n){return e=e.toLowerCase(),t+(n?_1(e):e)});function m4(){if(!arguments.length)return[];var t=arguments[0];return Nn(t)?t:[t]}var P$=bl.isFinite,R$=Math.min;function P1(t){var e=Math[t];return function(n,r){if(n=Cs(n),r=r==null?0:R$(un(r),292),r&&P$(n)){var i=(ar(n)+"e").split("e"),s=e(i[0]+"e"+(+i[1]+r));return i=(ar(s)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return e(n)}}var g4=P1("ceil");function R1(t){var e=R(t);return e.__chain__=!0,e}var T$=Math.ceil,$$=Math.max;function v4(t,e,n){(n?us(t,e,n):e===void 0)?e=1:e=$$(un(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var i=0,s=0,o=Array(T$(r/e));i<r;)o[s++]=Vs(t,i,i+=e);return o}function du(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function b4(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=Cs(n),n=n===n?n:0),e!==void 0&&(e=Cs(e),e=e===e?e:0),du(Cs(t),e,n)}function y4(t,e){return t&&Pa(e,xi(e),t)}function N$(t,e){return t&&Pa(e,Os(e),t)}function I$(t,e){return Pa(t,xC(t),e)}var D$=Object.getOwnPropertySymbols,x4=D$?function(t){for(var e=[];t;)ou(e,xC(t)),t=wC(t);return e}:f1;function L$(t,e){return Pa(t,x4(t),e)}function T1(t){return W5(t,Os,x4)}var z$=Object.prototype,B$=z$.hasOwnProperty;function q$(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&B$.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function F$(t,e){var n=e?jC(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var U$=/\w*$/;function W$(t){var e=new t.constructor(t.source,U$.exec(t));return e.lastIndex=t.lastIndex,e}var ww=Wo?Wo.prototype:void 0,jw=ww?ww.valueOf:void 0;function V$(t){return jw?Object(jw.call(t)):{}}var H$="[object Boolean]",K$="[object Date]",G$="[object Map]",J$="[object Number]",Y$="[object RegExp]",Q$="[object Set]",X$="[object String]",Z$="[object Symbol]",e9="[object ArrayBuffer]",t9="[object DataView]",n9="[object Float32Array]",r9="[object Float64Array]",i9="[object Int8Array]",s9="[object Int16Array]",o9="[object Int32Array]",a9="[object Uint8Array]",l9="[object Uint8ClampedArray]",u9="[object Uint16Array]",c9="[object Uint32Array]";function f9(t,e,n){var r=t.constructor;switch(e){case e9:return jC(t);case H$:case K$:return new r(+t);case t9:return F$(t,n);case n9:case r9:case i9:case s9:case o9:case a9:case l9:case u9:case c9:return V5(t,n);case G$:return new r;case J$:case X$:return new r(t);case Y$:return W$(t);case Q$:return new r;case Z$:return V$(t)}}var d9="[object Map]";function h9(t){return Fi(t)&&au(t)==d9}var kw=Vo&&Vo.isMap,$1=kw?Us(kw):h9,p9="[object Set]";function m9(t){return Fi(t)&&au(t)==p9}var Sw=Vo&&Vo.isSet,N1=Sw?Us(Sw):m9,g9=1,v9=2,b9=4,w4="[object Arguments]",y9="[object Array]",x9="[object Boolean]",w9="[object Date]",j9="[object Error]",j4="[object Function]",k9="[object GeneratorFunction]",S9="[object Map]",C9="[object Number]",k4="[object Object]",_9="[object RegExp]",A9="[object Set]",O9="[object String]",E9="[object Symbol]",M9="[object WeakMap]",P9="[object ArrayBuffer]",R9="[object DataView]",T9="[object Float32Array]",$9="[object Float64Array]",N9="[object Int8Array]",I9="[object Int16Array]",D9="[object Int32Array]",L9="[object Uint8Array]",z9="[object Uint8ClampedArray]",B9="[object Uint16Array]",q9="[object Uint32Array]",Tr={};Tr[w4]=Tr[y9]=Tr[P9]=Tr[R9]=Tr[x9]=Tr[w9]=Tr[T9]=Tr[$9]=Tr[N9]=Tr[I9]=Tr[D9]=Tr[S9]=Tr[C9]=Tr[k4]=Tr[_9]=Tr[A9]=Tr[O9]=Tr[E9]=Tr[L9]=Tr[z9]=Tr[B9]=Tr[q9]=!0;Tr[j9]=Tr[j4]=Tr[M9]=!1;function Ls(t,e,n,r,i,s){var o,a=e&g9,l=e&v9,f=e&b9;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Mi(t))return t;var c=Nn(t);if(c){if(o=q$(t),!a)return Ss(t,o)}else{var d=au(t),h=d==j4||d==k9;if(Wm(t))return H5(t,a);if(d==k4||d==w4||h&&!i){if(o=l||h?{}:K5(t),!a)return l?L$(t,N$(o,t)):I$(t,y4(o,t))}else{if(!Tr[d])return i?t:{};o=f9(t,d,a)}}s||(s=new kC);var m=s.get(t);if(m)return m;s.set(t,o),N1(t)?t.forEach(function(g){o.add(Ls(g,e,n,g,t,s))}):$1(t)&&t.forEach(function(g,b){o.set(b,Ls(g,e,n,b,t,s))});var p=f?l?T1:G5:l?Os:xi,y=c?void 0:p(t);return Gs(y||t,function(g,b){y&&(b=g,g=t[b]),Fm(o,b,Ls(g,e,n,b,t,s))}),o}var F9=4;function S4(t){return Ls(t,F9)}var U9=1,W9=4;function Ef(t){return Ls(t,U9|W9)}var V9=1,H9=4;function I1(t,e){return e=typeof e=="function"?e:void 0,Ls(t,V9|H9,e)}var K9=4;function C4(t,e){return e=typeof e=="function"?e:void 0,Ls(t,K9,e)}function S0(){return new Ws(this.value(),this.__chain__)}function _4(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}function A4(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return ou(Nn(n)?Ss(n):[n],Ri(e,1))}var G9=1,J9=2;function D1(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],f=t[l],c=a[1];if(o&&a[2]){if(f===void 0&&!(l in t))return!1}else{var d=new kC;if(r)var h=r(f,c,l,t,e,d);if(!(h===void 0?d1(c,f,G9|J9,r,d):h))return!1}}return!0}function O4(t){return t===t&&!Mi(t)}function L1(t){for(var e=xi(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,O4(i)]}return e}function E4(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function M4(t){var e=L1(t);return e.length==1&&e[0][2]?E4(e[0][0],e[0][1]):function(n){return n===t||D1(n,t,e)}}function Y9(t,e){return t!=null&&e in Object(t)}function P4(t,e,n){e=yl(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Xo(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&h1(i)&&su(o,i)&&(Nn(t)||Um(t)))}function eg(t,e){return t!=null&&P4(t,e,Y9)}var Q9=1,X9=2;function R4(t,e){return w1(t)&&O4(e)?E4(Xo(t),e):function(n){var r=Ym(n,t);return r===void 0&&r===e?eg(n,t):d1(e,r,Q9|X9)}}function z1(t){return function(e){return e==null?void 0:e[t]}}function Z9(t){return function(e){return fu(e,t)}}function B1(t){return w1(t)?z1(Xo(t)):Z9(t)}function Zt(t){return typeof t=="function"?t:t==null?As:typeof t=="object"?Nn(t)?R4(t[0],t[1]):M4(t):B1(t)}var eN="Expected a function";function T4(t){var e=t==null?0:t.length,n=Zt;return t=e?Gr(t,function(r){if(typeof r[1]!="function")throw new TypeError(eN);return[n(r[0]),r[1]]}):[],An(function(r){for(var i=-1;++i<e;){var s=t[i];if(Fs(s[0],this,r))return Fs(s[1],this,r)}})}function $4(t,e,n){var r=n.length;if(t==null)return!r;for(t=Object(t);r--;){var i=n[r],s=e[i],o=t[i];if(o===void 0&&!(i in t)||!s(o))return!1}return!0}function tN(t){var e=xi(t);return function(n){return $4(n,t,e)}}var nN=1;function N4(t){return tN(Ls(t,nN))}function I4(t,e){return e==null||$4(t,e,xi(e))}function rN(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function Zo(t,e){return t&&SC(t,e,xi)}function D4(t,e){return function(n,r){if(n==null)return n;if(!Qo(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var wl=D4(Zo);function iN(t,e,n,r){return wl(t,function(i,s,o){e(r,i,n(i),o)}),r}function tg(t,e){return function(n,r){var i=Nn(n)?rN:iN,s=e?e():{};return i(n,t,Zt(r),s)}}var sN=Object.prototype,oN=sN.hasOwnProperty,L4=tg(function(t,e,n){oN.call(t,n)?++t[n]:yc(t,n,1)});function z4(t,e){var n=fd(t);return e==null?n:y4(n,e)}var aN=8;function ng(t,e,n){e=n?void 0:e;var r=Ra(t,aN,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=ng.placeholder,r}ng.placeholder={};var lN=16;function rg(t,e,n){e=n?void 0:e;var r=Ra(t,lN,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=rg.placeholder,r}rg.placeholder={};var yf=function(){return bl.Date.now()},uN="Expected a function",cN=Math.max,fN=Math.min;function Hl(t,e,n){var r,i,s,o,a,l,f=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(uN);e=Cs(e)||0,Mi(n)&&(c=!!n.leading,d="maxWait"in n,s=d?cN(Cs(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function m(k){var S=r,M=i;return r=i=void 0,f=k,o=t.apply(M,S),o}function p(k){return f=k,a=setTimeout(b,e),c?m(k):o}function y(k){var S=k-l,M=k-f,E=e-S;return d?fN(E,s-M):E}function g(k){var S=k-l,M=k-f;return l===void 0||S>=e||S<0||d&&M>=s}function b(){var k=yf();if(g(k))return v(k);a=setTimeout(b,y(k))}function v(k){return a=void 0,h&&r?m(k):(r=i=void 0,o)}function x(){a!==void 0&&clearTimeout(a),f=0,r=l=i=a=void 0}function j(){return a===void 0?o:v(yf())}function w(){var k=yf(),S=g(k);if(r=arguments,i=this,l=k,S){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(b,e),m(l)}return a===void 0&&(a=setTimeout(b,e)),o}return w.cancel=x,w.flush=j,w}function B4(t,e){return t==null||t!==t?e:t}var q4=Object.prototype,dN=q4.hasOwnProperty,F4=An(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&us(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=Os(s),a=-1,l=o.length;++a<l;){var f=o[a],c=t[f];(c===void 0||lu(c,q4[f])&&!dN.call(t,f))&&(t[f]=s[f])}return t});function U4(t,e,n,r,i,s){return Mi(t)&&Mi(e)&&(s.set(e,t),CC(t,e,void 0,U4,s),s.delete(e)),t}var q1=dd(function(t,e,n,r){CC(t,e,n,r)}),W4=An(function(t){return t.push(void 0,U4),Fs(q1,void 0,t)}),hN="Expected a function";function V4(t,e,n){if(typeof t!="function")throw new TypeError(hN);return setTimeout(function(){t.apply(void 0,n)},e)}var H4=An(function(t,e){return V4(t,1,e)}),K4=An(function(t,e,n){return V4(t,Cs(e)||0,n)});function F1(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var pN=200;function gd(t,e,n,r){var i=-1,s=Gm,o=!0,a=t.length,l=[],f=e.length;if(!a)return l;n&&(e=Gr(e,Us(n))),r?(s=F1,o=!1):e.length>=pN&&(s=Dp,o=!1,e=new p1(e));e:for(;++i<a;){var c=t[i],d=n==null?c:n(c);if(c=r||c!==0?c:0,o&&d===d){for(var h=f;h--;)if(e[h]===d)continue e;l.push(c)}else s(e,d,r)||l.push(c)}return l}var G4=An(function(t,e){return oi(t)?gd(t,Ri(e,1,oi,!0)):[]});function Et(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var J4=An(function(t,e){var n=Et(e);return oi(n)&&(n=void 0),oi(t)?gd(t,Ri(e,1,oi,!0),Zt(n)):[]}),Y4=An(function(t,e){var n=Et(e);return oi(n)&&(n=void 0),oi(t)?gd(t,Ri(e,1,oi,!0),void 0,n):[]}),Q4=Vm(function(t,e){return t/e},1);function X4(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:un(e),Vs(t,e<0?0:e,r)):[]}function Z4(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:un(e),e=r-e,Vs(t,0,e<0?0:e)):[]}function ig(t,e,n,r){for(var i=t.length,s=r?i:-1;(r?s--:++s<i)&&e(t[s],s,t););return n?Vs(t,r?0:s,r?s+1:i):Vs(t,r?s+1:0,r?i:s)}function e_(t,e){return t&&t.length?ig(t,Zt(e),!0,!0):[]}function t_(t,e){return t&&t.length?ig(t,Zt(e),!0):[]}function ea(t){return typeof t=="function"?t:As}function C0(t,e){var n=Nn(t)?Gs:wl;return n(t,ea(e))}function mN(t,e){for(var n=t==null?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}var n_=J5(!0);function U1(t,e){return t&&n_(t,e,xi)}var r_=D4(U1,!0);function zp(t,e){var n=Nn(t)?mN:r_;return n(t,ea(e))}function i_(t,e,n){t=ar(t),e=_s(e);var r=t.length;n=n===void 0?r:du(un(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function gN(t,e){return Gr(e,function(n){return[n,t[n]]})}function vN(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=[r,r]}),n}var bN="[object Map]",yN="[object Set]";function s_(t){return function(e){var n=au(e);return n==bN?_C(e):n==yN?vN(e):gN(e,t(e))}}var _0=s_(xi),A0=s_(Os),xN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wN=O1(xN),o_=/[&<>"']/g,jN=RegExp(o_.source);function W1(t){return t=ar(t),t&&jN.test(t)?t.replace(o_,wN):t}var a_=/[\\^$.*+?()[\]{}|]/g,kN=RegExp(a_.source);function l_(t){return t=ar(t),t&&kN.test(t)?t.replace(a_,"\\$&"):t}function u_(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function SN(t,e){var n=!0;return wl(t,function(r,i,s){return n=!!e(r,i,s),n}),n}function c_(t,e,n){var r=Nn(t)?u_:SN;return n&&us(t,e,n)&&(e=void 0),r(t,Zt(e))}var CN=4294967295;function V1(t){return t?du(un(t),0,CN):0}function _N(t,e,n,r){var i=t.length;for(n=un(n),n<0&&(n=-n>i?0:i+n),r=r===void 0||r>i?i:un(r),r<0&&(r+=i),r=n>r?0:V1(r);n<r;)t[n++]=e;return t}function f_(t,e,n,r){var i=t==null?0:t.length;return i?(n&&typeof n!="number"&&us(t,e,n)&&(n=0,r=i),_N(t,e,n,r)):[]}function d_(t,e){var n=[];return wl(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function h_(t,e){var n=Nn(t)?uu:d_;return n(t,Zt(e))}function p_(t){return function(e,n,r){var i=Object(e);if(!Qo(e)){var s=Zt(n);e=xi(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var AN=Math.max;function H1(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:un(n);return i<0&&(i=AN(r+i,0)),Km(t,Zt(e),i)}var m_=p_(H1);function g_(t,e,n){var r;return n(t,function(i,s,o){if(e(i,s,o))return r=s,!1}),r}function v_(t,e){return g_(t,Zt(e),Zo)}var ON=Math.max,EN=Math.min;function K1(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=r-1;return n!==void 0&&(i=un(n),i=n<0?ON(r+i,0):EN(i,r-1)),Km(t,Zt(e),i,!0)}var b_=p_(K1);function y_(t,e){return g_(t,Zt(e),U1)}function zs(t){return t&&t.length?t[0]:void 0}function x_(t,e){var n=-1,r=Qo(t)?Array(t.length):[];return wl(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function Sc(t,e){var n=Nn(t)?Gr:x_;return n(t,Zt(e))}function w_(t,e){return Ri(Sc(t,e),1)}var MN=1/0;function j_(t,e){return Ri(Sc(t,e),MN)}function k_(t,e,n){return n=n===void 0?1:un(n),Ri(Sc(t,e),n)}var PN=1/0;function S_(t){var e=t==null?0:t.length;return e?Ri(t,PN):[]}function C_(t,e){var n=t==null?0:t.length;return n?(e=e===void 0?1:un(e),Ri(t,e)):[]}var RN=512;function __(t){return Ra(t,RN)}var A_=P1("floor"),TN="Expected a function",$N=8,NN=32,IN=128,DN=256;function O_(t){return Ta(function(e){var n=e.length,r=n,i=Ws.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if(typeof s!="function")throw new TypeError(TN);if(i&&!o&&yp(s)=="wrapper")var o=new Ws([],!0)}for(r=o?r:n;++r<n;){s=e[r];var a=yp(s),l=a=="wrapper"?y1(s):void 0;l&&x0(l[0])&&l[1]==(IN|$N|NN|DN)&&!l[4].length&&l[9]==1?o=o[yp(l[0])].apply(o,l[3]):o=s.length==1&&x0(s)?o[a]():o.thru(s)}return function(){var f=arguments,c=f[0];if(o&&f.length==1&&Nn(c))return o.plant(c).value();for(var d=0,h=n?e[d].apply(this,f):c;++d<n;)h=e[d].call(this,h);return h}})}var E_=O_(),M_=O_(!0);function P_(t,e){return t==null?t:SC(t,ea(e),Os)}function R_(t,e){return t==null?t:n_(t,ea(e),Os)}function T_(t,e){return t&&Zo(t,ea(e))}function $_(t,e){return t&&U1(t,ea(e))}function N_(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function sg(t,e){return uu(e,function(n){return cu(t[n])})}function I_(t){return t==null?[]:sg(t,xi(t))}function D_(t){return t==null?[]:sg(t,Os(t))}var LN=Object.prototype,zN=LN.hasOwnProperty,G1=tg(function(t,e,n){zN.call(t,n)?t[n].push(e):yc(t,n,[e])});function J1(t,e){return t>e}function og(t){return function(e,n){return typeof e=="string"&&typeof n=="string"||(e=Cs(e),n=Cs(n)),t(e,n)}}var L_=og(J1),z_=og(function(t,e){return t>=e}),BN=Object.prototype,qN=BN.hasOwnProperty;function FN(t,e){return t!=null&&qN.call(t,e)}function B_(t,e){return t!=null&&P4(t,e,FN)}var UN=Math.max,WN=Math.min;function VN(t,e,n){return t>=WN(e,n)&&t<UN(e,n)}function q_(t,e,n){return e=Do(e),n===void 0?(n=e,e=0):n=Do(n),t=Cs(t),VN(t,e,n)}var HN="[object String]";function vd(t){return typeof t=="string"||!Nn(t)&&Fi(t)&&Ma(t)==HN}function Y1(t,e){return Gr(e,function(n){return t[n]})}function hu(t){return t==null?[]:Y1(t,xi(t))}var KN=Math.max;function F_(t,e,n,r){t=Qo(t)?t:hu(t),n=n&&!r?un(n):0;var i=t.length;return n<0&&(n=KN(i+n,0)),vd(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&xc(t,e,n)>-1}var GN=Math.max;function U_(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:un(n);return i<0&&(i=GN(r+i,0)),xc(t,e,i)}function hn(t){var e=t==null?0:t.length;return e?Vs(t,0,-1):[]}var JN=Math.min;function Q1(t,e,n){for(var r=n?F1:Gm,i=t[0].length,s=t.length,o=s,a=Array(s),l=1/0,f=[];o--;){var c=t[o];o&&e&&(c=Gr(c,Us(e))),l=JN(c.length,l),a[o]=!n&&(e||i>=120&&c.length>=120)?new p1(o&&c):void 0}c=t[0];var d=-1,h=a[0];e:for(;++d<i&&f.length<l;){var m=c[d],p=e?e(m):m;if(m=n||m!==0?m:0,!(h?Dp(h,p):r(f,p,n))){for(o=s;--o;){var y=a[o];if(!(y?Dp(y,p):r(t[o],p,n)))continue e}h&&h.push(p),f.push(m)}}return f}function X1(t){return oi(t)?t:[]}var W_=An(function(t){var e=Gr(t,X1);return e.length&&e[0]===t[0]?Q1(e):[]}),V_=An(function(t){var e=Et(t),n=Gr(t,X1);return e===Et(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?Q1(n,Zt(e)):[]}),H_=An(function(t){var e=Et(t),n=Gr(t,X1);return e=typeof e=="function"?e:void 0,e&&n.pop(),n.length&&n[0]===t[0]?Q1(n,void 0,e):[]});function YN(t,e,n,r){return Zo(t,function(i,s,o){e(r,n(i),s,o)}),r}function K_(t,e){return function(n,r){return YN(n,t,e(r),{})}}var QN=Object.prototype,XN=QN.toString,G_=K_(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=XN.call(e)),t[e]=n},m1(As)),J_=Object.prototype,ZN=J_.hasOwnProperty,eI=J_.toString,Y_=K_(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=eI.call(e)),ZN.call(t,e)?t[e].push(n):t[e]=[n]},Zt);function Q_(t,e){return e.length<2?t:fu(t,Vs(e,0,-1))}function bd(t,e,n){e=yl(e,t),t=Q_(t,e);var r=t==null?t:t[Xo(Et(e))];return r==null?void 0:Fs(r,t,n)}var X_=An(bd),Z_=An(function(t,e,n){var r=-1,i=typeof e=="function",s=Qo(t)?Array(t.length):[];return wl(t,function(o){s[++r]=i?Fs(e,o,n):bd(o,e,n)}),s}),tI="[object ArrayBuffer]";function nI(t){return Fi(t)&&Ma(t)==tI}var Cw=Vo&&Vo.isArrayBuffer,eA=Cw?Us(Cw):nI,rI="[object Boolean]";function tA(t){return t===!0||t===!1||Fi(t)&&Ma(t)==rI}var iI="[object Date]";function sI(t){return Fi(t)&&Ma(t)==iI}var _w=Vo&&Vo.isDate,nA=_w?Us(_w):sI;function rA(t){return Fi(t)&&t.nodeType===1&&!hd(t)}function iA(t,e,n){n=typeof n=="function"?n:void 0;var r=n?n(t,e):void 0;return r===void 0?d1(t,e,void 0,n):!!r}var oI=bl.isFinite;function sA(t){return typeof t=="number"&&oI(t)}function Z1(t){return typeof t=="number"&&t==un(t)}function oA(t,e){return t===e||D1(t,e,L1(e))}function aA(t,e,n){return n=typeof n=="function"?n:void 0,D1(t,e,L1(e),n)}var aI="[object Number]";function ey(t){return typeof t=="number"||Fi(t)&&Ma(t)==aI}function lA(t){return ey(t)&&t!=+t}var lI=Y5?cu:g1,uI="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function uA(t){if(lI(t))throw new Error(uI);return Q5(t)}function cA(t){return t==null}function fA(t){return t===null}var cI="[object RegExp]";function fI(t){return Fi(t)&&Ma(t)==cI}var Aw=Vo&&Vo.isRegExp,ag=Aw?Us(Aw):fI,dI=9007199254740991;function dA(t){return Z1(t)&&t>=-9007199254740991&&t<=dI}function hA(t){return t===void 0}var hI="[object WeakMap]";function pA(t){return Fi(t)&&au(t)==hI}var pI="[object WeakSet]";function mA(t){return Fi(t)&&Ma(t)==pI}var mI=1;function gA(t){return Zt(typeof t=="function"?t:Ls(t,mI))}var gI=Array.prototype,vI=gI.join;function vA(t,e){return t==null?"":vI.call(t,e)}var bA=kc(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),yA=tg(function(t,e,n){yc(t,n,e)});function bI(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}var yI=Math.max,xI=Math.min;function xA(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=r;return n!==void 0&&(i=un(n),i=i<0?yI(r+i,0):xI(i,r-1)),e===e?bI(t,e,i):Km(t,BC,i,!0)}var wA=kc(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),jA=e4("toLowerCase");function ty(t,e){return t<e}var kA=og(ty),SA=og(function(t,e){return t<=e});function CA(t,e){var n={};return e=Zt(e),Zo(t,function(r,i,s){yc(n,e(r,i,s),r)}),n}function ny(t,e){var n={};return e=Zt(e),Zo(t,function(r,i,s){yc(n,i,e(r,i,s))}),n}var wI=1;function _A(t){return M4(Ls(t,wI))}var jI=1;function AA(t,e){return R4(t,Ls(e,jI))}function lg(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!cs(o):n(o,a)))var a=o,l=s}return l}function OA(t){return t&&t.length?lg(t,As,J1):void 0}function EA(t,e){return t&&t.length?lg(t,Zt(e),J1):void 0}function ry(t,e){for(var n,r=-1,i=t.length;++r<i;){var s=e(t[r]);s!==void 0&&(n=n===void 0?s:n+s)}return n}var kI=NaN;function MA(t,e){var n=t==null?0:t.length;return n?ry(t,e)/n:kI}function PA(t){return MA(t,As)}function RA(t,e){return MA(t,Zt(e))}var TA=An(function(t,e){return function(n){return bd(n,t,e)}}),$A=An(function(t,e){return function(n){return bd(t,n,e)}});function NA(t){return t&&t.length?lg(t,As,ty):void 0}function Ru(t,e){return t&&t.length?lg(t,Zt(e),ty):void 0}function IA(t,e,n){var r=xi(e),i=sg(e,r),s=!(Mi(n)&&"chain"in n)||!!n.chain,o=cu(t);return Gs(i,function(a){var l=e[a];t[a]=l,o&&(t.prototype[a]=function(){var f=this.__chain__;if(s||f){var c=t(this.__wrapped__),d=c.__actions__=Ss(this.__actions__);return d.push({func:l,args:arguments,thisArg:t}),c.__chain__=f,c}return l.apply(t,ou([this.value()],arguments))})}),t}var DA=Vm(function(t,e){return t*e},1),SI="Expected a function";function yd(t){if(typeof t!="function")throw new TypeError(SI);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function CI(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}var _I="[object Map]",AI="[object Set]",av=Wo?Wo.iterator:void 0;function iy(t){if(!t)return[];if(Qo(t))return vd(t)?mo(t):Ss(t);if(av&&t[av])return CI(t[av]());var e=au(t),n=e==_I?_C:e==AI?v1:hu;return n(t)}function O0(){this.__values__===void 0&&(this.__values__=iy(this.value()));var t=this.__index__>=this.__values__.length,e=t?void 0:this.__values__[this.__index__++];return{done:t,value:e}}function LA(t,e){var n=t.length;if(n)return e+=e<0?n:0,su(e,n)?t[e]:void 0}function zA(t,e){return t&&t.length?LA(t,un(e)):void 0}function BA(t){return t=un(t),An(function(e){return LA(e,t)})}function sy(t,e){return e=yl(e,t),t=Q_(t,e),t==null||delete t[Xo(Et(e))]}function OI(t){return hd(t)?void 0:t}var EI=1,MI=2,PI=4,qA=Ta(function(t,e){var n={};if(t==null)return n;var r=!1;e=Gr(e,function(s){return s=yl(s,t),r||(r=s.length>1),s}),Pa(t,T1(t),n),r&&(n=Ls(n,EI|MI|PI,OI));for(var i=e.length;i--;)sy(n,e[i]);return n});function xd(t,e,n,r){if(!Mi(t))return t;e=yl(e,t);for(var i=-1,s=e.length,o=s-1,a=t;a!=null&&++i<s;){var l=Xo(e[i]),f=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var c=a[l];f=r?r(c,l,a):void 0,f===void 0&&(f=Mi(c)?c:su(e[i+1])?[]:{})}Fm(a,l,f),a=a[l]}return t}function FA(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=fu(t,o);n(a,o)&&xd(s,yl(o,t),a)}return s}function oy(t,e){if(t==null)return{};var n=Gr(T1(t),function(r){return[r]});return e=Zt(e),FA(t,n,function(r,i){return e(r,i[0])})}function UA(t,e){return oy(t,yd(Zt(e)))}function WA(t){return C1(2,t)}function RI(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function VA(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=cs(t),o=e!==void 0,a=e===null,l=e===e,f=cs(e);if(!a&&!f&&!s&&t>e||s&&o&&l&&!a&&!f||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!f&&t<e||f&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function TI(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=VA(i[r],s[r]);if(l){if(r>=a)return l;var f=n[r];return l*(f=="desc"?-1:1)}}return t.index-e.index}function HA(t,e,n){e.length?e=Gr(e,function(s){return Nn(s)?function(o){return fu(o,s.length===1?s[0]:s)}:s}):e=[As];var r=-1;e=Gr(e,Us(Zt));var i=x_(t,function(s,o,a){var l=Gr(e,function(f){return f(s)});return{criteria:l,index:++r,value:s}});return RI(i,function(s,o){return TI(s,o,n)})}function KA(t,e,n,r){return t==null?[]:(Nn(e)||(e=e==null?[]:[e]),n=r?void 0:n,Nn(n)||(n=n==null?[]:[n]),HA(t,e,n))}function ay(t){return Ta(function(e){return e=Gr(e,Us(Zt)),An(function(n){var r=this;return t(e,function(i){return Fs(i,r,n)})})})}var GA=ay(Gr),$I=An,NI=Math.min,JA=$I(function(t,e){e=e.length==1&&Nn(e[0])?Gr(e[0],Us(Zt)):Gr(Ri(e,1),Us(Zt));var n=e.length;return An(function(r){for(var i=-1,s=NI(r.length,n);++i<s;)r[i]=e[i].call(this,r[i]);return Fs(t,this,r)})}),YA=ay(u_),QA=ay(AC),II=9007199254740991,DI=Math.floor;function E0(t,e){var n="";if(!t||e<1||e>II)return n;do e%2&&(n+=t),e=DI(e/2),e&&(t+=t);while(e);return n}var LI=z1("length"),XA="\\ud800-\\udfff",zI="\\u0300-\\u036f",BI="\\ufe20-\\ufe2f",qI="\\u20d0-\\u20ff",FI=zI+BI+qI,UI="\\ufe0e\\ufe0f",WI="["+XA+"]",M0="["+FI+"]",P0="\\ud83c[\\udffb-\\udfff]",VI="(?:"+M0+"|"+P0+")",ZA="[^"+XA+"]",eO="(?:\\ud83c[\\udde6-\\uddff]){2}",tO="[\\ud800-\\udbff][\\udc00-\\udfff]",HI="\\u200d",nO=VI+"?",rO="["+UI+"]?",KI="(?:"+HI+"(?:"+[ZA,eO,tO].join("|")+")"+rO+nO+")*",GI=rO+nO+KI,JI="(?:"+[ZA+M0+"?",M0,eO,tO,WI].join("|")+")",Ow=RegExp(P0+"(?="+P0+")|"+JI+GI,"g");function YI(t){for(var e=Ow.lastIndex=0;Ow.test(t);)++e;return e}function Cc(t){return jc(t)?YI(t):LI(t)}var QI=Math.ceil;function Bp(t,e){e=e===void 0?" ":_s(e);var n=e.length;if(n<2)return n?E0(e,t):e;var r=E0(e,QI(t/Cc(e)));return jc(e)?xl(mo(r),0,t).join(""):r.slice(0,t)}var XI=Math.ceil,ZI=Math.floor;function iO(t,e,n){t=ar(t),e=un(e);var r=e?Cc(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Bp(ZI(i),n)+t+Bp(XI(i),n)}function sO(t,e,n){t=ar(t),e=un(e);var r=e?Cc(t):0;return e&&r<e?t+Bp(e-r,n):t}function oO(t,e,n){t=ar(t),e=un(e);var r=e?Cc(t):0;return e&&r<e?Bp(e-r,n)+t:t}var eD=/^\s+/,tD=bl.parseInt;function aO(t,e,n){return n||e==null?e=0:e&&(e=+e),tD(ar(t).replace(eD,""),e||0)}var nD=32,wd=An(function(t,e){var n=il(e,wc(wd));return Ra(t,nD,void 0,e,n)});wd.placeholder={};var rD=64,ug=An(function(t,e){var n=il(e,wc(ug));return Ra(t,rD,void 0,e,n)});ug.placeholder={};var ly=tg(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});function iD(t,e){return FA(t,e,function(n,r){return eg(t,r)})}var lO=Ta(function(t,e){return t==null?{}:iD(t,e)});function R0(t){for(var e,n=this;n instanceof Hm;){var r=LC(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e}function uO(t){return function(e){return t==null?void 0:fu(t,e)}}function sD(t,e,n,r){for(var i=n-1,s=t.length;++i<s;)if(r(t[i],e))return i;return-1}var oD=Array.prototype,Ew=oD.splice;function uy(t,e,n,r){var i=r?sD:xc,s=-1,o=e.length,a=t;for(t===e&&(e=Ss(e)),n&&(a=Gr(t,Us(n)));++s<o;)for(var l=0,f=e[s],c=n?n(f):f;(l=i(a,c,l,r))>-1;)a!==t&&Ew.call(a,l,1),Ew.call(t,l,1);return t}function cy(t,e){return t&&t.length&&e&&e.length?uy(t,e):t}var cO=An(cy);function fO(t,e,n){return t&&t.length&&e&&e.length?uy(t,e,Zt(n)):t}function dO(t,e,n){return t&&t.length&&e&&e.length?uy(t,e,void 0,n):t}var aD=Array.prototype,lD=aD.splice;function hO(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==s){var s=i;su(i)?lD.call(t,i,1):sy(t,i)}}return t}var pO=Ta(function(t,e){var n=t==null?0:t.length,r=j1(t,e);return hO(t,Gr(e,function(i){return su(i,n)?+i:i}).sort(VA)),r}),uD=Math.floor,cD=Math.random;function fy(t,e){return t+uD(cD()*(e-t+1))}var fD=parseFloat,dD=Math.min,hD=Math.random;function mO(t,e,n){if(n&&typeof n!="boolean"&&us(t,e,n)&&(e=n=void 0),n===void 0&&(typeof e=="boolean"?(n=e,e=void 0):typeof t=="boolean"&&(n=t,t=void 0)),t===void 0&&e===void 0?(t=0,e=1):(t=Do(t),e===void 0?(e=t,t=0):e=Do(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=hD();return dD(t+i*(e-t+fD("1e-"+((i+"").length-1))),e)}return fy(t,e)}var pD=Math.ceil,mD=Math.max;function gD(t,e,n,r){for(var i=-1,s=mD(pD((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}function gO(t){return function(e,n,r){return r&&typeof r!="number"&&us(e,n,r)&&(n=r=void 0),e=Do(e),n===void 0?(n=e,e=0):n=Do(n),r=r===void 0?e<n?1:-1:Do(r),gD(e,n,r,t)}}var cg=gO(),vO=gO(!0),vD=256,bO=Ta(function(t,e){return Ra(t,vD,void 0,void 0,void 0,e)});function yO(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function xO(t,e,n){var r=Nn(t)?A1:yO,i=arguments.length<3;return r(t,Zt(e),n,i,wl)}function bD(t,e,n,r){var i=t==null?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function wO(t,e,n){var r=Nn(t)?bD:yO,i=arguments.length<3;return r(t,Zt(e),n,i,r_)}function jO(t,e){var n=Nn(t)?uu:d_;return n(t,yd(Zt(e)))}function kO(t,e){var n=[];if(!(t&&t.length))return n;var r=-1,i=[],s=t.length;for(e=Zt(e);++r<s;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return hO(t,i),n}function SO(t,e,n){return(n?us(t,e,n):e===void 0)?e=1:e=un(e),E0(ar(t),e)}function CO(){var t=arguments,e=ar(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var yD="Expected a function";function _O(t,e){if(typeof t!="function")throw new TypeError(yD);return e=e===void 0?e:un(e),An(t,e)}function AO(t,e,n){e=yl(e,t);var r=-1,i=e.length;for(i||(i=1,t=void 0);++r<i;){var s=t==null?void 0:t[Xo(e[r])];s===void 0&&(r=i,s=n),t=cu(s)?s.call(t):s}return t}var xD=Array.prototype,wD=xD.reverse;function qp(t){return t==null?t:wD.call(t)}var OO=P1("round");function EO(t){var e=t.length;return e?t[fy(0,e-1)]:void 0}function jD(t){return EO(hu(t))}function MO(t){var e=Nn(t)?EO:jD;return e(t)}function fg(t,e){var n=-1,r=t.length,i=r-1;for(e=e===void 0?r:e;++n<e;){var s=fy(n,i),o=t[s];t[s]=t[n],t[n]=o}return t.length=e,t}function kD(t,e){return fg(Ss(t),du(e,0,t.length))}function SD(t,e){var n=hu(t);return fg(n,du(e,0,n.length))}function PO(t,e,n){(n?us(t,e,n):e===void 0)?e=1:e=un(e);var r=Nn(t)?kD:SD;return r(t,e)}function RO(t,e,n){return t==null?t:xd(t,e,n)}function TO(t,e,n,r){return r=typeof r=="function"?r:void 0,t==null?t:xd(t,e,n,r)}function CD(t){return fg(Ss(t))}function _D(t){return fg(hu(t))}function $O(t){var e=Nn(t)?CD:_D;return e(t)}var AD="[object Map]",OD="[object Set]";function NO(t){if(t==null)return 0;if(Qo(t))return vd(t)?Cc(t):t.length;var e=au(t);return e==AD||e==OD?t.size:X5(t).length}function IO(t,e,n){var r=t==null?0:t.length;return r?(n&&typeof n!="number"&&us(t,e,n)?(e=0,n=r):(e=e==null?0:un(e),n=n===void 0?r:un(n)),Vs(t,e,n)):[]}var DO=kc(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});function ED(t,e){var n;return wl(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function LO(t,e,n){var r=Nn(t)?AC:ED;return n&&us(t,e,n)&&(e=void 0),r(t,Zt(e))}var dy=An(function(t,e){if(t==null)return[];var n=e.length;return n>1&&us(t,e[0],e[1])?e=[]:n>2&&us(e[0],e[1],e[2])&&(e=[e[0]]),HA(t,Ri(e,1),[])}),MD=4294967295,PD=MD-1,RD=Math.floor,TD=Math.min;function hy(t,e,n,r){var i=0,s=t==null?0:t.length;if(s===0)return 0;e=n(e);for(var o=e!==e,a=e===null,l=cs(e),f=e===void 0;i<s;){var c=RD((i+s)/2),d=n(t[c]),h=d!==void 0,m=d===null,p=d===d,y=cs(d);if(o)var g=r||p;else f?g=p&&(r||h):a?g=p&&h&&(r||!m):l?g=p&&h&&!m&&(r||!y):m||y?g=!1:g=r?d<=e:d<e;g?i=c+1:s=c}return TD(s,PD)}var $D=4294967295,ND=$D>>>1;function dg(t,e,n){var r=0,i=t==null?r:t.length;if(typeof e=="number"&&e===e&&i<=ND){for(;r<i;){var s=r+i>>>1,o=t[s];o!==null&&!cs(o)&&(n?o<=e:o<e)?r=s+1:i=s}return i}return hy(t,e,As,n)}function zO(t,e){return dg(t,e)}function BO(t,e,n){return hy(t,e,Zt(n))}function qO(t,e){var n=t==null?0:t.length;if(n){var r=dg(t,e);if(r<n&&lu(t[r],e))return r}return-1}function FO(t,e){return dg(t,e,!0)}function UO(t,e,n){return hy(t,e,Zt(n),!0)}function WO(t,e){var n=t==null?0:t.length;if(n){var r=dg(t,e,!0)-1;if(lu(t[r],e))return r}return-1}function VO(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n],a=e?e(o):o;if(!n||!lu(a,l)){var l=a;s[i++]=o===0?0:o}}return s}function HO(t){return t&&t.length?VO(t):[]}function KO(t,e){return t&&t.length?VO(t,Zt(e)):[]}var ID=4294967295;function GO(t,e,n){return n&&typeof n!="number"&&us(t,e,n)&&(e=n=void 0),n=n===void 0?ID:n>>>0,n?(t=ar(t),t&&(typeof e=="string"||e!=null&&!ag(e))&&(e=_s(e),!e&&jc(t))?xl(mo(t),0,n):t.split(e,n)):[]}var DD="Expected a function",LD=Math.max;function JO(t,e){if(typeof t!="function")throw new TypeError(DD);return e=e==null?0:LD(un(e),0),An(function(n){var r=n[e],i=xl(n,0,e);return r&&ou(i,r),Fs(t,this,i)})}var YO=kc(function(t,e,n){return t+(n?" ":"")+Zm(e)});function QO(t,e,n){return t=ar(t),n=n==null?0:du(un(n),0,t.length),e=_s(e),t.slice(n,n+e.length)==e}function XO(){return{}}function ZO(){return""}function eE(){return!0}var tE=Vm(function(t,e){return t-e},0);function nE(t){return t&&t.length?ry(t,As):0}function rE(t,e){return t&&t.length?ry(t,Zt(e)):0}function iE(t){var e=t==null?0:t.length;return e?Vs(t,1,e):[]}function sE(t,e,n){return t&&t.length?(e=n||e===void 0?1:un(e),Vs(t,0,e<0?0:e)):[]}function oE(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:un(e),e=r-e,Vs(t,e<0?0:e,r)):[]}function aE(t,e){return t&&t.length?ig(t,Zt(e),!1,!0):[]}function lE(t,e){return t&&t.length?ig(t,Zt(e)):[]}function uE(t,e){return e(t),t}var cE=Object.prototype,zD=cE.hasOwnProperty;function Mw(t,e,n,r){return t===void 0||lu(t,cE[n])&&!zD.call(r,n)?e:t}var BD={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function qD(t){return"\\"+BD[t]}var fE=/<%=([\s\S]+?)%>/g,FD=/<%-([\s\S]+?)%>/g,UD=/<%([\s\S]+?)%>/g,Fp={escape:FD,evaluate:UD,interpolate:fE,variable:"",imports:{_:{escape:W1}}},WD="Invalid `variable` option passed into `_.template`",VD=/\b__p \+= '';/g,HD=/\b(__p \+=) '' \+/g,KD=/(__e\(.*?\)|\b__t\)) \+\n'';/g,GD=/[()=,{}\[\]\/\s]/,JD=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ud=/($^)/,YD=/['\n\r\u2028\u2029\\]/g,QD=Object.prototype,Pw=QD.hasOwnProperty;function dE(t,e,n){var r=Fp.imports._.templateSettings||Fp;n&&us(t,e,n)&&(e=void 0),t=ar(t),e=Of({},e,r,Mw);var i=Of({},e.imports,r.imports,Mw),s=xi(i),o=Y1(i,s),a,l,f=0,c=e.interpolate||Ud,d="__p += '",h=RegExp((e.escape||Ud).source+"|"+c.source+"|"+(c===fE?JD:Ud).source+"|"+(e.evaluate||Ud).source+"|$","g"),m=Pw.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";t.replace(h,function(g,b,v,x,j,w){return v||(v=x),d+=t.slice(f,w).replace(YD,qD),b&&(a=!0,d+=`' +
__e(`+b+`) +
'`),j&&(l=!0,d+=`';
`+j+`;
__p += '`),v&&(d+=`' +
((__t = (`+v+`)) == null ? '' : __t) +
'`),f=w+g.length,g}),d+=`';
`;var p=Pw.call(e,"variable")&&e.variable;if(!p)d=`with (obj) {
`+d+`
}
`;else if(GD.test(p))throw new Error(WD);d=(l?d.replace(VD,""):d).replace(HD,"$1").replace(KD,"$1;"),d="function("+(p||"obj")+`) {
`+(p?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+d+`return __p
}`;var y=S1(function(){return Function(s,m+"return "+d).apply(void 0,o)});if(y.source=d,Qm(y))throw y;return y}var XD="Expected a function";function hE(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(XD);return Mi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Hl(t,e,{leading:r,maxWait:e,trailing:i})}function jd(t,e){return e(t)}var ZD=9007199254740991,lv=4294967295,eL=Math.min;function py(t,e){if(t=un(t),t<1||t>ZD)return[];var n=lv,r=eL(t,lv);e=ea(e),t-=lv;for(var i=OC(r,e);++n<t;)e(n);return i}function T0(){return this}function pE(t,e){var n=t;return n instanceof qn&&(n=n.value()),A1(e,function(r,i){return i.func.apply(i.thisArg,ou([r],i.args))},n)}function lf(){return pE(this.__wrapped__,this.__actions__)}function mE(t){return ar(t).toLowerCase()}function gE(t){return Nn(t)?Gr(t,Xo):cs(t)?[t]:Ss(VC(ar(t)))}var tL=9007199254740991;function vE(t){return t?du(un(t),-9007199254740991,tL):t===0?t:0}function bE(t){return ar(t).toUpperCase()}function yE(t,e,n){var r=Nn(t),i=r||Wm(t)||b1(t);if(e=Zt(e),n==null){var s=t&&t.constructor;i?n=r?new s:[]:Mi(t)?n=cu(s)?fd(wC(t)):{}:n={}}return(i?Gs:Zo)(t,function(o,a,l){return e(n,o,a,l)}),n}function xE(t,e){for(var n=t.length;n--&&xc(e,t[n],0)>-1;);return n}function wE(t,e){for(var n=-1,r=t.length;++n<r&&xc(e,t[n],0)>-1;);return n}function jE(t,e,n){if(t=ar(t),t&&(n||e===void 0))return TC(t);if(!t||!(e=_s(e)))return t;var r=mo(t),i=mo(e),s=wE(r,i),o=xE(r,i)+1;return xl(r,s,o).join("")}function kE(t,e,n){if(t=ar(t),t&&(n||e===void 0))return t.slice(0,RC(t)+1);if(!t||!(e=_s(e)))return t;var r=mo(t),i=xE(r,mo(e))+1;return xl(r,0,i).join("")}var nL=/^\s+/;function SE(t,e,n){if(t=ar(t),t&&(n||e===void 0))return t.replace(nL,"");if(!t||!(e=_s(e)))return t;var r=mo(t),i=wE(r,mo(e));return xl(r,i).join("")}var rL=30,iL="...",sL=/\w*$/;function CE(t,e){var n=rL,r=iL;if(Mi(e)){var i="separator"in e?e.separator:i;n="length"in e?un(e.length):n,r="omission"in e?_s(e.omission):r}t=ar(t);var s=t.length;if(jc(t)){var o=mo(t);s=o.length}if(n>=s)return t;var a=n-Cc(r);if(a<1)return r;var l=o?xl(o,0,a).join(""):t.slice(0,a);if(i===void 0)return l+r;if(o&&(a+=l.length-a),ag(i)){if(t.slice(a).search(i)){var f,c=l;for(i.global||(i=RegExp(i.source,ar(sL.exec(i))+"g")),i.lastIndex=0;f=i.exec(c);)var d=f.index;l=l.slice(0,d===void 0?a:d)}}else if(t.indexOf(_s(i),a)!=a){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r}function _E(t){return x1(t,1)}var oL={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},aL=O1(oL),AE=/&(?:amp|lt|gt|quot|#39);/g,lL=RegExp(AE.source);function OE(t){return t=ar(t),t&&lL.test(t)?t.replace(AE,aL):t}var uL=1/0,cL=sv&&1/v1(new sv([,-0]))[1]==uL?function(t){return new sv(t)}:$r,fL=200;function sl(t,e,n){var r=-1,i=Gm,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=F1;else if(s>=fL){var f=e?null:cL(t);if(f)return v1(f);o=!1,i=Dp,l=new p1}else l=e?[]:a;e:for(;++r<s;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(c)}else i(l,d,n)||(l!==a&&l.push(d),a.push(c))}return a}var EE=An(function(t){return sl(Ri(t,1,oi,!0))}),ME=An(function(t){var e=Et(t);return oi(e)&&(e=void 0),sl(Ri(t,1,oi,!0),Zt(e))}),PE=An(function(t){var e=Et(t);return e=typeof e=="function"?e:void 0,sl(Ri(t,1,oi,!0),void 0,e)});function RE(t){return t&&t.length?sl(t):[]}function TE(t,e){return t&&t.length?sl(t,Zt(e)):[]}function $E(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?sl(t,void 0,e):[]}var dL=0;function ol(t){var e=++dL;return ar(t)+e}function NE(t,e){return t==null?!0:sy(t,e)}var hL=Math.max;function hg(t){if(!(t&&t.length))return[];var e=0;return t=uu(t,function(n){if(oi(n))return e=hL(n.length,e),!0}),OC(e,function(n){return Gr(t,z1(n))})}function my(t,e){if(!(t&&t.length))return[];var n=hg(t);return e==null?n:Gr(n,function(r){return Fs(e,void 0,r)})}function IE(t,e,n,r){return xd(t,e,n(fu(t,e)),r)}function DE(t,e,n){return t==null?t:IE(t,e,ea(n))}function LE(t,e,n,r){return r=typeof r=="function"?r:void 0,t==null?t:IE(t,e,ea(n),r)}var zE=kc(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()});function BE(t){return t==null?[]:Y1(t,Os(t))}var qE=An(function(t,e){return oi(t)?gd(t,e):[]});function FE(t,e){return wd(ea(e),t)}var UE=Ta(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(s){return j1(s,t)};return e>1||this.__actions__.length||!(r instanceof qn)||!su(n)?this.thru(i):(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:jd,args:[i],thisArg:void 0}),new Ws(r,this.__chain__).thru(function(s){return e&&!s.length&&s.push(void 0),s}))});function WE(){return R1(this)}function VE(){var t=this.__wrapped__;if(t instanceof qn){var e=t;return this.__actions__.length&&(e=new qn(this)),e=e.reverse(),e.__actions__.push({func:jd,args:[qp],thisArg:void 0}),new Ws(e,this.__chain__)}return this.thru(qp)}function gy(t,e,n){var r=t.length;if(r<2)return r?sl(t[0]):[];for(var i=-1,s=Array(r);++i<r;)for(var o=t[i],a=-1;++a<r;)a!=i&&(s[i]=gd(s[i]||o,t[a],e,n));return sl(Ri(s,1),e,n)}var HE=An(function(t){return gy(uu(t,oi))}),KE=An(function(t){var e=Et(t);return oi(e)&&(e=void 0),gy(uu(t,oi),Zt(e))}),GE=An(function(t){var e=Et(t);return e=typeof e=="function"?e:void 0,gy(uu(t,oi),void 0,e)}),JE=An(hg);function YE(t,e,n){for(var r=-1,i=t.length,s=e.length,o={};++r<i;){var a=r<s?e[r]:void 0;n(o,t[r],a)}return o}function QE(t,e){return YE(t||[],e||[],Fm)}function XE(t,e){return YE(t||[],e||[],xd)}var ZE=An(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n=typeof n=="function"?(t.pop(),n):void 0,my(t,n)});const ht={chunk:v4,compact:_4,concat:A4,difference:G4,differenceBy:J4,differenceWith:Y4,drop:X4,dropRight:Z4,dropRightWhile:e_,dropWhile:t_,fill:f_,findIndex:H1,findLastIndex:K1,flatten:k1,flattenDeep:S_,flattenDepth:C_,fromPairs:N_,head:zs,indexOf:U_,initial:hn,intersection:W_,intersectionBy:V_,intersectionWith:H_,join:vA,lastIndexOf:xA,nth:zA,pull:cO,pullAll:cy,pullAllBy:fO,pullAllWith:dO,pullAt:pO,remove:kO,reverse:qp,slice:IO,sortedIndex:zO,sortedIndexBy:BO,sortedIndexOf:qO,sortedLastIndex:FO,sortedLastIndexBy:UO,sortedLastIndexOf:WO,sortedUniq:HO,sortedUniqBy:KO,tail:iE,take:sE,takeRight:oE,takeRightWhile:aE,takeWhile:lE,union:EE,unionBy:ME,unionWith:PE,uniq:RE,uniqBy:TE,uniqWith:$E,unzip:hg,unzipWith:my,without:qE,xor:HE,xorBy:KE,xorWith:GE,zip:JE,zipObject:QE,zipObjectDeep:XE,zipWith:ZE},kr={countBy:L4,every:c_,filter:h_,find:m_,findLast:b_,flatMap:w_,flatMapDeep:j_,flatMapDepth:k_,forEach:C0,forEachRight:zp,groupBy:G1,includes:F_,invokeMap:Z_,keyBy:yA,map:Sc,orderBy:KA,partition:ly,reduce:xO,reduceRight:wO,reject:jO,sample:MO,sampleSize:PO,shuffle:$O,size:NO,some:LO,sortBy:dy},pL={now:yf},ri={after:$C,ary:x1,before:C1,bind:md,bindKey:Xm,curry:ng,curryRight:rg,debounce:Hl,defer:H4,delay:K4,flip:__,memoize:pd,once:WA,overArgs:JA,partial:wd,partialRight:ug,rearg:bO,rest:_O,spread:JO,throttle:hE,unary:_E,wrap:FE},$t={castArray:m4,clone:S4,cloneDeep:Ef,cloneDeepWith:I1,cloneWith:C4,conformsTo:I4,eq:lu,gt:L_,gte:z_,isArguments:Um,isArrayBuffer:eA,isArrayLike:Qo,isArrayLikeObject:oi,isBoolean:tA,isBuffer:Wm,isDate:nA,isElement:rA,isEmpty:Yn,isEqual:ln,isEqualWith:iA,isError:Qm,isFinite:sA,isFunction:cu,isInteger:Z1,isLength:h1,isMap:$1,isMatch:oA,isMatchWith:aA,isNaN:lA,isNative:uA,isNil:cA,isNull:fA,isNumber:ey,isObjectLike:Fi,isPlainObject:hd,isRegExp:ag,isSafeInteger:dA,isSet:N1,isString:vd,isSymbol:cs,isTypedArray:b1,isUndefined:hA,isWeakMap:pA,isWeakSet:mA,lt:kA,lte:SA,toArray:iy,toFinite:Do,toLength:V1,toNumber:Cs,toPlainObject:EC,toSafeInteger:vE,toString:ar},es={add:PC,ceil:g4,divide:Q4,floor:A_,max:OA,maxBy:EA,mean:PA,meanBy:RA,min:NA,minBy:Ru,multiply:DA,round:OO,subtract:tE,sum:nE,sumBy:rE},vy={clamp:b4,inRange:q_,random:mO},Jt={assign:UC,assignIn:w0,assignInWith:Of,assignWith:WC,at:HC,create:z4,defaults:F4,defaultsDeep:W4,findKey:v_,findLastKey:y_,forIn:P_,forInRight:R_,forOwn:T_,forOwnRight:$_,functions:I_,functionsIn:D_,get:Ym,has:B_,hasIn:eg,invert:G_,invertBy:Y_,invoke:X_,keysIn:Os,mapKeys:CA,mapValues:ny,merge:MC,mergeWith:q1,omit:qA,omitBy:UA,pick:lO,pickBy:oy,result:AO,set:RO,setWith:TO,toPairs:_0,toPairsIn:A0,transform:yE,unset:NE,update:DE,updateWith:LE,values:hu,valuesIn:BE},ta={at:UE,chain:R1,commit:S0,next:O0,plant:R0,reverse:VE,tap:uE,toIterator:T0,value:lf,wrapperChain:WE},lr={camelCase:p4,capitalize:_1,deburr:E1,endsWith:i_,escape:W1,escapeRegExp:l_,kebabCase:bA,lowerCase:wA,lowerFirst:jA,pad:iO,padEnd:sO,padStart:oO,parseInt:aO,repeat:SO,replace:CO,snakeCase:DO,split:GO,startCase:YO,startsWith:QO,template:dE,templateSettings:Fp,toLower:mE,toUpper:bE,trim:jE,trimEnd:kE,trimStart:SE,truncate:CE,unescape:OE,upperCase:zE,upperFirst:Zm,words:M1},dr={attempt:S1,bindAll:KC,cond:T4,conforms:N4,constant:m1,defaultTo:B4,flow:E_,flowRight:M_,iteratee:gA,matches:_A,matchesProperty:AA,method:TA,methodOf:$A,noop:$r,nthArg:BA,over:GA,overEvery:YA,overSome:QA,property:B1,propertyOf:uO,range:cg,rangeRight:vO,stubArray:f1,stubFalse:g1,stubObject:XO,stubString:ZO,stubTrue:eE,times:py,toPath:gE,uniqueId:ol};function mL(){var t=new qn(this.__wrapped__);return t.__actions__=Ss(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ss(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ss(this.__views__),t}function gL(){if(this.__filtered__){var t=new qn(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}var vL=Math.max,bL=Math.min;function yL(t,e,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=bL(e,t+o);break;case"takeRight":t=vL(t,e-o);break}}return{start:t,end:e}}var xL=1,wL=2,jL=Math.min;function kL(){var t=this.__wrapped__.value(),e=this.__dir__,n=Nn(t),r=e<0,i=n?t.length:0,s=yL(0,i,this.__views__),o=s.start,a=s.end,l=a-o,f=r?a:o-1,c=this.__iteratees__,d=c.length,h=0,m=jL(l,this.__takeCount__);if(!n||!r&&i==l&&m==l)return pE(t,this.__actions__);var p=[];e:for(;l--&&h<m;){f+=e;for(var y=-1,g=t[f];++y<d;){var b=c[y],v=b.iteratee,x=b.type,j=v(g);if(x==wL)g=j;else if(!j){if(x==xL)continue e;break e}}p[h++]=g}return p}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var SL="4.17.21",CL=2,_L=1,AL=3,e3=4294967295,OL=Array.prototype,EL=Object.prototype,t3=EL.hasOwnProperty,Rw=Wo?Wo.iterator:void 0,ML=Math.max,Tw=Math.min,by=function(t){return function(e,n,r){if(r==null){var i=Mi(n),s=i&&xi(n),o=s&&s.length&&sg(n,s);(o?o.length:i)||(r=n,n=e,e=this)}return t(e,n,r)}}(IA);R.after=ri.after;R.ary=ri.ary;R.assign=Jt.assign;R.assignIn=Jt.assignIn;R.assignInWith=Jt.assignInWith;R.assignWith=Jt.assignWith;R.at=Jt.at;R.before=ri.before;R.bind=ri.bind;R.bindAll=dr.bindAll;R.bindKey=ri.bindKey;R.castArray=$t.castArray;R.chain=ta.chain;R.chunk=ht.chunk;R.compact=ht.compact;R.concat=ht.concat;R.cond=dr.cond;R.conforms=dr.conforms;R.constant=dr.constant;R.countBy=kr.countBy;R.create=Jt.create;R.curry=ri.curry;R.curryRight=ri.curryRight;R.debounce=ri.debounce;R.defaults=Jt.defaults;R.defaultsDeep=Jt.defaultsDeep;R.defer=ri.defer;R.delay=ri.delay;R.difference=ht.difference;R.differenceBy=ht.differenceBy;R.differenceWith=ht.differenceWith;R.drop=ht.drop;R.dropRight=ht.dropRight;R.dropRightWhile=ht.dropRightWhile;R.dropWhile=ht.dropWhile;R.fill=ht.fill;R.filter=kr.filter;R.flatMap=kr.flatMap;R.flatMapDeep=kr.flatMapDeep;R.flatMapDepth=kr.flatMapDepth;R.flatten=ht.flatten;R.flattenDeep=ht.flattenDeep;R.flattenDepth=ht.flattenDepth;R.flip=ri.flip;R.flow=dr.flow;R.flowRight=dr.flowRight;R.fromPairs=ht.fromPairs;R.functions=Jt.functions;R.functionsIn=Jt.functionsIn;R.groupBy=kr.groupBy;R.initial=ht.initial;R.intersection=ht.intersection;R.intersectionBy=ht.intersectionBy;R.intersectionWith=ht.intersectionWith;R.invert=Jt.invert;R.invertBy=Jt.invertBy;R.invokeMap=kr.invokeMap;R.iteratee=dr.iteratee;R.keyBy=kr.keyBy;R.keys=xi;R.keysIn=Jt.keysIn;R.map=kr.map;R.mapKeys=Jt.mapKeys;R.mapValues=Jt.mapValues;R.matches=dr.matches;R.matchesProperty=dr.matchesProperty;R.memoize=ri.memoize;R.merge=Jt.merge;R.mergeWith=Jt.mergeWith;R.method=dr.method;R.methodOf=dr.methodOf;R.mixin=by;R.negate=yd;R.nthArg=dr.nthArg;R.omit=Jt.omit;R.omitBy=Jt.omitBy;R.once=ri.once;R.orderBy=kr.orderBy;R.over=dr.over;R.overArgs=ri.overArgs;R.overEvery=dr.overEvery;R.overSome=dr.overSome;R.partial=ri.partial;R.partialRight=ri.partialRight;R.partition=kr.partition;R.pick=Jt.pick;R.pickBy=Jt.pickBy;R.property=dr.property;R.propertyOf=dr.propertyOf;R.pull=ht.pull;R.pullAll=ht.pullAll;R.pullAllBy=ht.pullAllBy;R.pullAllWith=ht.pullAllWith;R.pullAt=ht.pullAt;R.range=dr.range;R.rangeRight=dr.rangeRight;R.rearg=ri.rearg;R.reject=kr.reject;R.remove=ht.remove;R.rest=ri.rest;R.reverse=ht.reverse;R.sampleSize=kr.sampleSize;R.set=Jt.set;R.setWith=Jt.setWith;R.shuffle=kr.shuffle;R.slice=ht.slice;R.sortBy=kr.sortBy;R.sortedUniq=ht.sortedUniq;R.sortedUniqBy=ht.sortedUniqBy;R.split=lr.split;R.spread=ri.spread;R.tail=ht.tail;R.take=ht.take;R.takeRight=ht.takeRight;R.takeRightWhile=ht.takeRightWhile;R.takeWhile=ht.takeWhile;R.tap=ta.tap;R.throttle=ri.throttle;R.thru=jd;R.toArray=$t.toArray;R.toPairs=Jt.toPairs;R.toPairsIn=Jt.toPairsIn;R.toPath=dr.toPath;R.toPlainObject=$t.toPlainObject;R.transform=Jt.transform;R.unary=ri.unary;R.union=ht.union;R.unionBy=ht.unionBy;R.unionWith=ht.unionWith;R.uniq=ht.uniq;R.uniqBy=ht.uniqBy;R.uniqWith=ht.uniqWith;R.unset=Jt.unset;R.unzip=ht.unzip;R.unzipWith=ht.unzipWith;R.update=Jt.update;R.updateWith=Jt.updateWith;R.values=Jt.values;R.valuesIn=Jt.valuesIn;R.without=ht.without;R.words=lr.words;R.wrap=ri.wrap;R.xor=ht.xor;R.xorBy=ht.xorBy;R.xorWith=ht.xorWith;R.zip=ht.zip;R.zipObject=ht.zipObject;R.zipObjectDeep=ht.zipObjectDeep;R.zipWith=ht.zipWith;R.entries=Jt.toPairs;R.entriesIn=Jt.toPairsIn;R.extend=Jt.assignIn;R.extendWith=Jt.assignInWith;by(R,R);R.add=es.add;R.attempt=dr.attempt;R.camelCase=lr.camelCase;R.capitalize=lr.capitalize;R.ceil=es.ceil;R.clamp=vy.clamp;R.clone=$t.clone;R.cloneDeep=$t.cloneDeep;R.cloneDeepWith=$t.cloneDeepWith;R.cloneWith=$t.cloneWith;R.conformsTo=$t.conformsTo;R.deburr=lr.deburr;R.defaultTo=dr.defaultTo;R.divide=es.divide;R.endsWith=lr.endsWith;R.eq=$t.eq;R.escape=lr.escape;R.escapeRegExp=lr.escapeRegExp;R.every=kr.every;R.find=kr.find;R.findIndex=ht.findIndex;R.findKey=Jt.findKey;R.findLast=kr.findLast;R.findLastIndex=ht.findLastIndex;R.findLastKey=Jt.findLastKey;R.floor=es.floor;R.forEach=kr.forEach;R.forEachRight=kr.forEachRight;R.forIn=Jt.forIn;R.forInRight=Jt.forInRight;R.forOwn=Jt.forOwn;R.forOwnRight=Jt.forOwnRight;R.get=Jt.get;R.gt=$t.gt;R.gte=$t.gte;R.has=Jt.has;R.hasIn=Jt.hasIn;R.head=ht.head;R.identity=As;R.includes=kr.includes;R.indexOf=ht.indexOf;R.inRange=vy.inRange;R.invoke=Jt.invoke;R.isArguments=$t.isArguments;R.isArray=Nn;R.isArrayBuffer=$t.isArrayBuffer;R.isArrayLike=$t.isArrayLike;R.isArrayLikeObject=$t.isArrayLikeObject;R.isBoolean=$t.isBoolean;R.isBuffer=$t.isBuffer;R.isDate=$t.isDate;R.isElement=$t.isElement;R.isEmpty=$t.isEmpty;R.isEqual=$t.isEqual;R.isEqualWith=$t.isEqualWith;R.isError=$t.isError;R.isFinite=$t.isFinite;R.isFunction=$t.isFunction;R.isInteger=$t.isInteger;R.isLength=$t.isLength;R.isMap=$t.isMap;R.isMatch=$t.isMatch;R.isMatchWith=$t.isMatchWith;R.isNaN=$t.isNaN;R.isNative=$t.isNative;R.isNil=$t.isNil;R.isNull=$t.isNull;R.isNumber=$t.isNumber;R.isObject=Mi;R.isObjectLike=$t.isObjectLike;R.isPlainObject=$t.isPlainObject;R.isRegExp=$t.isRegExp;R.isSafeInteger=$t.isSafeInteger;R.isSet=$t.isSet;R.isString=$t.isString;R.isSymbol=$t.isSymbol;R.isTypedArray=$t.isTypedArray;R.isUndefined=$t.isUndefined;R.isWeakMap=$t.isWeakMap;R.isWeakSet=$t.isWeakSet;R.join=ht.join;R.kebabCase=lr.kebabCase;R.last=Et;R.lastIndexOf=ht.lastIndexOf;R.lowerCase=lr.lowerCase;R.lowerFirst=lr.lowerFirst;R.lt=$t.lt;R.lte=$t.lte;R.max=es.max;R.maxBy=es.maxBy;R.mean=es.mean;R.meanBy=es.meanBy;R.min=es.min;R.minBy=es.minBy;R.stubArray=dr.stubArray;R.stubFalse=dr.stubFalse;R.stubObject=dr.stubObject;R.stubString=dr.stubString;R.stubTrue=dr.stubTrue;R.multiply=es.multiply;R.nth=ht.nth;R.noop=dr.noop;R.now=pL.now;R.pad=lr.pad;R.padEnd=lr.padEnd;R.padStart=lr.padStart;R.parseInt=lr.parseInt;R.random=vy.random;R.reduce=kr.reduce;R.reduceRight=kr.reduceRight;R.repeat=lr.repeat;R.replace=lr.replace;R.result=Jt.result;R.round=es.round;R.sample=kr.sample;R.size=kr.size;R.snakeCase=lr.snakeCase;R.some=kr.some;R.sortedIndex=ht.sortedIndex;R.sortedIndexBy=ht.sortedIndexBy;R.sortedIndexOf=ht.sortedIndexOf;R.sortedLastIndex=ht.sortedLastIndex;R.sortedLastIndexBy=ht.sortedLastIndexBy;R.sortedLastIndexOf=ht.sortedLastIndexOf;R.startCase=lr.startCase;R.startsWith=lr.startsWith;R.subtract=es.subtract;R.sum=es.sum;R.sumBy=es.sumBy;R.template=lr.template;R.times=dr.times;R.toFinite=$t.toFinite;R.toInteger=un;R.toLength=$t.toLength;R.toLower=lr.toLower;R.toNumber=$t.toNumber;R.toSafeInteger=$t.toSafeInteger;R.toString=$t.toString;R.toUpper=lr.toUpper;R.trim=lr.trim;R.trimEnd=lr.trimEnd;R.trimStart=lr.trimStart;R.truncate=lr.truncate;R.unescape=lr.unescape;R.uniqueId=dr.uniqueId;R.upperCase=lr.upperCase;R.upperFirst=lr.upperFirst;R.each=kr.forEach;R.eachRight=kr.forEachRight;R.first=ht.head;by(R,function(){var t={};return Zo(R,function(e,n){t3.call(R.prototype,n)||(t[n]=e)}),t}(),{chain:!1});R.VERSION=SL;(R.templateSettings=lr.templateSettings).imports._=R;Gs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){R[t].placeholder=R});Gs(["drop","take"],function(t,e){qn.prototype[t]=function(n){n=n===void 0?1:ML(un(n),0);var r=this.__filtered__&&!e?new qn(this):this.clone();return r.__filtered__?r.__takeCount__=Tw(n,r.__takeCount__):r.__views__.push({size:Tw(n,e3),type:t+(r.__dir__<0?"Right":"")}),r},qn.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}});Gs(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==_L||n==AL;qn.prototype[t]=function(i){var s=this.clone();return s.__iteratees__.push({iteratee:Zt(i),type:n}),s.__filtered__=s.__filtered__||r,s}});Gs(["head","last"],function(t,e){var n="take"+(e?"Right":"");qn.prototype[t]=function(){return this[n](1).value()[0]}});Gs(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");qn.prototype[t]=function(){return this.__filtered__?new qn(this):this[n](1)}});qn.prototype.compact=function(){return this.filter(As)};qn.prototype.find=function(t){return this.filter(t).head()};qn.prototype.findLast=function(t){return this.reverse().find(t)};qn.prototype.invokeMap=An(function(t,e){return typeof t=="function"?new qn(this):this.map(function(n){return bd(n,t,e)})});qn.prototype.reject=function(t){return this.filter(yd(Zt(t)))};qn.prototype.slice=function(t,e){t=un(t);var n=this;return n.__filtered__&&(t>0||e<0)?new qn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==void 0&&(e=un(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)};qn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()};qn.prototype.toArray=function(){return this.take(e3)};Zo(qn.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=R[r?"take"+(e=="last"?"Right":""):e],s=r||/^find/.test(e);i&&(R.prototype[e]=function(){var o=this.__wrapped__,a=r?[1]:arguments,l=o instanceof qn,f=a[0],c=l||Nn(o),d=function(b){var v=i.apply(R,ou([b],a));return r&&h?v[0]:v};c&&n&&typeof f=="function"&&f.length!=1&&(l=c=!1);var h=this.__chain__,m=!!this.__actions__.length,p=s&&!h,y=l&&!m;if(!s&&c){o=y?o:new qn(this);var g=t.apply(o,a);return g.__actions__.push({func:jd,args:[d],thisArg:void 0}),new Ws(g,h)}return p&&y?t.apply(this,a):(g=this.thru(d),p?r?g.value()[0]:g.value():g)})});Gs(["pop","push","shift","sort","splice","unshift"],function(t){var e=OL[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);R.prototype[t]=function(){var i=arguments;if(r&&!this.__chain__){var s=this.value();return e.apply(Nn(s)?s:[],i)}return this[n](function(o){return e.apply(Nn(o)?o:[],i)})}});Zo(qn.prototype,function(t,e){var n=R[e];if(n){var r=n.name+"";t3.call(qu,r)||(qu[r]=[]),qu[r].push({name:e,func:n})}});qu[Jm(void 0,CL).name]=[{name:"wrapper",func:void 0}];qn.prototype.clone=mL;qn.prototype.reverse=gL;qn.prototype.value=kL;R.prototype.at=ta.at;R.prototype.chain=ta.wrapperChain;R.prototype.commit=ta.commit;R.prototype.next=ta.next;R.prototype.plant=ta.plant;R.prototype.reverse=ta.reverse;R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=ta.value;R.prototype.first=R.prototype.head;Rw&&(R.prototype[Rw]=ta.toIterator);/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */const PL=Object.freeze(Object.defineProperty({__proto__:null,add:PC,after:$C,ary:x1,assign:UC,assignIn:w0,assignInWith:Of,assignWith:WC,at:HC,attempt:S1,before:C1,bind:md,bindAll:KC,bindKey:Xm,camelCase:p4,capitalize:_1,castArray:m4,ceil:g4,chain:R1,chunk:v4,clamp:b4,clone:S4,cloneDeep:Ef,cloneDeepWith:I1,cloneWith:C4,commit:S0,compact:_4,concat:A4,cond:T4,conforms:N4,conformsTo:I4,constant:m1,countBy:L4,create:z4,curry:ng,curryRight:rg,debounce:Hl,deburr:E1,default:R,defaultTo:B4,defaults:F4,defaultsDeep:W4,defer:H4,delay:K4,difference:G4,differenceBy:J4,differenceWith:Y4,divide:Q4,drop:X4,dropRight:Z4,dropRightWhile:e_,dropWhile:t_,each:C0,eachRight:zp,endsWith:i_,entries:_0,entriesIn:A0,eq:lu,escape:W1,escapeRegExp:l_,every:c_,extend:w0,extendWith:Of,fill:f_,filter:h_,find:m_,findIndex:H1,findKey:v_,findLast:b_,findLastIndex:K1,findLastKey:y_,first:zs,flatMap:w_,flatMapDeep:j_,flatMapDepth:k_,flatten:k1,flattenDeep:S_,flattenDepth:C_,flip:__,floor:A_,flow:E_,flowRight:M_,forEach:C0,forEachRight:zp,forIn:P_,forInRight:R_,forOwn:T_,forOwnRight:$_,fromPairs:N_,functions:I_,functionsIn:D_,get:Ym,groupBy:G1,gt:L_,gte:z_,has:B_,hasIn:eg,head:zs,identity:As,inRange:q_,includes:F_,indexOf:U_,initial:hn,intersection:W_,intersectionBy:V_,intersectionWith:H_,invert:G_,invertBy:Y_,invoke:X_,invokeMap:Z_,isArguments:Um,isArray:Nn,isArrayBuffer:eA,isArrayLike:Qo,isArrayLikeObject:oi,isBoolean:tA,isBuffer:Wm,isDate:nA,isElement:rA,isEmpty:Yn,isEqual:ln,isEqualWith:iA,isError:Qm,isFinite:sA,isFunction:cu,isInteger:Z1,isLength:h1,isMap:$1,isMatch:oA,isMatchWith:aA,isNaN:lA,isNative:uA,isNil:cA,isNull:fA,isNumber:ey,isObject:Mi,isObjectLike:Fi,isPlainObject:hd,isRegExp:ag,isSafeInteger:dA,isSet:N1,isString:vd,isSymbol:cs,isTypedArray:b1,isUndefined:hA,isWeakMap:pA,isWeakSet:mA,iteratee:gA,join:vA,kebabCase:bA,keyBy:yA,keys:xi,keysIn:Os,last:Et,lastIndexOf:xA,lodash:R,lowerCase:wA,lowerFirst:jA,lt:kA,lte:SA,map:Sc,mapKeys:CA,mapValues:ny,matches:_A,matchesProperty:AA,max:OA,maxBy:EA,mean:PA,meanBy:RA,memoize:pd,merge:MC,mergeWith:q1,method:TA,methodOf:$A,min:NA,minBy:Ru,mixin:IA,multiply:DA,negate:yd,next:O0,noop:$r,now:yf,nth:zA,nthArg:BA,omit:qA,omitBy:UA,once:WA,orderBy:KA,over:GA,overArgs:JA,overEvery:YA,overSome:QA,pad:iO,padEnd:sO,padStart:oO,parseInt:aO,partial:wd,partialRight:ug,partition:ly,pick:lO,pickBy:oy,plant:R0,property:B1,propertyOf:uO,pull:cO,pullAll:cy,pullAllBy:fO,pullAllWith:dO,pullAt:pO,random:mO,range:cg,rangeRight:vO,rearg:bO,reduce:xO,reduceRight:wO,reject:jO,remove:kO,repeat:SO,replace:CO,rest:_O,result:AO,reverse:qp,round:OO,sample:MO,sampleSize:PO,set:RO,setWith:TO,shuffle:$O,size:NO,slice:IO,snakeCase:DO,some:LO,sortBy:dy,sortedIndex:zO,sortedIndexBy:BO,sortedIndexOf:qO,sortedLastIndex:FO,sortedLastIndexBy:UO,sortedLastIndexOf:WO,sortedUniq:HO,sortedUniqBy:KO,split:GO,spread:JO,startCase:YO,startsWith:QO,stubArray:f1,stubFalse:g1,stubObject:XO,stubString:ZO,stubTrue:eE,subtract:tE,sum:nE,sumBy:rE,tail:iE,take:sE,takeRight:oE,takeRightWhile:aE,takeWhile:lE,tap:uE,template:dE,templateSettings:Fp,throttle:hE,thru:jd,times:py,toArray:iy,toFinite:Do,toInteger:un,toIterator:T0,toJSON:lf,toLength:V1,toLower:mE,toNumber:Cs,toPairs:_0,toPairsIn:A0,toPath:gE,toPlainObject:EC,toSafeInteger:vE,toString:ar,toUpper:bE,transform:yE,trim:jE,trimEnd:kE,trimStart:SE,truncate:CE,unary:_E,unescape:OE,union:EE,unionBy:ME,unionWith:PE,uniq:RE,uniqBy:TE,uniqWith:$E,uniqueId:ol,unset:NE,unzip:hg,unzipWith:my,update:DE,updateWith:LE,upperCase:zE,upperFirst:Zm,value:lf,valueOf:lf,values:hu,valuesIn:BE,without:qE,words:M1,wrap:FE,wrapperAt:UE,wrapperChain:WE,wrapperCommit:S0,wrapperLodash:R,wrapperNext:O0,wrapperPlant:R0,wrapperReverse:VE,wrapperToIterator:T0,wrapperValue:lf,xor:HE,xorBy:KE,xorWith:GE,zip:JE,zipObject:QE,zipObjectDeep:XE,zipWith:ZE},Symbol.toStringTag,{value:"Module"})),n3=1024;let RL=0,Ts=class{constructor(e,n){this.from=e,this.to=n}};class pn{constructor(e={}){this.id=RL++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=qi.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}pn.closedBy=new pn({deserialize:t=>t.split(" ")});pn.openedBy=new pn({deserialize:t=>t.split(" ")});pn.group=new pn({deserialize:t=>t.split(" ")});pn.isolate=new pn({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});pn.contextHash=new pn({perNode:!0});pn.lookAhead=new pn({perNode:!0});pn.mounted=new pn({perNode:!0});class Mf{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[pn.mounted.id]}}const TL=Object.create(null);class qi{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):TL,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new qi(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(pn.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(pn.group),s=-1;s<(i?i.length:0);s++){let o=n[s<0?r.name:i[s]];if(o)return o}}}}qi.none=new qi("",Object.create(null),0,8);class pg{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);o&&(i||(i=Object.assign({},r.props)),i[o[0].id]=o[1])}n.push(i?new qi(r.name,i,r.id,r.flags):r)}return new pg(n)}}const Wd=new WeakMap,$w=new WeakMap;var Hr;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Hr||(Hr={}));class fr{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Mf.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Up(this.topNode,e)}cursorAt(e,n=0,r=0){let i=Wd.get(this)||this.topNode,s=new Up(i);return s.moveTo(e,n),Wd.set(this,s._tree),s}get topNode(){return new zi(this,0,0,null)}resolve(e,n=0){let r=Pf(Wd.get(this)||this.topNode,e,n,!1);return Wd.set(this,r),r}resolveInner(e,n=0){let r=Pf($w.get(this)||this.topNode,e,n,!0);return $w.set(this,r),r}resolveStack(e,n=0){return IL(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Hr.IncludeAnonymous)>0;for(let l=this.cursor(o|Hr.IncludeAnonymous);;){let f=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;f=!0}for(;f&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:wy(qi.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new fr(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new fr(qi.none,n,r,i)))}static build(e){return DL(e)}}fr.empty=new fr(qi.none,[],[],0);class yy{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new yy(this.buffer,this.index)}}class al{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return qi.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(r3(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=i[a++],s[l++]=i[a++]-r;let f=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,f)}return new al(s,o,this.set)}}function r3(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Pf(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof zi&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:Hr.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof zi&&o.index<0&&((i=a.enter(e,n,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class i3{cursor(e=0){return new Up(this,e)}getChild(e,n=null,r=null){let i=Nw(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return Nw(this,e,n,r)}resolve(e,n=0){return Pf(this,e,n,!1)}resolveInner(e,n=0){return Pf(this,e,n,!0)}matchContext(e){return $0(this,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class zi extends i3{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,f=n>0?a.length:-1;e!=f;e+=n){let c=a[e],d=l[e]+o.from;if(r3(i,r,d,d+c.length)){if(c instanceof al){if(s&Hr.ExcludeBuffers)continue;let h=c.findChild(0,c.buffer.length,n,r-d,i);if(h>-1)return new To(new $L(o,c,e,d),null,h)}else if(s&Hr.IncludeAnonymous||!c.type.isAnonymous||xy(c)){let h;if(!(s&Hr.IgnoreMounts)&&(h=Mf.get(c))&&!h.overlay)return new zi(h.tree,d,e,o);let m=new zi(c,d,e,o);return s&Hr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(s&Hr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&Hr.IgnoreOverlays)&&(i=Mf.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new zi(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Nw(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function $0(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class $L{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class To extends i3{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new To(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&Hr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new To(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new To(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new To(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),n.push(0)}return new fr(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function s3(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let r=n instanceof zi&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new NL(i,n)}class NL{constructor(e,n){this.heads=e,this.node=n}get next(){return s3(this.heads)}}function IL(t,e,n){let r=t.resolveInner(e,n),i=null;for(let s=r instanceof zi?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,n)),s=o}else{let o=Mf.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new zi(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Pf(a,e,n,!1))}}return i?s3(i):r}class Up{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof zi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof zi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Hr.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Hr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Hr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Hr.IncludeAnonymous||a instanceof al||!a.type.isAnonymous||xy(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new To(this.buffer,n,this.stack[i]);return this.bufferNode=new To(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return $0(this.node,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return $0(this.node,e,i);let o=r[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function xy(t){return t.children.some(e=>e instanceof al||!e.type.isAnonymous||xy(e))}function DL(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=n3,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(n)?new yy(n,n.length):n,l=r.types,f=0,c=0;function d(w,k,S,M,E,J){let{id:W,start:z,end:K,size:ue}=a,ne=c;for(;ue<0;)if(a.next(),ue==-1){let X=s[W];S.push(X),M.push(z-w);return}else if(ue==-3){f=W;return}else if(ue==-4){c=W;return}else throw new RangeError(`Unrecognized record size: ${ue}`);let re=l[W],me,de,pe=z-w;if(K-z<=i&&(de=g(a.pos-k,E))){let X=new Uint16Array(de.size-de.skip),$=a.pos-de.size,ie=X.length;for(;a.pos>$;)ie=b(de.start,X,ie);me=new al(X,K-de.start,r),pe=de.start-w}else{let X=a.pos-ue;a.next();let $=[],ie=[],T=W>=o?W:-1,A=0,P=K;for(;a.pos>X;)T>=0&&a.id==T&&a.size>=0?(a.end<=P-i&&(p($,ie,z,A,a.end,P,T,ne),A=$.length,P=a.end),a.next()):J>2500?h(z,X,$,ie):d(z,X,$,ie,T,J+1);if(T>=0&&A>0&&A<$.length&&p($,ie,z,A,z,P,T,ne),$.reverse(),ie.reverse(),T>-1&&A>0){let se=m(re);me=wy(re,$,ie,0,$.length,0,K-z,se,se)}else me=y(re,$,ie,K-z,ne-K)}S.push(me),M.push(pe)}function h(w,k,S,M){let E=[],J=0,W=-1;for(;a.pos>k;){let{id:z,start:K,end:ue,size:ne}=a;if(ne>4)a.next();else{if(W>-1&&K<W)break;W<0&&(W=ue-i),E.push(z,K,ue),J++,a.next()}}if(J){let z=new Uint16Array(J*4),K=E[E.length-2];for(let ue=E.length-3,ne=0;ue>=0;ue-=3)z[ne++]=E[ue],z[ne++]=E[ue+1]-K,z[ne++]=E[ue+2]-K,z[ne++]=ne;S.push(new al(z,E[2]-K,r)),M.push(K-w)}}function m(w){return(k,S,M)=>{let E=0,J=k.length-1,W,z;if(J>=0&&(W=k[J])instanceof fr){if(!J&&W.type==w&&W.length==M)return W;(z=W.prop(pn.lookAhead))&&(E=S[J]+W.length+z)}return y(w,k,S,M,E)}}function p(w,k,S,M,E,J,W,z){let K=[],ue=[];for(;w.length>M;)K.push(w.pop()),ue.push(k.pop()+S-E);w.push(y(r.types[W],K,ue,J-E,z-J)),k.push(E-S)}function y(w,k,S,M,E=0,J){if(f){let W=[pn.contextHash,f];J=J?[W].concat(J):[W]}if(E>25){let W=[pn.lookAhead,E];J=J?[W].concat(J):[W]}return new fr(w,k,S,M,J)}function g(w,k){let S=a.fork(),M=0,E=0,J=0,W=S.end-i,z={size:0,start:0,skip:0};e:for(let K=S.pos-w;S.pos>K;){let ue=S.size;if(S.id==k&&ue>=0){z.size=M,z.start=E,z.skip=J,J+=4,M+=4,S.next();continue}let ne=S.pos-ue;if(ue<0||ne<K||S.start<W)break;let re=S.id>=o?4:0,me=S.start;for(S.next();S.pos>ne;){if(S.size<0)if(S.size==-3)re+=4;else break e;else S.id>=o&&(re+=4);S.next()}E=me,M+=ue,J+=re}return(k<0||M==w)&&(z.size=M,z.start=E,z.skip=J),z.size>4?z:void 0}function b(w,k,S){let{id:M,start:E,end:J,size:W}=a;if(a.next(),W>=0&&M<o){let z=S;if(W>4){let K=a.pos-(W-4);for(;a.pos>K;)S=b(w,k,S)}k[--S]=z,k[--S]=J-w,k[--S]=E-w,k[--S]=M}else W==-3?f=M:W==-4&&(c=M);return S}let v=[],x=[];for(;a.pos>0;)d(t.start||0,t.bufferStart||0,v,x,-1,0);let j=(e=t.length)!==null&&e!==void 0?e:v.length?x[0]+v[0].length:0;return new fr(l[t.topID],v.reverse(),x.reverse(),j)}const Iw=new WeakMap;function xp(t,e){if(!t.isAnonymous||e instanceof al||e.type!=t)return 1;let n=Iw.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof fr)){n=1;break}n+=xp(t,r)}Iw.set(e,n)}return n}function wy(t,e,n,r,i,s,o,a,l){let f=0;for(let p=r;p<i;p++)f+=xp(t,e[p]);let c=Math.ceil(f*1.5/8),d=[],h=[];function m(p,y,g,b,v){for(let x=g;x<b;){let j=x,w=y[x],k=xp(t,p[x]);for(x++;x<b;x++){let S=xp(t,p[x]);if(k+S>=c)break;k+=S}if(x==j+1){if(k>c){let S=p[j];m(S.children,S.positions,0,S.children.length,y[j]+v);continue}d.push(p[j])}else{let S=y[x-1]+p[x-1].length-w;d.push(wy(t,p,y,j,x,w,S,null,l))}h.push(w+v-s)}}return m(e,n,r,i,0),(a||l)(d,h,o)}class UZ{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof To?this.setBuffer(e.context.buffer,e.index,n):e instanceof zi&&this.map.set(e.tree,n)}get(e){return e instanceof To?this.getBuffer(e.context.buffer,e.index):e instanceof zi?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class va{constructor(e,n,r,i,s=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new va(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,f=0;;a++){let c=a<n.length?n[a]:null,d=c?c.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let h=o;if(l>=h.from||d<=h.to||f){let m=Math.max(h.from,l)-f,p=Math.min(h.to,d)-f;h=m>=p?null:new va(m,p,h.tree,h.offset+f,a>0,!!c)}if(h&&i.push(h),o.to>d)break;o=s<e.length?e[s++]:null}if(!c)break;l=c.toA,f=c.toA-c.toB}return i}}class jy{startParse(e,n,r){return typeof e=="string"&&(e=new LL(e)),r=r?r.length?r.map(i=>new Ts(i.from,i.to)):[new Ts(0,0)]:[new Ts(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}}class LL{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function WZ(t){return(e,n,r,i)=>new BL(e,t,n,r,i)}class Dw{constructor(e,n,r,i,s){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.from=s}}function Lw(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class zL{constructor(e,n,r,i,s,o,a){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const N0=new pn({perNode:!0});class BL{constructor(e,n,r,i,s){this.nest=n,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new fr(r.type,r.children,r.positions,r.length,r.propValues.concat([[N0,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[pn.mounted.id]=new Mf(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new UL(this.fragments),n=null,r=null,i=new Up(new zi(this.baseTree,this.ranges[0].from,0,null),Hr.IncludeAnonymous|Hr.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(e.hasNode(i)){if(n){let f=n.mounts.find(c=>c.frag.from<=i.from&&c.frag.to>=i.to&&c.mount.overlay);if(f)for(let c of f.mount.overlay){let d=c.from+f.pos,h=c.to+f.pos;d>=i.from&&h<=i.to&&!n.ranges.some(m=>m.from<h&&m.to>d)&&n.ranges.push({from:d,to:h})}}a=!1}else if(r&&(o=qL(r.ranges,i.from,i.to)))a=o!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||FL(i);let f=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")n=new zL(s.parser,s.overlay,f,this.inner.length,i.from,i.tree,n);else{let c=qw(this.ranges,s.overlay||(i.from<i.to?[new Ts(i.from,i.to)]:[]));c.length&&Lw(c),(c.length||!s.overlay)&&this.inner.push(new Dw(s.parser,c.length?s.parser.startParse(this.input,Fw(f,c),c):s.parser.startParse(""),s.overlay?s.overlay.map(d=>new Ts(d.from-i.from,d.to-i.from)):null,i.tree,c.length?c[0].from:i.from)),s.overlay?c.length&&(r={ranges:c,depth:0,prev:r}):a=!1}}else n&&(l=n.predicate(i))&&(l===!0&&(l=new Ts(i.from,i.to)),l.from<l.to&&n.ranges.push(l));if(a&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let f=qw(this.ranges,n.ranges);f.length&&(Lw(f),this.inner.splice(n.index,0,new Dw(n.parser,n.parser.startParse(this.input,Fw(n.mounts,f),f),n.ranges.map(c=>new Ts(c.from-n.start,c.to-n.start)),n.target,f[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function qL(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function zw(t,e,n,r,i,s){if(e<n){let o=t.buffer[e+1];r.push(t.slice(e,n,o)),i.push(o-s)}}function FL(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let i=t.tree,s=i.children.indexOf(r),o=i.children[s],a=o.buffer,l=[s];function f(c,d,h,m,p,y){let g=n[y],b=[],v=[];zw(o,c,g,b,v,m);let x=a[g+1],j=a[g+2];l.push(b.length);let w=y?f(g+4,a[g+3],o.set.types[a[g]],x,j-x,y-1):e.toTree();return b.push(w),v.push(x-m),zw(o,a[g+3],d,b,v,m),new fr(h,b,v,p)}i.children[s]=f(0,a.length,qi.none,0,o.length,n.length-1);for(let c of l){let d=t.tree.children[c],h=t.tree.positions[c];t.yield(new zi(d,h+t.from,c,t._tree))}}class Bw{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(Hr.IncludeAnonymous|Hr.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,Hr.IgnoreOverlays|Hr.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof fr)n=n.children[0];else break}return!1}}let UL=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(N0))!==null&&n!==void 0?n:r.to,this.inner=new Bw(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(N0))!==null&&e!==void 0?e:n.to,this.inner=new Bw(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(pn.mounted);if(o&&o.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:s.from-l.offset,mount:o})}}}return i}};function qw(t,e){let n=null,r=e;for(let i=1,s=0;i<t.length;i++){let o=t[i-1].to,a=t[i].from;for(;s<r.length;s++){let l=r[s];if(l.from>=a)break;l.to<=o||(n||(r=n=e.slice()),l.from<o?(n[s]=new Ts(l.from,o),l.to>a&&n.splice(s+1,0,new Ts(a,l.to))):l.to>a?n[s--]=new Ts(a,l.to):n.splice(s--,1))}}return r}function WL(t,e,n,r){let i=0,s=0,o=!1,a=!1,l=-1e9,f=[];for(;;){let c=i==t.length?1e9:o?t[i].to:t[i].from,d=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let h=Math.max(l,n),m=Math.min(c,d,r);h<m&&f.push(new Ts(h,m))}if(l=Math.min(c,d),l==1e9)break;c==l&&(o?(o=!1,i++):o=!0),d==l&&(a?(a=!1,s++):a=!0)}return f}function Fw(t,e){let n=[];for(let{pos:r,mount:i,frag:s}of t){let o=r+(i.overlay?i.overlay[0].from:0),a=o+i.tree.length,l=Math.max(s.from,o),f=Math.min(s.to,a);if(i.overlay){let c=i.overlay.map(h=>new Ts(h.from+r,h.to+r)),d=WL(e,c,l,f);for(let h=0,m=l;;h++){let p=h==d.length,y=p?f:d[h].from;if(y>m&&n.push(new va(m,y,i.tree,-o,s.from>=m||s.openStart,s.to<=y||s.openEnd)),p)break;m=d[h].to}}else n.push(new va(l,f,i.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return n}let VL=0;class Rs{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=VL++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Rs&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let i=new Rs(r,[],null,[]);if(i.set.push(i),n)for(let s of n.set)i.set.push(s);return i}static defineModifier(e){let n=new Wp(e);return r=>r.modified.indexOf(n)>-1?r:Wp.get(r.base||r,r.modified.concat(n).sort((i,s)=>i.id-s.id))}}let HL=0;class Wp{constructor(e){this.name=e,this.instances=[],this.id=HL++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&KL(n,a.modified));if(r)return r;let i=[],s=new Rs(e.name,i,e,n);for(let a of n)a.instances.push(s);let o=GL(n);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(Wp.get(a,l));return s}}function KL(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function GL(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function o3(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],o=2,a=i;for(let d=0;;){if(a=="..."&&d>0&&d+3==i.length){o=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!h)throw new RangeError("Invalid path: "+i);if(s.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),d+=h[0].length,d==i.length)break;let m=i[d++];if(d==i.length&&m=="!"){o=0;break}if(m!="/")throw new RangeError("Invalid path: "+i);a=i.slice(d)}let l=s.length-1,f=s[l];if(!f)throw new RangeError("Invalid path: "+i);let c=new Vp(r,o,l>0?s.slice(0,l):null);e[f]=c.sort(e[f])}}return a3.add(e)}const a3=new pn;class Vp{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Vp.empty=new Vp([],2,null);function l3(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let f=n[l.id];if(f){o=o?o+" "+f:f;break}}return o},scope:r}}function JL(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function YL(t,e,n,r=0,i=t.length){let s=new QL(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class QL{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=n)return;o.isTop&&(s=this.highlighters.filter(m=>!m.scope||m.scope(o)));let f=i,c=XL(e)||Vp.empty,d=JL(s,c.tags);if(d&&(f&&(f+=" "),f+=d,c.mode==1&&(i+=(i?" ":"")+d)),this.startSpan(Math.max(n,a),f),c.opaque)return;let h=e.tree&&e.tree.prop(pn.mounted);if(h&&h.overlay){let m=e.node.enter(h.overlay[0].from+a,1),p=this.highlighters.filter(g=>!g.scope||g.scope(h.tree.type)),y=e.firstChild();for(let g=0,b=a;;g++){let v=g<h.overlay.length?h.overlay[g]:null,x=v?v.from+a:l,j=Math.max(n,b),w=Math.min(r,x);if(j<w&&y)for(;e.from<w&&(this.highlightRange(e,j,w,i,s),this.startSpan(Math.min(w,e.to),f),!(e.to>=x||!e.nextSibling())););if(!v||x>r)break;b=v.to+a,b>n&&(this.highlightRange(m.cursor(),Math.max(n,v.from+a),Math.min(r,b),"",p),this.startSpan(Math.min(r,b),f))}y&&e.parent()}else if(e.firstChild()){h&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),f)}while(e.nextSibling());e.parent()}}}function XL(t){let e=t.type.prop(a3);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Xe=Rs.define,Vd=Xe(),za=Xe(),Uw=Xe(za),Ww=Xe(za),Ba=Xe(),Hd=Xe(Ba),uv=Xe(Ba),Ao=Xe(),Ol=Xe(Ao),ko=Xe(),So=Xe(),I0=Xe(),Gc=Xe(I0),Kd=Xe(),Ge={comment:Vd,lineComment:Xe(Vd),blockComment:Xe(Vd),docComment:Xe(Vd),name:za,variableName:Xe(za),typeName:Uw,tagName:Xe(Uw),propertyName:Ww,attributeName:Xe(Ww),className:Xe(za),labelName:Xe(za),namespace:Xe(za),macroName:Xe(za),literal:Ba,string:Hd,docString:Xe(Hd),character:Xe(Hd),attributeValue:Xe(Hd),number:uv,integer:Xe(uv),float:Xe(uv),bool:Xe(Ba),regexp:Xe(Ba),escape:Xe(Ba),color:Xe(Ba),url:Xe(Ba),keyword:ko,self:Xe(ko),null:Xe(ko),atom:Xe(ko),unit:Xe(ko),modifier:Xe(ko),operatorKeyword:Xe(ko),controlKeyword:Xe(ko),definitionKeyword:Xe(ko),moduleKeyword:Xe(ko),operator:So,derefOperator:Xe(So),arithmeticOperator:Xe(So),logicOperator:Xe(So),bitwiseOperator:Xe(So),compareOperator:Xe(So),updateOperator:Xe(So),definitionOperator:Xe(So),typeOperator:Xe(So),controlOperator:Xe(So),punctuation:I0,separator:Xe(I0),bracket:Gc,angleBracket:Xe(Gc),squareBracket:Xe(Gc),paren:Xe(Gc),brace:Xe(Gc),content:Ao,heading:Ol,heading1:Xe(Ol),heading2:Xe(Ol),heading3:Xe(Ol),heading4:Xe(Ol),heading5:Xe(Ol),heading6:Xe(Ol),contentSeparator:Xe(Ao),list:Xe(Ao),quote:Xe(Ao),emphasis:Xe(Ao),strong:Xe(Ao),link:Xe(Ao),monospace:Xe(Ao),strikethrough:Xe(Ao),inserted:Xe(),deleted:Xe(),changed:Xe(),invalid:Xe(),meta:Kd,documentMeta:Xe(Kd),annotation:Xe(Kd),processingInstruction:Xe(Kd),definition:Rs.defineModifier("definition"),constant:Rs.defineModifier("constant"),function:Rs.defineModifier("function"),standard:Rs.defineModifier("standard"),local:Rs.defineModifier("local"),special:Rs.defineModifier("special")};for(let t in Ge){let e=Ge[t];e instanceof Rs&&(e.name=t)}l3([{tag:Ge.link,class:"tok-link"},{tag:Ge.heading,class:"tok-heading"},{tag:Ge.emphasis,class:"tok-emphasis"},{tag:Ge.strong,class:"tok-strong"},{tag:Ge.keyword,class:"tok-keyword"},{tag:Ge.atom,class:"tok-atom"},{tag:Ge.bool,class:"tok-bool"},{tag:Ge.url,class:"tok-url"},{tag:Ge.labelName,class:"tok-labelName"},{tag:Ge.inserted,class:"tok-inserted"},{tag:Ge.deleted,class:"tok-deleted"},{tag:Ge.literal,class:"tok-literal"},{tag:Ge.string,class:"tok-string"},{tag:Ge.number,class:"tok-number"},{tag:[Ge.regexp,Ge.escape,Ge.special(Ge.string)],class:"tok-string2"},{tag:Ge.variableName,class:"tok-variableName"},{tag:Ge.local(Ge.variableName),class:"tok-variableName tok-local"},{tag:Ge.definition(Ge.variableName),class:"tok-variableName tok-definition"},{tag:Ge.special(Ge.variableName),class:"tok-variableName2"},{tag:Ge.definition(Ge.propertyName),class:"tok-propertyName tok-definition"},{tag:Ge.typeName,class:"tok-typeName"},{tag:Ge.namespace,class:"tok-namespace"},{tag:Ge.className,class:"tok-className"},{tag:Ge.macroName,class:"tok-macroName"},{tag:Ge.propertyName,class:"tok-propertyName"},{tag:Ge.operator,class:"tok-operator"},{tag:Ge.comment,class:"tok-comment"},{tag:Ge.meta,class:"tok-meta"},{tag:Ge.invalid,class:"tok-invalid"},{tag:Ge.punctuation,class:"tok-punctuation"}]);let D0=[],u3=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?u3:D0).push(n=n+t[e])})();function ZL(t){if(t<768)return!1;for(let e=0,n=D0.length;;){let r=e+n>>1;if(t<D0[r])n=r;else if(t>=u3[r])e=r+1;else return!0;if(e==n)return!1}}function Vw(t){return t>=127462&&t<=127487}const Hw=8205;function ez(t,e,n=!0,r=!0){return(n?c3:tz)(t,e,r)}function c3(t,e,n){if(e==t.length)return e;e&&f3(t.charCodeAt(e))&&d3(t.charCodeAt(e-1))&&e--;let r=cv(t,e);for(e+=Kw(r);e<t.length;){let i=cv(t,e);if(r==Hw||i==Hw||n&&ZL(i))e+=Kw(i),r=i;else if(Vw(i)){let s=0,o=e-2;for(;o>=0&&Vw(cv(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function tz(t,e,n){for(;e>0;){let r=c3(t,e-2,n);if(r<e)return r;e--}return 0}function cv(t,e){let n=t.charCodeAt(e);if(!d3(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return f3(r)?(n-55296<<10)+(r-56320)+65536:n}function f3(t){return t>=56320&&t<57344}function d3(t){return t>=55296&&t<56320}function Kw(t){return t<65536?1:2}let nr=class h3{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=nc(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Eo.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=nc(this,e,n);let r=[];return this.decompose(e,n,r,0),Eo.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new xf(this),s=new xf(e);for(let o=n,a=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new xf(this,e)}iterRange(e,n=this.length){return new p3(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new m3(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?h3.empty:e.length<=32?new ii(e):Eo.from(ii.split(e,[]))}};class ii extends nr{constructor(e,n=nz(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((n?r:a)>=e)return new rz(i,a,r,o);i=a+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new ii(Gw(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=wp(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new ii(a,o.length+s.length));else{let l=a.length>>1;r.push(new ii(a.slice(0,l)),new ii(a.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof ii))return super.replace(e,n,r);[e,n]=nc(this,e,n);let i=wp(this.text,wp(r.text,Gw(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new ii(i,s):Eo.from(ii.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){[e,n]=nc(this,e,n);let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new ii(r,i)),r=[],i=-1);return i>-1&&n.push(new ii(r,i)),n}}class Eo extends nr{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let f=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!f?r.push(a):a.decompose(e-o,n-o,r,f)}o=l+1}}replace(e,n,r){if([e,n]=nc(this,e,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,r),f=this.lines-o.lines+l.lines;if(l.lines<f>>4&&l.lines>f>>6){let c=this.children.slice();return c[i]=l,new Eo(c,this.length-(n-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=nc(this,e,n);let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Eo))return 0;let r=0,[i,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==a)return r;let l=this.children[i],f=e.children[s];if(l!=f)return r+l.scanIdentical(f,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let m of e)r+=m.lines;if(r<32){let m=[];for(let p of e)p.flatten(m);return new ii(m,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,f=-1,c=[];function d(m){let p;if(m.lines>s&&m instanceof Eo)for(let y of m.children)d(y);else m.lines>o&&(l>o||!l)?(h(),a.push(m)):m instanceof ii&&l&&(p=c[c.length-1])instanceof ii&&m.lines+p.lines<=32?(l+=m.lines,f+=m.length+1,c[c.length-1]=new ii(p.text.concat(m.text),p.length+1+m.length)):(l+m.lines>i&&h(),l+=m.lines,f+=m.length+1,c.push(m))}function h(){l!=0&&(a.push(c.length==1?c[0]:Eo.from(c,f)),f=-1,l=c.length=0)}for(let m of e)d(m);return h(),a.length==1?a[0]:new Eo(a,n)}}nr.empty=new ii([""],0);function nz(t){let e=-1;for(let n of t)e+=n.length+1;return e}function wp(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let a=t[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function Gw(t,e,n){return wp(t,[""],e,n)}class xf{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof ii?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof ii?i.text.length:i.children.length;if(o==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof ii){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof ii?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class p3{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new xf(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class m3{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(nr.prototype[Symbol.iterator]=function(){return this.iter()},xf.prototype[Symbol.iterator]=p3.prototype[Symbol.iterator]=m3.prototype[Symbol.iterator]=function(){return this});class rz{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function nc(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function Oi(t,e,n=!0,r=!0){return ez(t,e,n,r)}function iz(t){return t>=56320&&t<57344}function sz(t){return t>=55296&&t<56320}function is(t,e){let n=t.charCodeAt(e);if(!sz(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return iz(r)?(n-55296<<10)+(r-56320)+65536:n}function ky(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Mo(t){return t<65536?1:2}const L0=/\r\n?|\n/;var _i=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(_i||(_i={}));class Lo{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,n=!1){z0(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Lo(e)}composeDesc(e){return this.empty?e:e.empty?this:g3(this,e)}mapDesc(e,n=!1){return e.empty?this:B0(this,e,n)}mapPos(e,n=-1,r=_i.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],f=i+a;if(l<0){if(f>e)return s+(e-i);s+=a}else{if(r!=_i.Simple&&f>=e&&(r==_i.TrackDel&&i<e&&f>e||r==_i.TrackBefore&&i<e||r==_i.TrackAfter&&f>e))return null;if(f>e||f==e&&n<0&&!a)return e==i||n<0?s:s+l;s+=l}i=f}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Lo(e)}static create(e){return new Lo(e)}}class si extends Lo{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return z0(this,(n,r,i,s,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return B0(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(nr.empty);r.push(o?e.slice(s,s+o):nr.empty)}s+=o}return new si(n,r)}compose(e){return this.empty?e:e.empty?this:g3(this,e,!0)}map(e,n=!1){return e.empty?this:B0(this,e,n,!0)}iterChanges(e,n=!1){z0(this,e,n)}get desc(){return Lo.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new Rf(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-a);$i(i,c,-1);let d=s.ins==-1?-1:s.off==0?s.ins:0;$i(n,c,d),d>0&&Ua(r,n,s.text),s.forward(c),a+=c}let f=e[o++];for(;a<f;){if(s.done)break e;let c=Math.min(s.len,f-a);$i(n,c,-1),$i(i,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),a+=c}}return{changes:new si(n,r),filtered:Lo.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],o=0,a=null;function l(c=!1){if(!c&&!i.length)return;o<n&&$i(i,n-o,-1);let d=new si(i,s);a=a?a.compose(d.map(a)):d,i=[],s=[],o=0}function f(c){if(Array.isArray(c))for(let d of c)f(d);else if(c instanceof si){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:d,to:h=d,insert:m}=c;if(d>h||d<0||h>n)throw new RangeError(`Invalid change range ${d} to ${h} (in doc of length ${n})`);let p=m?typeof m=="string"?nr.of(m.split(r||L0)):m:nr.empty,y=p.length;if(d==h&&y==0)return;d<o&&l(),d>o&&$i(i,d-o,-1),$i(i,h-d,y),Ua(s,i,p),o=h}}return f(e),l(!a),a}static empty(e){return new si(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(nr.empty);r[i]=nr.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new si(n,r)}static createSet(e,n){return new si(e,n)}}function $i(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function Ua(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(nr.empty);t.push(n)}}function z0(t,e,n){let r=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)i+=a,s+=a;else{let f=i,c=s,d=nr.empty;for(;f+=a,c+=l,l&&r&&(d=d.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(i,f,s,c,d),i=f,s=c}}}function B0(t,e,n,r=!1){let i=[],s=r?[]:null,o=new Rf(t),a=new Rf(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let f=Math.min(o.len,a.len);$i(i,f,-1),o.forward(f),a.forward(f)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let f=a.len;for($i(i,a.ins,-1);f;){let c=Math.min(o.len,f);o.ins>=0&&l<o.i&&o.len<=c&&($i(i,0,o.ins),s&&Ua(s,i,o.text),l=o.i),o.forward(c),f-=c}a.next()}else if(o.ins>=0){let f=0,c=o.len;for(;c;)if(a.ins==-1){let d=Math.min(c,a.len);f+=d,c-=d,a.forward(d)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;$i(i,f,l<o.i?o.ins:0),s&&l<o.i&&Ua(s,i,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&a.done)return s?si.createSet(i,s):Lo.create(i);throw new Error("Mismatched change set lengths")}}}function g3(t,e,n=!1){let r=[],i=n?[]:null,s=new Rf(t),o=new Rf(e);for(let a=!1;;){if(s.done&&o.done)return i?si.createSet(r,i):Lo.create(r);if(s.ins==0)$i(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)$i(r,0,o.ins,a),i&&Ua(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),f=r.length;if(s.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;$i(r,l,c,a),i&&c&&Ua(i,r,o.text)}else o.ins==-1?($i(r,s.off?0:s.len,l,a),i&&Ua(i,r,s.textBit(l))):($i(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&Ua(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>f),s.forward2(l),o.forward(l)}}}}class Rf{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?nr.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?nr.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class zl{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new zl(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Oe.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Oe.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Oe.range(e.anchor,e.head)}static create(e,n,r){return new zl(e,n,r)}}class Oe{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Oe.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Oe([this.main],0)}addRange(e,n=!0){return Oe.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,Oe.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Oe(e.ranges.map(n=>zl.fromJSON(n)),e.main)}static single(e,n=e){return new Oe([Oe.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return Oe.normalized(e.slice(),n);r=s.to}return new Oe(e,n)}static cursor(e,n=0,r,i){return zl.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?zl.create(n,e,48|s):zl.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?Oe.range(l,a):Oe.range(a,l))}}return new Oe(e,n)}}function v3(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Sy=0;class at{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=Sy++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new at(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:Cy),!!e.static,e.enables)}of(e){return new jp([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new jp(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new jp(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function Cy(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class jp{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=Sy++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,f=!1,c=[];for(let d of this.dependencies)d=="doc"?l=!0:d=="selection"?f=!0:(((n=e[d.id])!==null&&n!==void 0?n:1)&1)==0&&c.push(e[d.id]);return{create(d){return d.values[o]=r(d),1},update(d,h){if(l&&h.docChanged||f&&(h.docChanged||h.selection)||q0(d,c)){let m=r(d);if(a?!Jw(m,d.values[o],i):!i(m,d.values[o]))return d.values[o]=m,1}return 0},reconfigure:(d,h)=>{let m,p=h.config.address[s];if(p!=null){let y=Kp(h,p);if(this.dependencies.every(g=>g instanceof at?h.facet(g)===d.facet(g):g instanceof di?h.field(g,!1)==d.field(g,!1):!0)||(a?Jw(m=r(d),y,i):i(m=r(d),y)))return d.values[o]=y,0}else m=r(d);return d.values[o]=m,1}}}}function Jw(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function q0(t,e){let n=!1;for(let r of e)wf(t,r)&1&&(n=!0);return n}function oz(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let f=[];for(let c=0;c<r.length;c++){let d=Kp(l,r[c]);if(i[c]==2)for(let h of d)f.push(h);else f.push(d)}return e.combine(f)}return{create(l){for(let f of r)wf(l,f);return l.values[o]=a(l),1},update(l,f){if(!q0(l,s))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,f){let c=q0(l,r),d=f.config.facets[e.id],h=f.facet(e);if(d&&!c&&Cy(n,d))return l.values[o]=h,0;let m=a(l);return e.compare(m,h)?(l.values[o]=h,0):(l.values[o]=m,1)}}}const Gd=at.define({static:!0});class di{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new di(Sy++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(Gd).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>{let s=r.facet(Gd),o=i.facet(Gd),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(r.values[n]=a.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,Gd.of({field:this,create:e})]}get extension(){return this}}const Nl={lowest:4,low:3,default:2,high:1,highest:0};function Jc(t){return e=>new b3(e,t)}const jl={highest:Jc(Nl.highest),high:Jc(Nl.high),default:Jc(Nl.default),low:Jc(Nl.low),lowest:Jc(Nl.lowest)};class b3{constructor(e,n){this.inner=e,this.prec=n}}class da{of(e){return new F0(this,e)}reconfigure(e){return da.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class F0{constructor(e,n){this.compartment=e,this.inner=n}}class Hp{constructor(e,n,r,i,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),o=new Map;for(let h of az(e,n,o))h instanceof di?i.push(h):(s[h.facet.id]||(s[h.facet.id]=[])).push(h);let a=Object.create(null),l=[],f=[];for(let h of i)a[h.id]=f.length<<1,f.push(m=>h.slot(m));let c=r==null?void 0:r.config.facets;for(let h in s){let m=s[h],p=m[0].facet,y=c&&c[h]||[];if(m.every(g=>g.type==0))if(a[p.id]=l.length<<1|1,Cy(y,m))l.push(r.facet(p));else{let g=p.combine(m.map(b=>b.value));l.push(r&&p.compare(g,r.facet(p))?r.facet(p):g)}else{for(let g of m)g.type==0?(a[g.id]=l.length<<1|1,l.push(g.value)):(a[g.id]=f.length<<1,f.push(b=>g.dynamicSlot(b)));a[p.id]=f.length<<1,f.push(g=>oz(g,p,m))}}let d=f.map(h=>h(a));return new Hp(e,o,d,a,l,s)}}function az(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let f=r[l].indexOf(o);f>-1&&r[l].splice(f,1),o instanceof F0&&n.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let f of o)s(f,a);else if(o instanceof F0){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(o.compartment)||o.inner;n.set(o.compartment,f),s(f,a)}else if(o instanceof b3)s(o.inner,o.prec);else if(o instanceof di)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof jp)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,Nl.default);else{let f=o.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(f,a)}}return s(t,Nl.default),r.reduce((o,a)=>o.concat(a))}function wf(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Kp(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const y3=at.define(),U0=at.define({combine:t=>t.some(e=>e),static:!0}),x3=at.define({combine:t=>t.length?t[0]:void 0,static:!0}),w3=at.define(),j3=at.define(),k3=at.define(),S3=at.define({combine:t=>t.length?t[0]:!1});class na{constructor(e,n){this.type=e,this.value=n}static define(){return new lz}}class lz{of(e){return new na(this,e)}}class uz{constructor(e){this.map=e}of(e){return new Xt(this,e)}}class Xt{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Xt(this.type,n)}is(e){return this.type==e}static define(e={}){return new uz(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}Xt.reconfigure=Xt.define();Xt.appendConfig=Xt.define();class ci{constructor(e,n,r,i,s,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&v3(r,n.newLength),s.some(a=>a.type==ci.time)||(this.annotations=s.concat(ci.time.of(Date.now())))}static create(e,n,r,i,s,o){return new ci(e,n,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(ci.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}ci.time=na.define();ci.userEvent=na.define();ci.addToHistory=na.define();ci.remote=na.define();function cz(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else if(i<e.length)s=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function C3(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=si.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Xt.mapEffects(t.effects,i).concat(Xt.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function W0(t,e,n){let r=e.selection,i=Fu(e.annotations);return e.userEvent&&(i=i.concat(ci.userEvent.of(e.userEvent))),{changes:e.changes instanceof si?e.changes:si.of(e.changes||[],n,t.facet(x3)),selection:r&&(r instanceof Oe?r:Oe.single(r.anchor,r.head)),effects:Fu(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function _3(t,e,n){let r=W0(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;r=C3(r,W0(t,e[s],o?r.changes.newLength:t.doc.length),o)}let i=ci.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return dz(n?fz(i):i)}function fz(t){let e=t.startState,n=!0;for(let i of e.facet(w3)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:cz(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=si.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=ci.create(e,i,t.selection&&t.selection.map(s),Xt.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(j3);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof ci?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof ci?t=s[0]:t=_3(e,Fu(s),!1)}return t}function dz(t){let e=t.startState,n=e.facet(k3),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=C3(r,W0(e,s,t.changes.newLength),!0))}return r==t?t:ci.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const hz=[];function Fu(t){return t==null?hz:Array.isArray(t)?t:[t]}var Kr=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Kr||(Kr={}));const pz=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let V0;try{V0=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function mz(t){if(V0)return V0.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||pz.test(n)))return!0}return!1}function gz(t){return e=>{if(!/\S/.test(e))return Kr.Space;if(mz(e))return Kr.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Kr.Word;return Kr.Other}}class Tn{constructor(e,n,r,i,s,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)wf(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return wf(this,r),Kp(this,r)}update(...e){return _3(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(da.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,f)=>i.set(f,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(Xt.reconfigure)?(n=null,r=a.value):a.is(Xt.appendConfig)&&(n=null,r=Fu(r).concat(a.value));let s;n?s=e.startState.values.slice():(n=Hp.resolve(r,i,this),s=new Tn(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,f)=>f.reconfigure(l,this),null).values);let o=e.startState.facet(U0)?e.newSelection:e.newSelection.asSingle();new Tn(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Oe.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],o=Fu(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),f=this.changes(l.changes),c=f.map(i);for(let h=0;h<a;h++)s[h]=s[h].map(c);let d=i.mapDesc(f,!0);s.push(l.range.map(d)),i=i.compose(c),o=Xt.mapEffects(o,c).concat(Xt.mapEffects(Fu(l.effects),d))}return{changes:i,selection:Oe.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof si?e:si.of(e,this.doc.length,this.facet(Tn.lineSeparator))}toText(e){return nr.of(e.split(this.facet(Tn.lineSeparator)||L0))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(wf(this,n),Kp(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof di&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Tn.create({doc:e.doc,selection:Oe.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Hp.resolve(e.extensions||[],new Map),r=e.doc instanceof nr?e.doc:nr.of((e.doc||"").split(n.staticFacet(Tn.lineSeparator)||L0)),i=e.selection?e.selection instanceof Oe?e.selection:Oe.single(e.selection.anchor,e.selection.head):Oe.single(0);return v3(i,r.length),n.staticFacet(U0)||(i=i.asSingle()),new Tn(n,r,i,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Tn.tabSize)}get lineBreak(){return this.facet(Tn.lineSeparator)||`
`}get readOnly(){return this.facet(S3)}phrase(e,...n){for(let r of this.facet(Tn.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(y3))for(let o of s(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return gz(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=Oi(n,o,!1);if(s(n.slice(l,o))!=Kr.Word)break;o=l}for(;a<i;){let l=Oi(n,a);if(s(n.slice(a,l))!=Kr.Word)break;a=l}return o==a?null:Oe.range(o+r,a+r)}}Tn.allowMultipleSelections=U0;Tn.tabSize=at.define({combine:t=>t.length?t[0]:4});Tn.lineSeparator=x3;Tn.readOnly=S3;Tn.phrases=at.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Tn.languageData=y3;Tn.changeFilter=w3;Tn.transactionFilter=j3;Tn.transactionExtender=k3;da.reconfigure=Xt.define();function Js(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Kl{eq(e){return this==e}range(e,n=e){return Tf.create(e,n,this)}}Kl.prototype.startSide=Kl.prototype.endSide=0;Kl.prototype.point=!1;Kl.prototype.mapMode=_i.TrackDel;class Tf{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new Tf(e,n,r)}}function H0(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class _y{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,f=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return f>=0?o:a;f>=0?a=l:o=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let f=this.value[l],c=this.from[l]+e,d=this.to[l]+e,h,m;if(c==d){let p=n.mapPos(c,f.startSide,f.mapMode);if(p==null||(h=m=p,f.startSide!=f.endSide&&(m=n.mapPos(c,f.endSide),m<h)))continue}else if(h=n.mapPos(c,f.startSide),m=n.mapPos(d,f.endSide),h>m||h==m&&f.startSide>0&&f.endSide<=0)continue;(m-h||f.endSide-f.startSide)<0||(o<0&&(o=h),f.point&&(a=Math.max(a,m-h)),r.push(f),i.push(h-o),s.push(m-o))}return{mapped:r.length?new _y(i,s,r,a):null,pos:o}}}class Wn{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new Wn(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(H0)),this.isEmpty)return n.length?Wn.of(n):this;let a=new A3(this,null,-1).goto(0),l=0,f=[],c=new Ho;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let d=n[l++];c.addInner(d.from,d.to,d.value)||f.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||f.push(Tf.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!f.length?Wn.empty:this.nextLayer.update({add:f,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],f=e.touchesRange(a,a+l.length);if(f===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(f===!0){let{mapped:c,pos:d}=l.map(a,e);c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(d))}}let s=this.nextLayer.map(e);return n.length==0?s:new Wn(r,n,s||Wn.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return $f.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return $f.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),a=n.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),l=Yw(o,a,r),f=new Yc(o,l,s),c=new Yc(a,l,s);r.iterGaps((d,h,m)=>Qw(f,d,c,h,m,i)),r.empty&&r.length==0&&Qw(f,0,c,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let s=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),o=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=Yw(s,o),l=new Yc(s,a,0).goto(r),f=new Yc(o,a,0).goto(r);for(;;){if(l.to!=f.to||!K0(l.active,f.active)||l.point&&(!f.point||!l.point.eq(f.point)))return!1;if(l.to>i)return!0;l.next(),f.next()}}static spans(e,n,r,i,s=-1){let o=new Yc(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let f=Math.min(o.to,r);if(o.point){let c=o.activeForPoint(o.to),d=o.pointFrom<n?c.length+1:o.point.startSide<0?c.length:Math.min(c.length,l);i.point(a,f,o.point,c,d,o.pointRank),l=Math.min(o.openEnd(f),c.length)}else f>a&&(i.span(a,f,o.active,l),l=o.openEnd(f));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,n=!1){let r=new Ho;for(let i of e instanceof Tf?[e]:n?vz(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Wn.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Wn.empty;i=i.nextLayer)n=new Wn(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}Wn.empty=new Wn([],[],null,-1);function vz(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(H0(e,r)>0)return t.slice().sort(H0);e=r}return t}Wn.empty.nextLayer=Wn.empty;class Ho{finishChunk(e){this.chunks.push(new _y(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new Ho)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(Wn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Wn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function Yw(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class A3{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class $f{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new A3(o,n,r,s));return i.length==1?i[0]:new $f(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)fv(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)fv(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),fv(this.heap,0)}}}function fv(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Yc{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=$f.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Jd(this.active,e),Jd(this.activeTo,e),Jd(this.activeRank,e),this.minActive=Xw(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;Yd(this.active,n,r),Yd(this.activeTo,n,i),Yd(this.activeRank,n,s),e&&Yd(e,n,this.cursor.from),this.minActive=Xw(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Jd(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function Qw(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,a=r,l=r-e;for(;;){let f=t.to+l-n.to,c=f||t.endSide-n.endSide,d=c<0?t.to+l:n.to,h=Math.min(d,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&K0(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,h,t.point,n.point):h>a&&!K0(t.active,n.active)&&s.compareRange(a,h,t.active,n.active),d>o)break;(f||t.openEnd!=n.openEnd)&&s.boundChange&&s.boundChange(d),a=d,c<=0&&t.next(),c>=0&&n.next()}}function K0(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Jd(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Yd(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function Xw(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function _c(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Oi(t,i));return r}function G0(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=Oi(t,i)}return r===!0?-1:t.length}const J0="ͼ",Zw=typeof Symbol>"u"?"__"+J0:Symbol.for(J0),Y0=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),e2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ll{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,f){let c=[],d=/^@(\w+)\b/.exec(o[0]),h=d&&d[1]=="keyframes";if(d&&a==null)return l.push(o[0]+";");for(let m in a){let p=a[m];if(/&/.test(m))s(m.split(/,\s*/).map(y=>o.map(g=>y.replace(/&/,g))).reduce((y,g)=>y.concat(g)),p,l);else if(p&&typeof p=="object"){if(!d)throw new RangeError("The value of a property ("+m+") should be a primitive value.");s(i(m),p,c,h)}else p!=null&&c.push(m.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+p+";")}(c.length||h)&&l.push((r&&!d&&!f?o.map(r):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=e2[Zw]||1;return e2[Zw]=e+1,J0+e.toString(36)}static mount(e,n,r){let i=e[Y0],s=r&&r.nonce;i?s&&i.setNonce(s):i=new bz(e,s),i.mount(Array.isArray(n)?n:[n],e)}}let t2=new Map;class bz{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=t2.get(r);if(s)return e[Y0]=s;this.sheet=new i.CSSStyleSheet,t2.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[Y0]=this}mount(e,n){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let f=0;f<a.rules.length;f++)r.insertRule(a.rules[f],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ul={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Nf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},yz=typeof navigator<"u"&&/Mac/.test(navigator.platform),xz=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Si=0;Si<10;Si++)ul[48+Si]=ul[96+Si]=String(Si);for(var Si=1;Si<=24;Si++)ul[Si+111]="F"+Si;for(var Si=65;Si<=90;Si++)ul[Si]=String.fromCharCode(Si+32),Nf[Si]=String.fromCharCode(Si);for(var dv in ul)Nf.hasOwnProperty(dv)||(Nf[dv]=ul[dv]);function wz(t){var e=yz&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||xz&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Nf:ul)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function If(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function Q0(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function kp(t,e){if(!e.anchorNode)return!1;try{return Q0(t,e.anchorNode)}catch{return!1}}function rc(t){return t.nodeType==3?Jl(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function jf(t,e,n,r){return n?n2(t,e,n,r,-1)||n2(t,e,n,r,1):!1}function Gl(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Gp(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function n2(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ko(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=Gl(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Ko(t):0}else return!1}}function Ko(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function kd(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function jz(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function O3(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function kz(t,e,n,r,i,s,o,a){let l=t.ownerDocument,f=l.defaultView||window;for(let c=t,d=!1;c&&!d;)if(c.nodeType==1){let h,m=c==l.body,p=1,y=1;if(m)h=jz(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(d=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let v=c.getBoundingClientRect();({scaleX:p,scaleY:y}=O3(c,v)),h={left:v.left,right:v.left+c.clientWidth*p,top:v.top,bottom:v.top+c.clientHeight*y}}let g=0,b=0;if(i=="nearest")e.top<h.top?(b=e.top-(h.top+o),n>0&&e.bottom>h.bottom+b&&(b=e.bottom-h.bottom+o)):e.bottom>h.bottom&&(b=e.bottom-h.bottom+o,n<0&&e.top-b<h.top&&(b=e.top-(h.top+o)));else{let v=e.bottom-e.top,x=h.bottom-h.top;b=(i=="center"&&v<=x?e.top+v/2-x/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-x+o)-h.top}if(r=="nearest"?e.left<h.left?(g=e.left-(h.left+s),n>0&&e.right>h.right+g&&(g=e.right-h.right+s)):e.right>h.right&&(g=e.right-h.right+s,n<0&&e.left<h.left+g&&(g=e.left-(h.left+s))):g=(r=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:r=="start"==a?e.left-s:e.right-(h.right-h.left)+s)-h.left,g||b)if(m)f.scrollBy(g,b);else{let v=0,x=0;if(b){let j=c.scrollTop;c.scrollTop+=b/y,x=(c.scrollTop-j)*y}if(g){let j=c.scrollLeft;c.scrollLeft+=g/p,v=(c.scrollLeft-j)*p}e={left:e.left-v,top:e.top-x,right:e.right-v,bottom:e.bottom-x},v&&Math.abs(v-g)<1&&(r="nearest"),x&&Math.abs(x-b)<1&&(i="nearest")}if(m)break;(e.top<h.top||e.bottom>h.bottom||e.left<h.left||e.right>h.right)&&(e={left:Math.max(e.left,h.left),right:Math.min(e.right,h.right),top:Math.max(e.top,h.top),bottom:Math.min(e.bottom,h.bottom)}),c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function Sz(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class Cz{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Ko(n):0),r,Math.min(e.focusOffset,r?Ko(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let vu=null;function E3(t){if(t.setActive)return t.setActive();if(vu)return t.focus(vu);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(vu==null?{get preventScroll(){return vu={preventScroll:!0},!0}}:void 0),!vu){vu=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let r2;function Jl(t,e,n=e){let r=r2||(r2=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Uu(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function _z(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function M3(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function Az(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Ko(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Ko(n))}else{if(n==t)return!0;r=Gl(n),n=n.parentNode}}function P3(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function R3(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Ko(n)}else if(n.parentNode&&!Gp(n))r=Gl(n),n=n.parentNode;else return null}}function T3(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!Gp(n))r=Gl(n)+1,n=n.parentNode;else return null}}class Ii{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Ii(e.parentNode,Gl(e),n)}static after(e,n){return new Ii(e.parentNode,Gl(e)+1,n)}}const Ay=[];class Or{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=Or.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&s!=o.dom&&(n.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=i2(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&n&&n.node==r&&(n.written=!0);s;)s=i2(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=Ko(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Or.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,f=r,c=r;l<this.children.length;l++){let d=this.children[l],h=f+d.length;if(f<e&&h>n)return d.domBoundsAround(e,n,f);if(h>=e&&i==-1&&(i=l,s=f),f>n&&d.dom.parentNode==this.dom){o=l,a=c;break}c=h,f=h+d.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=Ay){this.markDirty();for(let i=e;i<n;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new $3(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Or.prototype.breakAfter=0;function i2(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class $3{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function N3(t,e,n,r,i,s,o,a,l){let{children:f}=t,c=f.length?f[e]:null,d=s.length?s[s.length-1]:null,h=d?d.breakAfter:o;if(!(e==r&&c&&!o&&!h&&s.length<2&&c.merge(n,i,s.length?d:null,n==0,a,l))){if(r<f.length){let m=f[r];m&&(i<m.length||m.breakAfter&&(d!=null&&d.breakAfter))?(e==r&&(m=m.split(i),i=0),!h&&d&&m.merge(0,i,d,!0,0,l)?s[s.length-1]=m:((i||m.children.length&&!m.children[0].length)&&m.merge(0,i,null,!1,0,l),s.push(m))):m!=null&&m.breakAfter&&(d?d.breakAfter=1:o=1),r++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(n,c.length,null,!1,a,0),e++));e<r&&s.length;)if(f[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(f[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<f.length&&!f[e-1].breakAfter&&f[r].merge(0,0,f[e-1],!1,a,l)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function I3(t,e,n,r,i,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:f,off:c}=o.findPos(e,-1),d=e-n;for(let h of r)d+=h.length;t.length+=d,N3(t,f,c,a,l,r,0,i,s)}let ss=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},X0=typeof document<"u"?document:{documentElement:{style:{}}};const Z0=/Edge\/(\d+)/.exec(ss.userAgent),D3=/MSIE \d/.test(ss.userAgent),eb=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ss.userAgent),mg=!!(D3||eb||Z0),s2=!mg&&/gecko\/(\d+)/i.test(ss.userAgent),hv=!mg&&/Chrome\/(\d+)/.exec(ss.userAgent),o2="webkitFontSmoothing"in X0.documentElement.style,L3=!mg&&/Apple Computer/.test(ss.vendor),a2=L3&&(/Mobile\/\w+/.test(ss.userAgent)||ss.maxTouchPoints>2);var ut={mac:a2||/Mac/.test(ss.platform),windows:/Win/.test(ss.platform),linux:/Linux|X11/.test(ss.platform),ie:mg,ie_version:D3?X0.documentMode||6:eb?+eb[1]:Z0?+Z0[1]:0,gecko:s2,gecko_version:s2?+(/Firefox\/(\d+)/.exec(ss.userAgent)||[0,0])[1]:0,chrome:!!hv,chrome_version:hv?+hv[1]:0,ios:a2,android:/Android\b/.test(ss.userAgent),webkit:o2,safari:L3,webkit_version:o2?+(/\bAppleWebKit\/(\d+)/.exec(ss.userAgent)||[0,0])[1]:0,tabSize:X0.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Oz=256;class go extends Or{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof go)||this.length-(n-e)+r.length>Oz||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new go(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Ii(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return Ez(this.dom,e,n)}}class Sa extends Or{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(M3(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,s,o){return r&&(!(r instanceof Sa&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(I3(this,e,n,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Sa(this.mark,n,o)}domAtPos(e){return z3(this,e)}coordsAt(e,n){return q3(this,e,n)}}function Ez(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&n<0||e==r&&n>=0?ut.chrome||ut.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=Jl(t,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return ut.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,f=>f.width)||l),o?kd(l,o<0):l||null}class Wa extends Or{static create(e,n,r){return new Wa(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=Wa.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,s,o){return r&&(!(r instanceof Wa)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof Wa&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return nr.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):nr.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Ii.before(this.dom):Ii.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return kd(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ic extends Or{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ic&&e.side==this.side}split(){return new ic(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Ii.before(this.dom):Ii.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return nr.empty}get isHidden(){return!0}}go.prototype.children=Wa.prototype.children=ic.prototype.children=Ay;function z3(t,e){let n=t.dom,{children:r}=t,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new Ii(n,0)}function B3(t,e,n){let r,{children:i}=t;n>0&&e instanceof Sa&&i.length&&(r=i[i.length-1])instanceof Sa&&r.mark.eq(e.mark)?B3(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function q3(t,e,n){let r=null,i=-1,s=null,o=-1;function a(f,c){for(let d=0,h=0;d<f.children.length&&h<=c;d++){let m=f.children[d],p=h+m.length;p>=c&&(m.children.length?a(m,c-h):(!s||s.isHidden&&n>0)&&(p>c||h==p&&m.getSide()>0)?(s=m,o=c-h):(h<c||h==p&&m.getSide()<0&&!m.isHidden)&&(r=m,i=c-h)),h=p}}a(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):Mz(t)}function Mz(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=rc(e);return n[n.length-1]||null}function tb(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const l2=Object.create(null);function Jp(t,e,n){if(t==e)return!0;t||(t=l2),e||(e=l2);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function nb(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function Pz(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class ra{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Qi=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Qi||(Qi={}));class xt extends Kl{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Sd(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new cl(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=F3(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new cl(e,r,i,n,e.widget||null,!0)}static line(e){return new Cd(e)}static set(e,n=!1){return Wn.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}xt.none=Wn.empty;class Sd extends xt{constructor(e){let{start:n,end:r}=F3(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof Sd&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Jp(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Sd.prototype.point=!1;class Cd extends xt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Cd&&this.spec.class==e.spec.class&&Jp(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Cd.prototype.mapMode=_i.TrackBefore;Cd.prototype.point=!0;class cl extends xt{constructor(e,n,r,i,s,o){super(n,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?_i.TrackBefore:_i.TrackAfter:_i.TrackDel}get type(){return this.startSide!=this.endSide?Qi.WidgetRange:this.startSide<=0?Qi.WidgetBefore:Qi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof cl&&Rz(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}cl.prototype.point=!0;function F3(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function Rz(t,e){return t==e||!!(t&&e&&t.compare(e))}function Sp(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class ai extends Or{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,s,o){if(r){if(!(r instanceof ai))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),I3(this,e,n,r?r.children.slice():[],s,o),!0}split(e){let n=new ai;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Jp(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){B3(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=tb(n,this.attrs||{})),r&&(this.attrs=tb({class:r},this.attrs||{}))}domAtPos(e){return z3(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(M3(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(nb(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&Or.get(i)instanceof Sa;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Or.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!ut.ios||!this.children.some(s=>s instanceof go))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof go)||/[^ -~]/.test(r.text))return null;let i=rc(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=q3(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof ai&&this.children.length==0&&e.children.length==0&&Jp(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=n){if(s instanceof ai)return s;if(o>n)break}i=o+s.breakAfter}return null}}class ba extends Or{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,s,o){return r&&(!(r instanceof ba)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Ii.before(this.dom):Ii.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new ba(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return Ay}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):nr.empty}domBoundsAround(){return null}become(e){return e instanceof ba&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof rb?null:kd(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class rb extends ra{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class kf{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ba&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ai),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Qd(new ic(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof ba)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(Qd(new go(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof cl){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof cl)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ba(r.widget||sc.block,a,r));else{let l=Wa.create(r.widget||sc.inline,a,a?0:r.startSide),f=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<n||r.startSide>0),c=!l.isEditable&&(e<n||s>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!f&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),f&&(d.append(Qd(new ic(1),i),s),s=i.length+Math.max(0,s-i.length)),d.append(Qd(l,i),s),this.atCursorPos=c,this.pendingBuffer=c?e<n||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,i,s){let o=new kf(e,n,r,s);return o.openEnd=Wn.spans(i,n,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Qd(t,e){for(let n of e)t=new Sa(n,[t],t.length);return t}class sc extends ra{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}sc.inline=new sc("span");sc.block=new sc("div");var qr=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(qr||(qr={}));const Yl=qr.LTR,Oy=qr.RTL;function U3(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Tz=U3("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),$z=U3("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),ib=Object.create(null),Co=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);ib[e]=n,ib[n]=-e}function W3(t){return t<=247?Tz[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?$z[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Nz=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Va{get dir(){return this.level%2?Oy:Yl}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function V3(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!V3(r.inner,i.inner))return!1}return!0}const Ar=[];function Iz(t,e,n,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:n,l=s?256:i;for(let f=o,c=l,d=l;f<a;f++){let h=W3(t.charCodeAt(f));h==512?h=c:h==8&&d==4&&(h=16),Ar[f]=h==4?2:h,h&7&&(d=h),c=h}for(let f=o,c=l,d=l;f<a;f++){let h=Ar[f];if(h==128)f<a-1&&c==Ar[f+1]&&c&24?h=Ar[f]=c:Ar[f]=256;else if(h==64){let m=f+1;for(;m<a&&Ar[m]==64;)m++;let p=f&&c==8||m<n&&Ar[m]==8?d==1?1:8:256;for(let y=f;y<m;y++)Ar[y]=p;f=m-1}else h==8&&d==1&&(Ar[f]=1);c=h,h&7&&(d=h)}}}function Dz(t,e,n,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let f=o?r[o-1].to:e,c=o<r.length?r[o].from:n;for(let d=f,h,m,p;d<c;d++)if(m=ib[h=t.charCodeAt(d)])if(m<0){for(let y=a-3;y>=0;y-=3)if(Co[y+1]==-m){let g=Co[y+2],b=g&2?i:g&4?g&1?s:i:0;b&&(Ar[d]=Ar[Co[y]]=b),a=y;break}}else{if(Co.length==189)break;Co[a++]=d,Co[a++]=h,Co[a++]=l}else if((p=Ar[d])==2||p==1){let y=p==i;l=y?0:1;for(let g=a-3;g>=0;g-=3){let b=Co[g+2];if(b&2)break;if(y)Co[g+2]|=2;else{if(b&4)break;Co[g+2]|=4}}}}}function Lz(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=o;l<a;){let f=Ar[l];if(f==256){let c=l+1;for(;;)if(c==a){if(i==n.length)break;c=n[i++].to,a=i<n.length?n[i].from:e}else if(Ar[c]==256)c++;else break;let d=s==1,h=(c<e?Ar[c]:r)==1,m=d==h?d?1:2:r;for(let p=c,y=i,g=y?n[y-1].to:t;p>l;)p==g&&(p=n[--y].from,g=y?n[y-1].to:t),Ar[--p]=m;l=c}else s=f,l++}}}function sb(t,e,n,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,f=0;l<n;){let c=!0,d=!1;if(f==s.length||l<s[f].from){let y=Ar[l];y!=a&&(c=!1,d=y==16)}let h=!c&&a==1?[]:null,m=c?r:r+1,p=l;e:for(;;)if(f<s.length&&p==s[f].from){if(d)break e;let y=s[f];if(!c)for(let g=y.to,b=f+1;;){if(g==n)break e;if(b<s.length&&s[b].from==g)g=s[b++].to;else{if(Ar[g]==a)break e;break}}if(f++,h)h.push(y);else{y.from>l&&o.push(new Va(l,y.from,m));let g=y.direction==Yl!=!(m%2);ob(t,g?r+1:r,i,y.inner,y.from,y.to,o),l=y.to}p=y.to}else{if(p==n||(c?Ar[p]!=a:Ar[p]==a))break;p++}h?sb(t,l,p,r+1,i,h,o):l<p&&o.push(new Va(l,p,m)),l=p}else for(let l=n,f=s.length;l>e;){let c=!0,d=!1;if(!f||l>s[f-1].to){let y=Ar[l-1];y!=a&&(c=!1,d=y==16)}let h=!c&&a==1?[]:null,m=c?r:r+1,p=l;e:for(;;)if(f&&p==s[f-1].to){if(d)break e;let y=s[--f];if(!c)for(let g=y.from,b=f;;){if(g==e)break e;if(b&&s[b-1].to==g)g=s[--b].from;else{if(Ar[g-1]==a)break e;break}}if(h)h.push(y);else{y.to<l&&o.push(new Va(y.to,l,m));let g=y.direction==Yl!=!(m%2);ob(t,g?r+1:r,i,y.inner,y.from,y.to,o),l=y.from}p=y.from}else{if(p==e||(c?Ar[p-1]!=a:Ar[p-1]==a))break;p--}h?sb(t,p,l,r+1,i,h,o):p<l&&o.push(new Va(p,l,m)),l=p}}function ob(t,e,n,r,i,s,o){let a=e%2?2:1;Iz(t,i,s,r,a),Dz(t,i,s,r,a),Lz(i,s,r,a),sb(t,i,s,e,n,r,o)}function zz(t,e,n){if(!t)return[new Va(0,0,e==Oy?1:0)];if(e==Yl&&!n.length&&!Nz.test(t))return H3(t.length);if(n.length)for(;t.length>Ar.length;)Ar[Ar.length]=256;let r=[],i=e==Yl?0:1;return ob(t,i,i,n,0,t.length,r),r}function H3(t){return[new Va(0,t,0)]}let K3="";function Bz(t,e,n,r,i){var s;let o=r.head-t.from,a=Va.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],f=l.side(i,n);if(o==f){let h=a+=i?1:-1;if(h<0||h>=e.length)return null;l=e[a=h],o=l.side(!i,n),f=l.side(i,n)}let c=Oi(t.text,o,l.forward(i,n));(c<l.from||c>l.to)&&(c=f),K3=t.text.slice(Math.min(o,c),Math.max(o,c));let d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return d&&c==f&&d.level+(i?0:1)<l.level?Oe.cursor(d.side(!i,n)+t.from,d.forward(i,n)?1:-1,d.level):Oe.cursor(c+t.from,l.forward(i,n)?-1:1,l.level)}function qz(t,e,n){for(let r=e;r<n;r++){let i=W3(t.charCodeAt(r));if(i==1)return Yl;if(i==2||i==4)return Oy}return Yl}const G3=at.define(),J3=at.define(),Y3=at.define(),Q3=at.define(),ab=at.define(),X3=at.define(),Z3=at.define(),Ey=at.define(),My=at.define(),eM=at.define({combine:t=>t.some(e=>e)}),tM=at.define({combine:t=>t.some(e=>e)}),nM=at.define();class Wu{constructor(e,n="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Wu(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Wu(Oe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Xd=Xt.define({map:(t,e)=>t.map(e)}),rM=Xt.define();function Yi(t,e,n){let r=t.facet(Q3);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const ha=at.define({combine:t=>t.length?t[0]:!0});let Fz=0;const uf=at.define();class Jr{constructor(e,n,r,i,s){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.extension=s(this)}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=n||{};return new Jr(Fz++,e,r,i,a=>{let l=[uf.of(a)];return o&&l.push(Df.of(f=>{let c=f.plugin(a);return c?o(c):xt.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return Jr.define(r=>new e(r),n)}}class pv{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Yi(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){Yi(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Yi(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const iM=at.define(),Py=at.define(),Df=at.define(),sM=at.define(),Ry=at.define(),oM=at.define();function u2(t,e){let n=t.state.facet(oM);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(t):s),i=[];return Wn.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let f=s-e.from,c=o-e.from,d=i;for(let h=a.length-1;h>=0;h--,l--){let m=a[h].spec.bidiIsolate,p;if(m==null&&(m=qz(e.text,f,c)),l>0&&d.length&&(p=d[d.length-1]).to==f&&p.direction==m)p.to=c,d=p.inner;else{let y={from:f,to:c,direction:m,inner:[]};d.push(y),d=y.inner}}}}),i}const aM=at.define();function Ty(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(aM)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const cf=at.define();class Bs{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Bs(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],f=o-a,c=l?l.fromB:1e9;for(;s<n.length&&n[s]<c;){let d=n[s],h=n[s+1],m=Math.max(a,d),p=Math.min(c,h);if(m<=p&&new Bs(m+f,p+f,m,p).addToSet(r),h>c)break;s+=2}if(!l)return r;new Bs(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class Yp{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=si.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new Bs(s,o,a,l))),this.changedRanges=i}static create(e,n,r){return new Yp(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class c2 extends Or{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=xt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new ai],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Bs(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:f,toA:c})=>c<this.minWidthFrom||f>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!Jz(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?Wz(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:f,to:c}=this.hasComposition;r=new Bs(f,c,e.changes.mapPos(f,-1),e.changes.mapPos(c,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(ut.ie||ut.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=Kz(o,a,e.changes);return r=Bs.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=ut.chrome||ut.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof ba&&o.widget instanceof rb&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:f,fromB:c,toB:d}=a,h,m,p,y;if(r&&r.range.fromB<d&&r.range.toB>c){let j=kf.build(this.view.state.doc,c,r.range.fromB,this.decorations,this.dynamicDecorationMap),w=kf.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);m=j.breakAtStart,p=j.openStart,y=w.openEnd;let k=this.compositionView(r);w.breakAtStart?k.breakAfter=1:w.content.length&&k.merge(k.length,k.length,w.content[0],!1,w.openStart,0)&&(k.breakAfter=w.content[0].breakAfter,w.content.shift()),j.content.length&&k.merge(0,0,j.content[j.content.length-1],!0,0,j.openEnd)&&j.content.pop(),h=j.content.concat(k).concat(w.content)}else({content:h,breakAtStart:m,openStart:p,openEnd:y}=kf.build(this.view.state.doc,c,d,this.decorations,this.dynamicDecorationMap));let{i:g,off:b}=s.findPos(f,1),{i:v,off:x}=s.findPos(l,-1);N3(this,v,x,g,b,h,m,p,y)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(rM)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new go(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new Sa(i,[n],n.length);let r=new ai;return r.append(n,0),r}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Or.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],n(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(ha)||this.dom.tabIndex>-1)&&kp(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),f=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(ut.gecko&&a.empty&&!this.hasComposition&&Uz(l)){let d=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(d,l.node.childNodes[l.offset]||null)),l=f=new Ii(d,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||(!jf(l.node,l.offset,c.anchorNode,c.anchorOffset)||!jf(f.node,f.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,a))&&(this.view.observer.ignore(()=>{ut.android&&ut.chrome&&this.dom.contains(c.focusNode)&&Gz(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=If(this.view.root);if(d)if(a.empty){if(ut.gecko){let h=Vz(l.node,l.offset);if(h&&h!=3){let m=(h==1?R3:T3)(l.node,l.offset);m&&(l=new Ii(m.node,m.offset))}}d.collapse(l.node,l.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(f.node,f.offset)}catch{}}else{let h=document.createRange();a.anchor>a.head&&([l,f]=[f,l]),h.setEnd(f.node,f.offset),h.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(h)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,f)),this.impreciseAnchor=l.precise?null:new Ii(c.anchorNode,c.anchorOffset),this.impreciseHead=f.precise?null:new Ii(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&jf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=If(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=ai.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),f=this.coordsAt(n.head,1);if(!l||!f||l.bottom>f.top)return;let c=this.domAtPos(n.head+n.assoc);r.collapse(c.node,c.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=n.from&&r.collapse(i,s)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let s=Or.get(n.childNodes[i]);s instanceof ai&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=Or.get(n.childNodes[i]);s instanceof ai&&(r=s.domAtPos(s.length))}return r?new Ii(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=Or.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof ai)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,f=l-a.length;if(l<e)break;if(f<=e&&(f<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof ai&&!(r instanceof ai&&n>=0)))r=a,i=f;else if(r&&f==e&&l==e&&a instanceof ba&&Math.abs(n)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=f}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof ai))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof go))return null;let s=Oi(i.text,r);if(s==r)return null;let o=Jl(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==qr.LTR;for(let f=0,c=0;c<this.children.length;c++){let d=this.children[c],h=f+d.length;if(h>i)break;if(f>=r){let m=d.dom.getBoundingClientRect();if(n.push(m.height),o){let p=d.dom.lastChild,y=p?rc(p):[];if(y.length){let g=y[y.length-1],b=l?g.right-m.left:m.right-g.left;b>a&&(a=b,this.minWidth=s,this.minWidthFrom=f,this.minWidthTo=h)}}}f=h+d.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?qr.RTL:qr.LTR}measureTextSize(){for(let s of this.children)if(s instanceof ai){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=rc(e.firstChild)[0];n=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new $3(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(xt.replace({widget:new rb(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return xt.set(e)}updateDeco(){let e=1,n=this.view.state.facet(Df).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(sM).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(Wn.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let f of this.view.state.facet(nM))try{if(f(this.view,e.range,e))return!0}catch(c){Yi(this.view.state,c,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=Ty(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;kz(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==qr.LTR)}}function Uz(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function lM(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=R3(n.focusNode,n.focusOffset),i=T3(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=Or.get(i.node);if(!a||a instanceof go&&a.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let l=Or.get(r.node);!l||l instanceof go&&l.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function Wz(t,e,n){let r=lM(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,f=new Bs(l.mapPos(s),l.mapPos(o),s,o),c=[];for(let d=i.parentNode;;d=d.parentNode){let h=Or.get(d);if(h instanceof Sa)c.push({node:d,deco:h.mark});else{if(h instanceof ai||d.nodeName=="DIV"&&d.parentNode==t.contentDOM)return{range:f,text:i,marks:c,line:d};if(d!=t.contentDOM)c.push({node:d,deco:new Sd({inclusive:!0,attributes:Pz(d),tagName:d.tagName.toLowerCase()})});else return null}}}function Vz(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let Hz=class{constructor(){this.changes=[]}compareRange(e,n){Sp(e,n,this.changes)}comparePoint(e,n){Sp(e,n,this.changes)}boundChange(e){Sp(e,e,this.changes)}};function Kz(t,e,n){let r=new Hz;return Wn.compare(t,e,n,r),r.changes}function Gz(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function Jz(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function Yz(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return Oe.cursor(e);s==0?n=1:s==i.length&&(n=-1);let o=s,a=s;n<0?o=Oi(i.text,s,!1):a=Oi(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let f=Oi(i.text,o,!1);if(r(i.text.slice(f,o))!=l)break;o=f}for(;a<i.length;){let f=Oi(i.text,a);if(r(i.text.slice(a,f))!=l)break;a=f}return Oe.range(o+i.from,a+i.from)}function Qz(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Xz(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function mv(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function f2(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function d2(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function lb(t,e,n){let r,i,s,o,a=!1,l,f,c,d;for(let p=t.firstChild;p;p=p.nextSibling){let y=rc(p);for(let g=0;g<y.length;g++){let b=y[g];i&&mv(i,b)&&(b=f2(d2(b,i.bottom),i.top));let v=Qz(e,b),x=Xz(n,b);if(v==0&&x==0)return p.nodeType==3?h2(p,e,n):lb(p,e,n);if(!r||o>x||o==x&&s>v){r=p,i=b,s=v,o=x;let j=x?n<b.top?-1:1:v?e<b.left?-1:1:0;a=!j||(j>0?g<y.length-1:g>0)}v==0?n>b.bottom&&(!c||c.bottom<b.bottom)?(l=p,c=b):n<b.top&&(!d||d.top>b.top)&&(f=p,d=b):c&&mv(c,b)?c=d2(c,b.bottom):d&&mv(d,b)&&(d=f2(d,b.top))}}if(c&&c.bottom>=n?(r=l,i=c):d&&d.top<=n&&(r=f,i=d),!r)return{node:t,offset:0};let h=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return h2(r,h,n);if(a&&r.contentEditable!="false")return lb(r,h,n);let m=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:m}}function h2(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=Jl(t,a,a+1).getClientRects();for(let f=0;f<l.length;f++){let c=l[f];if(c.top==c.bottom)continue;o||(o=e-c.left);let d=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&d<s){let h=e>=(c.left+c.right)/2,m=h;if((ut.chrome||ut.gecko)&&Jl(t,a).getBoundingClientRect().left==c.right&&(m=!h),d<=0)return{node:t,offset:a+(m?1:0)};i=a+(m?1:0),s=d}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function uM(t,e,n,r=-1){var i,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:f}=t.viewState,{x:c,y:d}=e,h=d-a;if(h<0)return 0;if(h>f)return t.state.doc.length;for(let j=t.viewState.heightOracle.textHeight/2,w=!1;l=t.elementAtHeight(h),l.type!=Qi.Text;)for(;h=r>0?l.bottom+j:l.top-j,!(h>=0&&h<=f);){if(w)return n?null:0;w=!0,r=-r}d=a+h;let m=l.from;if(m<t.viewport.from)return t.viewport.from==0?0:n?null:p2(t,o,l,c,d);if(m>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:p2(t,o,l,c,d);let p=t.dom.ownerDocument,y=t.root.elementFromPoint?t.root:p,g=y.elementFromPoint(c,d);g&&!t.contentDOM.contains(g)&&(g=null),g||(c=Math.max(o.left+1,Math.min(o.right-1,c)),g=y.elementFromPoint(c,d),g&&!t.contentDOM.contains(g)&&(g=null));let b,v=-1;if(g&&((i=t.docView.nearest(g))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let j=p.caretPositionFromPoint(c,d);j&&({offsetNode:b,offset:v}=j)}else if(p.caretRangeFromPoint){let j=p.caretRangeFromPoint(c,d);j&&({startContainer:b,startOffset:v}=j,(!t.contentDOM.contains(b)||ut.safari&&Zz(b,v,c)||ut.chrome&&e7(b,v,c))&&(b=void 0))}b&&(v=Math.min(Ko(b),v))}if(!b||!t.docView.dom.contains(b)){let j=ai.find(t.docView,m);if(!j)return h>l.top+l.height/2?l.to:l.from;({node:b,offset:v}=lb(j.dom,c,d))}let x=t.docView.nearest(b);if(!x)return null;if(x.isWidget&&((s=x.dom)===null||s===void 0?void 0:s.nodeType)==1){let j=x.dom.getBoundingClientRect();return e.y<j.top||e.y<=j.bottom&&e.x<=(j.left+j.right)/2?x.posAtStart:x.posAtEnd}else return x.localPosFromDOM(b,v)+x.posAtStart}function p2(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+G0(o,s,t.state.tabSize)}function Zz(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Jl(t,r-1,r).getBoundingClientRect().left>n}function e7(t,e,n){if(e!=0)return!1;for(let i=t;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=t.nodeType==1?t.getBoundingClientRect():Jl(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function ub(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==Qi.Text))return r}return n}function t7(t,e,n,r){let i=ub(t,e.head),s=!r||i.type!=Qi.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==qr.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Oe.cursor(l,n?-1:1)}return Oe.cursor(n?i.to:i.from,n?-1:1)}function m2(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let a=e,l=null;;){let f=Bz(i,s,o,a,n),c=K3;if(!f){if(i.number==(n?t.state.doc.lines:1))return a;c=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),f=t.visualLineSide(i,!n)}if(l){if(!l(c))return a}else{if(!r)return f;l=r(c)}a=f}}function n7(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let o=r(s);return i==Kr.Space&&(i=o),i==o}}function r7(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return Oe.cursor(i,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),f=t.coordsAtPos(i,e.assoc||-1),c=t.documentTop;if(f)o==null&&(o=f.left-l.left),a=s<0?f.top:f.bottom;else{let m=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-m.from))),a=(s<0?m.top:m.bottom)+c}let d=l.left+o,h=r??t.viewState.heightOracle.textHeight>>1;for(let m=0;;m+=10){let p=a+(h+m)*s,y=uM(t,{x:d,y:p},!1,s);if(p<l.top||p>l.bottom||(s<0?y<i:y>i)){let g=t.docView.coordsForChar(y),b=!g||p<g.top?-1:1;return Oe.cursor(y,b,void 0,o)}}}function Cp(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||n||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function gv(t,e,n){let r=Cp(t.state.facet(Ry).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:Oe.cursor(r,r<n.from?1:-1)}const ff="￿";class i7{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(Tn.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=ff}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==n)break;let a=Or.get(i),l=Or.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:Gp(i))||Gp(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let n=Or.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(s7(e,r.node,r.offset)?n:0))}}function s7(t,e,n){for(;;){if(!e||n<Ko(e))return!1;if(e==t)return!0;n=Gl(e)+1,e=e.parentNode}}class g2{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class o7{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=s||o?[]:u7(e),l=new i7(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=c7(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!Q0(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),f=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!Q0(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),c=e.viewport;if((ut.ios||ut.chrome)&&e.state.selection.main.empty&&l!=f&&(c.from>0||c.to<e.state.doc.length)){let d=Math.min(l,f),h=Math.max(l,f),m=c.from-d,p=c.to-h;(m==0||m==1||d==0)&&(p==0||p==-1||h==e.state.doc.length)&&(l=0,f=e.state.doc.length)}this.newSel=Oe.single(f,l)}}}function cM(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,f=null;(s===8||ut.android&&e.text.length<a-o)&&(l=i.to,f="end");let c=l7(t.state.doc.sliceString(o,a,ff),e.text,l-o,f);c&&(ut.chrome&&s==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==ff+ff&&c.toB--,n={from:o+c.from,to:o+c.toA,insert:nr.of(e.text.slice(c.from,c.toB).split(ff))})}else r&&(!t.hasFocus&&t.state.facet(ha)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(ut.mac||ut.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Oe.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:nr.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:ut.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Oe.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:nr.of([" "])}),n)return $y(t,n,r,s);if(r&&!r.main.eq(i)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function $y(t,e,n,r=-1){if(ut.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(ut.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Uu(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Uu(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Uu(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=a7(t,e,n));return t.state.facet(X3).some(l=>l(t,e.from,e.to,s,a))||t.dispatch(a()),!0}function a7(t,e,n){let r,i=t.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=s.from<e.from?i.sliceDoc(s.from,e.from):"",l=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=i.changes(e),l=n&&n.main.to<=a.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let f=t.state.sliceDoc(e.from,e.to),c,d=n&&lM(t,n.main.head);if(d){let p=e.insert.length-(e.to-e.from);c={from:d.from,to:d.to-p}}else c=t.state.doc.lineAt(s.head);let h=s.to-e.to,m=s.to-s.from;r=i.changeByRange(p=>{if(p.from==s.from&&p.to==s.to)return{changes:a,range:l||p.map(a)};let y=p.to-h,g=y-f.length;if(p.to-p.from!=m||t.state.sliceDoc(g,y)!=f||p.to>=c.from&&p.from<=c.to)return{range:p};let b=i.changes({from:g,to:y,insert:e.insert}),v=p.to-s.to;return{changes:b,range:l?Oe.range(Math.max(0,l.anchor+v),Math.max(0,l.head+v)):p.map(b)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function l7(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function u7(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new g2(n,r)),(i!=n||s!=r)&&e.push(new g2(i,s))),e}function c7(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?Oe.single(n+e,r+e):null}class f7{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ut.safari&&e.contentDOM.addEventListener("input",()=>null),ut.gecko&&A7(e.contentDOM.ownerDocument)}handleEvent(e){!y7(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=d7(e),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&dM.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ut.android&&ut.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return ut.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=fM.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||h7.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Uu(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ut.safari&&!ut.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function v2(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){Yi(n.state,i)}}}function d7(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec;if(i&&i.domEventHandlers)for(let s in i.domEventHandlers){let o=i.domEventHandlers[s];o&&n(s).handlers.push(v2(r.value,o))}if(i&&i.domEventObservers)for(let s in i.domEventObservers){let o=i.domEventObservers[s];o&&n(s).observers.push(v2(r.value,o))}}for(let r in vo)n(r).handlers.push(vo[r]);for(let r in Hs)n(r).observers.push(Hs[r]);return e}const fM=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],h7="dthko",dM=[16,17,18,20,91,92,224,225],Zd=6;function eh(t){return Math.max(0,t)*.7+8}function p7(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class m7{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=Sz(e.contentDOM),this.atoms=e.state.facet(Ry).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Tn.allowMultipleSelections)&&g7(e,n),this.dragging=b7(e,n)&&mM(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&p7(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=Ty(this.view);e.clientX-l.left<=i+Zd?n=-eh(i-e.clientX):e.clientX+l.right>=o-Zd&&(n=eh(e.clientX-o)),e.clientY-l.top<=s+Zd?r=-eh(s-e.clientY):e.clientY+l.bottom>=a-Zd&&(r=eh(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=Cp(this.atoms,i.from,0);o!=i.from&&(s=Oe.cursor(o,-1))}else{let o=Cp(this.atoms,i.from,-1),a=Cp(this.atoms,i.to,1);(o!=i.from||a!=i.to)&&(s=Oe.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?Oe.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function g7(t,e){let n=t.state.facet(G3);return n.length?n[0](e):ut.mac?e.metaKey:e.ctrlKey}function v7(t,e){let n=t.state.facet(J3);return n.length?n[0](e):ut.mac?!e.altKey:!e.ctrlKey}function b7(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=If(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function y7(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Or.get(n))&&r.ignoreEvent(e))return!1;return!0}const vo=Object.create(null),Hs=Object.create(null),hM=ut.ie&&ut.ie_version<15||ut.ios&&ut.webkit_version<604;function x7(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),pM(t,n.value)},50)}function gg(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function pM(t,e){e=gg(t.state,Ey,e);let{state:n}=t,r,i=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(cb!=null&&n.selection.ranges.every(l=>l.empty)&&cb==s.toString()){let l=-1;r=n.changeByRange(f=>{let c=n.doc.lineAt(f.from);if(c.from==l)return{range:f};l=c.from;let d=n.toText((o?s.line(i++).text:e)+n.lineBreak);return{changes:{from:c.from,insert:d},range:Oe.cursor(f.from+d.length)}})}else o?r=n.changeByRange(l=>{let f=s.line(i++);return{changes:{from:l.from,to:l.to,insert:f.text},range:Oe.cursor(l.from+f.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Hs.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};vo.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Hs.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Hs.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};vo.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(Y3))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=k7(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new m7(t,e,n,r)),r&&t.observer.ignore(()=>{E3(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function b2(t,e,n,r){if(r==1)return Oe.cursor(e,n);if(r==2)return Yz(t.state,e,n);{let i=ai.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,Oe.range(o,a)}}let y2=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function w7(t,e,n,r){let i=ai.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&y2(n,r,o))return-1;let a=i.coordsAt(s,1);return a&&y2(n,r,a)?1:o&&o.bottom>=r?-1:1}function x2(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:w7(t,n,e.clientX,e.clientY)}}const j7=ut.ie&&ut.ie_version<=11;let w2=null,j2=0,k2=0;function mM(t){if(!j7)return t.detail;let e=w2,n=k2;return w2=t,k2=Date.now(),j2=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(j2+1)%3:1}function k7(t,e){let n=x2(t,e),r=mM(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,o,a){let l=x2(t,s),f,c=b2(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!o){let d=b2(t,n.pos,n.bias,r),h=Math.min(d.from,c.from),m=Math.max(d.to,c.to);c=h<c.from?Oe.range(h,m):Oe.range(m,h)}return o?i.replaceRange(i.main.extend(c.from,c.to)):a&&r==1&&i.ranges.length>1&&(f=S7(i,l.pos))?f:a?i.addRange(c):Oe.create([c])}}}function S7(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return Oe.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}vo.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=n.to||o<=n.from)&&(n=Oe.range(s,o))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",gg(t.state,My,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};vo.dragend=t=>(t.inputState.draggedContent=null,!1);function S2(t,e,n,r){if(n=gg(t.state,Ey,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&v7(t,e)?{from:s.from,to:s.to}:null,a={from:i,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}vo.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&S2(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return S2(t,e,r,!0),!0}return!1};vo.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=hM?null:e.clipboardData;return n?(pM(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(x7(t),!1)};function C7(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function _7(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:gg(t,My,e.join(t.lineBreak)),ranges:n,linewise:r}}let cb=null;vo.copy=vo.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=_7(t.state);if(!n&&!i)return!1;cb=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=hM?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(C7(t,n),!1)};const gM=na.define();function vM(t,e){let n=[];for(let r of t.facet(Z3)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:gM.of(!0)}):null}function bM(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=vM(t.state,e);n?t.dispatch(n):t.update([])}},10)}Hs.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),bM(t)};Hs.blur=t=>{t.observer.clearSelectionRange(),bM(t)};Hs.compositionstart=Hs.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Hs.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,ut.chrome&&ut.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Hs.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};vo.beforeinput=(t,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=t.posAtDOM(a.startContainer,a.startOffset),f=t.posAtDOM(a.endContainer,a.endOffset);return $y(t,{from:l,to:f,insert:t.state.toText(s)},null),!0}}let i;if(ut.chrome&&ut.android&&(i=fM.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return ut.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),ut.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Hs.compositionend(t,e),20),!1};const C2=new Set;function A7(t){C2.has(t)||(C2.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const _2=["pre-wrap","normal","pre-line","break-spaces"];let oc=!1;function A2(){oc=!1}class O7{constructor(e){this.lineWrapping=e,this.doc=nr.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return _2.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,o){let a=_2.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let f=0;f<o.length;f++){let c=o[f];c<0?f++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class E7{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Po{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Qi.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof cl?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Po(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Br=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Br||(Br={}));const _p=.001;class Xi{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>_p&&(oc=!0),this.height=e)}replace(e,n,r){return Xi.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:f,fromB:c,toB:d}=i[a],h=s.lineAt(l,Br.ByPosNoHeight,r.setDoc(n),0,0),m=h.to>=f?h:s.lineAt(f,Br.ByPosNoHeight,r,0,0);for(d+=m.to-f,f=m.to;a>0&&h.from<=i[a-1].toA;)l=i[a-1].fromA,c=i[a-1].fromB,a--,l<h.from&&(h=s.lineAt(l,Br.ByPosNoHeight,r,0,0));c+=h.from-l,l=h.from;let p=Ny.build(r.setDoc(o),e,c,d);s=Qp(s,s.replace(l,f,p))}return s.updateHeight(r,0)}static empty(){return new vs(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new M7(Xi.of(e.slice(0,n)),o,Xi.of(e.slice(r)))}}function Qp(t,e){return t==e?t:(t.constructor!=e.constructor&&(oc=!0),e)}Xi.prototype.size=1;class yM extends Xi{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new Po(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,n,r,i,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class vs extends yM{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new Po(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof vs||i instanceof ki&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof ki?i=new vs(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Xi.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ki extends Xi{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,n,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let f=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),c=n.doc.lineAt(f),d=a+c.length*l,h=Math.max(r,e-d/2);return new Po(c.from,c.length,h,d,0)}else{let f=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:c,length:d}=n.doc.line(s+f);return new Po(c,d,r+a*f,a,0)}}lineAt(e,n,r,i,s){if(n==Br.ByHeight)return this.blockAt(e,r,i,s);if(n==Br.ByPosNoHeight){let{from:m,to:p}=r.doc.lineAt(e);return new Po(m,p-m,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),f=r.doc.lineAt(e),c=a+f.length*l,d=f.number-o,h=i+a*d+l*(f.from-s-d);return new Po(f.from,f.length,Math.max(i,Math.min(h,i+this.height-c)),c,0)}forEachLine(e,n,r,i,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:f}=this.heightMetrics(r,s);for(let c=e,d=i;c<=n;){let h=r.doc.lineAt(c);if(c==e){let p=h.number-a;d+=l*p+f*(e-s-p)}let m=l+f*h.length;o(new Po(h.from,h.length,d,m,0)),d+=m,c=h.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof ki?r[r.length-1]=new ki(s.length+i):r.push(null,new ki(i-1))}if(e>0){let s=r[0];s instanceof ki?r[0]=new ki(e+s.length):r.unshift(new ki(e-1),null)}return Xi.of(r)}decomposeLeft(e,n){n.push(new ki(e-1),null)}decomposeRight(e,n){n.push(null,new ki(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new ki(i.from-n-1).updateHeight(e,n));a<=s&&i.more;){let c=e.doc.lineAt(a).length;o.length&&o.push(null);let d=i.heights[i.index++];l==-1?l=d:Math.abs(d-l)>=_p&&(l=-2);let h=new vs(c,d);h.outdated=!1,o.push(h),a+=c+1}a<=s&&o.push(null,new ki(s-a).updateHeight(e,a));let f=Xi.of(o);return(l<0||Math.abs(f.height-this.height)>=_p||Math.abs(l-this.heightMetrics(e,n).perLine)>=_p)&&(oc=!0),Qp(this,f)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class M7 extends Xi{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=n==Br.ByHeight?e<o:e<a,f=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,o,a);if(this.break||(l?f.to<a:f.from>a))return f;let c=n==Br.ByPosNoHeight?Br.ByPosNoHeight:Br.ByPos;return l?f.join(this.right.lineAt(a,c,r,o,a)):this.left.lineAt(a,c,r,i,s).join(f)}forEachLine(e,n,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,o),n>=l&&this.right.forEachLine(e,n,r,a,l,o);else{let f=this.lineAt(l,Br.ByPos,r,i,s);e<f.from&&this.left.forEachLine(e,f.from-1,r,i,s,o),f.to>=e&&f.from<=n&&o(f),n>f.to&&this.right.forEachLine(f.to+1,n,r,a,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&O2(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),O2(s,a)}return Xi.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Xi.of(this.break?[e,null,n]:[e,n]):(this.left=Qp(this.left,e),this.right=Qp(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function O2(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof ki&&(r=t[e+1])instanceof ki&&t.splice(e-1,3,new ki(n.length+1+r.length))}const P7=5;class Ny{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof vs?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new vs(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new yM(o,i,r)):(o||s||i>=P7)&&this.addLineDeco(i,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new vs(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new ki(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof vs)return e;let n=new vs(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof vs)&&!this.isCovered?this.nodes.push(new vs(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof vs&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new Ny(r,e);return Wn.spans(n,r,i,s,0),s.finish(r)}}function R7(t,e,n){let r=new T7;return Wn.compare(t,e,n,r,0),r.changes}class T7{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&Sp(e,n,this.changes,5)}}function $7(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let f=t.parentNode;f&&f!=r.body;)if(f.nodeType==1){let c=f,d=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&d.overflow!="visible"){let h=c.getBoundingClientRect();s=Math.max(s,h.left),o=Math.min(o,h.right),a=Math.max(a,h.top),l=Math.min(f==t.parentNode?i.innerHeight:l,h.bottom)}f=d.position=="absolute"||d.position=="fixed"?c.offsetParent:c.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function N7(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function I7(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class vv{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,n){return xt.replace({widget:new D7(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class D7 extends ra{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class E2{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=M2,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=qr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(Py).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new O7(n),this.stateDeco=e.facet(Df).filter(r=>typeof r!="function"),this.heightMap=Xi.empty().applyChanges(this.stateDeco,nr.empty,this.heightOracle.setDoc(e.doc),[new Bs(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=xt.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new th(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?M2:new Iy(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(df(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Df).filter(c=>typeof c!="function");let i=e.changedRanges,s=Bs.extendWithRanges(i,R7(r,this.stateDeco,e?e.changes:si.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);A2(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||oc)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let f=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(f||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(tM)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?qr.RTL:qr.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let f=0,c=0;if(a.width&&a.height){let{scaleX:j,scaleY:w}=O3(n,a);(j>.005&&Math.abs(this.scaleX-j)>.005||w>.005&&Math.abs(this.scaleY-w)>.005)&&(this.scaleX=j,this.scaleY=w,f|=16,o=l=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,h=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=h)&&(this.paddingTop=d,this.paddingBottom=h,f|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=16);let m=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=m&&(this.scrollAnchorHeight=-1,this.scrollTop=m),this.scrolledToBottom=P3(e.scrollDOM);let p=(this.printing?I7:$7)(n,this.paddingTop),y=p.top-this.pixelViewport.top,g=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(l=!0)),!this.inView&&!this.scrollTarget&&!N7(e.dom))return 0;let v=a.width;if((this.contentDOMWidth!=v||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,f|=16),l){let j=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(j)&&(o=!0),o||i.lineWrapping&&Math.abs(v-this.contentDOMWidth)>i.charWidth){let{lineHeight:w,charWidth:k,textHeight:S}=e.docView.measureTextSize();o=w>0&&i.refresh(s,w,k,S,v/k,j),o&&(e.docView.minWidth=0,f|=16)}y>0&&g>0?c=Math.max(y,g):y<0&&g<0&&(c=Math.min(y,g)),A2();for(let w of this.viewports){let k=w.from==this.viewport.from?j:e.docView.measureVisibleLineHeights(w);this.heightMap=(o?Xi.empty().applyChanges(this.stateDeco,nr.empty,this.heightOracle,[new Bs(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new E7(w.from,k))}oc&&(f|=2)}let x=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),f|=this.updateForViewport()),(f&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new th(i.lineAt(o-r*1e3,Br.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,Br.ByHeight,s,0,0).to);if(n){let{head:f}=n.range;if(f<l.from||f>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(f,Br.ByPos,s,0,0),h;n.y=="center"?h=(d.top+d.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&f<l.from?h=d.top:h=d.bottom-c,l=new th(i.lineAt(h-1e3/2,Br.ByHeight,s,0,0).from,i.lineAt(h+c+1e3/2,Br.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new th(this.heightMap.lineAt(r,Br.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Br.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Br.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,Br.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new vv(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=qr.LTR&&!r)return[];let a=[],l=(c,d,h,m)=>{if(d-c<s)return;let p=this.state.selection.main,y=[p.from];p.empty||y.push(p.to);for(let b of y)if(b>c&&b<d){l(c,b-10,h,m),l(b+10,d,h,m);return}let g=z7(e,b=>b.from>=h.from&&b.to<=h.to&&Math.abs(b.from-c)<s&&Math.abs(b.to-d)<s&&!y.some(v=>b.from<v&&b.to>v));if(!g){if(d<h.to&&n&&r&&n.visibleRanges.some(x=>x.from<=d&&x.to>=d)){let x=n.moveToLineBoundary(Oe.cursor(d),!1,!0).head;x>c&&(d=x)}let b=this.gapSize(h,c,d,m),v=r||b<2e6?b:2e6;g=new vv(c,d,b,v)}a.push(g)},f=c=>{if(c.length<o||c.type!=Qi.Text)return;let d=L7(c.from,c.to,this.stateDeco);if(d.total<o)return;let h=this.scrollTarget?this.scrollTarget.range.head:null,m,p;if(r){let y=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,b;if(h!=null){let v=rh(d,h),x=((this.visibleBottom-this.visibleTop)/2+y)/c.height;g=v-x,b=v+x}else g=(this.visibleTop-c.top-y)/c.height,b=(this.visibleBottom-c.top+y)/c.height;m=nh(d,g),p=nh(d,b)}else{let y=d.total*this.heightOracle.charWidth,g=i*this.heightOracle.charWidth,b=0;if(y>2e6)for(let k of e)k.from>=c.from&&k.from<c.to&&k.size!=k.displaySize&&k.from*this.heightOracle.charWidth+b<this.pixelViewport.left&&(b=k.size-k.displaySize);let v=this.pixelViewport.left+b,x=this.pixelViewport.right+b,j,w;if(h!=null){let k=rh(d,h),S=((x-v)/2+g)/y;j=k-S,w=k+S}else j=(v-g)/y,w=(x+g)/y;m=nh(d,j),p=nh(d,w)}m>c.from&&l(c.from,m,c,d),p<c.to&&l(p,c.to,c,d)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(f):f(c);return a}gapSize(e,n,r,i){let s=rh(i,r)-rh(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){vv.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=xt.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];Wn.spans(n,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||df(this.heightMap.lineAt(e,Br.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||df(this.heightMap.lineAt(this.scaler.fromDOM(e),Br.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return df(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class th{constructor(e,n){this.from=e,this.to=n}}function L7(t,e,n){let r=[],i=t,s=0;return Wn.spans(n,t,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function nh({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function rh(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function z7(t,e){for(let n of t)if(e(n))return n}const M2={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class Iy{constructor(e,n,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let f=n.lineAt(a,Br.ByPos,e,0,0).top,c=n.lineAt(l,Br.ByPos,e,0,0).bottom;return i+=c-f,{from:a,to:l,top:f,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof Iy?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function df(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Po(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>df(i,e)):t._content)}const ih=at.define({combine:t=>t.join(" ")}),fb=at.define({combine:t=>t.indexOf(!0)>-1}),db=ll.newName(),xM=ll.newName(),wM=ll.newName(),jM={"&light":"."+xM,"&dark":"."+wM};function hb(t,e,n){return new ll(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const B7=hb("."+db,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},jM),q7={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},bv=ut.ie&&ut.ie_version<=11;class F7{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Cz,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(ut.ie&&ut.ie_version<=11||ut.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(ut.chrome&&ut.chrome_version<126)&&(this.editContext=new W7(e),e.state.facet(ha)&&(e.contentDOM.editContext=this.editContext.editContext)),bv&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(ha)?r.root.activeElement!=this.dom:!kp(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(ut.ie&&ut.ie_version<=11||ut.android&&ut.chrome)&&!r.state.selection.main.empty&&i.focusNode&&jf(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=If(e.root);if(!n)return!1;let r=ut.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&U7(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=kp(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Az(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,q7),bv&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),bv&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Uu(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&kp(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new o7(this.view,e,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=cM(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=P2(n,e.previousSibling||e.target.previousSibling,-1),i=P2(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ha)!=e.state.facet(ha)&&(e.view.contentDOM.editContext=e.state.facet(ha)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function P2(t,e,n){for(;e;){let r=Or.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function R2(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return jf(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function U7(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return R2(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?R2(t,n):null}class W7{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let f={from:a,to:l,insert:nr.of(r.text.split(`
`))};if(f.from==this.from&&s<this.from?f.from=s:f.to==this.to&&s>this.to&&(f.to=s),f.from==f.to&&!f.insert.length){let c=Oe.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));c.main.eq(i)||e.dispatch({selection:c,userEvent:"select"});return}if((ut.mac||ut.android)&&f.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(f={from:a,to:l,insert:nr.of([r.text.replace("."," ")])}),this.pendingContextChange=f,!e.state.readOnly){let c=this.to-this.from+(f.to-f.from+f.insert.length);$y(e,f,Oe.single(this.toEditorPos(r.selectionStart,c),this.toEditorPos(r.selectionEnd,c)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=this.toEditorPos(s.rangeStart),f=this.toEditorPos(s.rangeEnd);if(l<f){let c=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(xt.mark({attributes:{style:c}}).range(l,f))}}}e.dispatch({effects:rM.of(xt.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=If(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,f)=>{if(r)return;let c=f.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(f)){i=this.pendingContextChange=null,n+=c,this.to+=c;return}else i=null,this.revertPending(e.state);if(s+=n,o+=n,o<=this.from)this.from+=c,this.to+=c;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+f.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),f.toString()),this.to+=c}n+=c}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class tt{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||_z(e.parent)||document,this.viewState=new E2(e.state||Tn.create(e)),e.scrollTo&&e.scrollTo.is(Xd)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(uf).map(i=>new pv(i));for(let i of this.plugins)i.update(this);this.observer=new F7(this),this.inputState=new f7(this),this.inputState.ensureHandlers(this.plugins),this.docView=new c2(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof ci?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let h of e){if(h.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=h.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(h=>h.annotation(gM))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=vM(s,o),l||(a=1));let f=this.observer.delayedAndroidKey,c=null;if(f?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(Tn.phrases)!=this.state.facet(Tn.phrases))return this.setState(s);i=Yp.create(this,s,e),i.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(d&&(d=d.map(h.changes)),h.scrollIntoView){let{main:m}=h.state.selection;d=new Wu(m.empty?m:Oe.cursor(m.head,m.head>m.anchor?-1:1))}for(let m of h.effects)m.is(Xd)&&(d=m.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=Xp.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(cf)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(ih)!=i.state.facet(ih)&&(this.viewState.mustMeasureContent=!0),(n||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let h of this.state.facet(ab))try{h(i)}catch(m){Yi(this.state,m,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!cM(this,c)&&f.force&&Uu(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new E2(e),this.plugins=e.facet(uf).map(r=>new pv(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new c2(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(uf),r=e.state.facet(uf);if(n!=r){let i=[];for(let s of r){let o=n.indexOf(s);if(o<0)i.push(new pv(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){Yi(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(P3(r))s=-1,o=this.viewState.heightMap.height;else{let m=this.viewState.scrollAnchorAt(i);s=m.from,o=m.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];l&4||([this.measureRequests,f]=[f,this.measureRequests]);let c=f.map(m=>{try{return m.read(this)}catch(p){return Yi(this.state,p),T2}}),d=Yp.create(this,this.state,[]),h=!1;d.flags|=l,n?n.flags|=l:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),h=this.docView.update(d),h&&this.docViewUpdate());for(let m=0;m<f.length;m++)if(c[m]!=T2)try{let p=f[m];p.write&&p.write(c[m],this)}catch(p){Yi(this.state,p)}if(h&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let p=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(ab))a(n)}get themeClasses(){return db+" "+(this.state.facet(fb)?wM:xM)+" "+this.state.facet(ih)}updateAttrs(){let e=$2(this,iM,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ha)?"true":"false",class:"cm-content",style:`${ut.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),$2(this,Py,n);let r=this.observer.ignore(()=>{let i=nb(this.contentDOM,this.contentAttrs,n),s=nb(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(tt.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(cf);let e=this.state.facet(tt.cspNonce);ll.mount(this.root,this.styleModules.concat(B7).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return gv(this,e,m2(this,e,n,r))}moveByGroup(e,n){return gv(this,e,m2(this,e,n,r=>n7(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return Oe.cursor(s.side(n,i)+e.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return t7(this,e,n,r)}moveVertically(e,n,r){return gv(this,e,r7(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),uM(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Va.find(s,e-i.from,-1,n)];return kd(r,o.dir==qr.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(eM)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>V7)return H3(e.length);let n=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||V3(s.isolates,r=u2(this,e))))return s.order;r||(r=u2(this,e));let i=zz(e.text,n,r);return this.bidiCache.push(new Xp(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ut.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{E3(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Xd.of(new Wu(typeof e=="number"?Oe.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Xd.of(new Wu(Oe.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Jr.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Jr.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=ll.newName(),i=[ih.of(r),cf.of(hb(`.${r}`,e))];return n&&n.dark&&i.push(fb.of(!0)),i}static baseTheme(e){return jl.lowest(cf.of(hb("."+db,e,jM)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Or.get(r)||Or.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}tt.styleModule=cf;tt.inputHandler=X3;tt.clipboardInputFilter=Ey;tt.clipboardOutputFilter=My;tt.scrollHandler=nM;tt.focusChangeEffect=Z3;tt.perLineTextDirection=eM;tt.exceptionSink=Q3;tt.updateListener=ab;tt.editable=ha;tt.mouseSelectionStyle=Y3;tt.dragMovesSelection=J3;tt.clickAddsSelectionRange=G3;tt.decorations=Df;tt.outerDecorations=sM;tt.atomicRanges=Ry;tt.bidiIsolatedRanges=oM;tt.scrollMargins=aM;tt.darkTheme=fb;tt.cspNonce=at.define({combine:t=>t.length?t[0]:""});tt.contentAttributes=Py;tt.editorAttributes=iM;tt.lineWrapping=tt.contentAttributes.of({class:"cm-lineWrapping"});tt.announce=Xt.define();const V7=4096,T2={};class Xp{constructor(e,n,r,i,s,o){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:qr.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new Xp(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function $2(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(t):s;o&&tb(o,n)}return n}const H7=ut.mac?"mac":ut.windows?"win":ut.linux?"linux":"key";function K7(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<n.length-1;++l){const f=n[l];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function sh(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const G7=jl.default(tt.domEventHandlers({keydown(t,e){return SM(kM(e.state),t,e,"editor")}})),Lf=at.define({enables:G7}),N2=new WeakMap;function kM(t){let e=t.facet(Lf),n=N2.get(e);return n||N2.set(e,n=Q7(e.reduce((r,i)=>r.concat(i),[]))),n}function J7(t,e,n){return SM(kM(t.state),e,t,n)}let Fa=null;const Y7=4e3;function Q7(t,e=H7){let n=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,f,c)=>{var d,h;let m=n[o]||(n[o]=Object.create(null)),p=a.split(/ (?!$)/).map(b=>K7(b,e));for(let b=1;b<p.length;b++){let v=p.slice(0,b).join(" ");i(v,!0),m[v]||(m[v]={preventDefault:!0,stopPropagation:!1,run:[x=>{let j=Fa={view:x,prefix:v,scope:o};return setTimeout(()=>{Fa==j&&(Fa=null)},Y7),!0}]})}let y=p.join(" ");i(y,!1);let g=m[y]||(m[y]={preventDefault:!1,stopPropagation:!1,run:((h=(d=m._any)===null||d===void 0?void 0:d.run)===null||h===void 0?void 0:h.slice())||[]});l&&g.run.push(l),f&&(g.preventDefault=!0),c&&(g.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let f of a){let c=n[f]||(n[f]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=o;for(let h in c)c[h].run.push(m=>d(m,pb))}let l=o[e]||o.key;if(l)for(let f of a)s(f,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(f,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}let pb=null;function SM(t,e,n,r){pb=e;let i=wz(e),s=is(i,0),o=Mo(s)==i.length&&i!=" ",a="",l=!1,f=!1,c=!1;Fa&&Fa.view==n&&Fa.scope==r&&(a=Fa.prefix+" ",dM.indexOf(e.keyCode)<0&&(f=!0,Fa=null));let d=new Set,h=g=>{if(g){for(let b of g.run)if(!d.has(b)&&(d.add(b),b(n)))return g.stopPropagation&&(c=!0),!0;g.preventDefault&&(g.stopPropagation&&(c=!0),f=!0)}return!1},m=t[r],p,y;return m&&(h(m[a+sh(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ut.windows&&e.ctrlKey&&e.altKey)&&(p=ul[e.keyCode])&&p!=i?(h(m[a+sh(p,e,!0)])||e.shiftKey&&(y=Nf[e.keyCode])!=i&&y!=p&&h(m[a+sh(y,e,!1)]))&&(l=!0):o&&e.shiftKey&&h(m[a+sh(i,e,!0)])&&(l=!0),!l&&h(m._any)&&(l=!0)),f&&(l=!0),l&&c&&e.stopPropagation(),pb=null,l}class _d{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=CM(e);return[new _d(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return X7(e,n,r)}}function CM(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==qr.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function I2(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let s=t.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function X7(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==qr.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=CM(t),f=o.querySelector(".cm-line"),c=f&&window.getComputedStyle(f),d=a.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),h=a.right-(c?parseInt(c.paddingRight):0),m=ub(t,r),p=ub(t,i),y=m.type==Qi.Text?m:null,g=p.type==Qi.Text?p:null;if(y&&(t.lineWrapping||m.widgetLineBreaks)&&(y=I2(t,r,1,y)),g&&(t.lineWrapping||p.widgetLineBreaks)&&(g=I2(t,i,-1,g)),y&&g&&y.from==g.from&&y.to==g.to)return v(x(n.from,n.to,y));{let w=y?x(n.from,null,y):j(m,!1),k=g?x(null,n.to,g):j(p,!0),S=[];return(y||m).to<(g||p).from-(y&&g?1:0)||m.widgetLineBreaks>1&&w.bottom+t.defaultLineHeight/2<k.top?S.push(b(d,w.bottom,h,k.top)):w.bottom<k.top&&t.elementAtHeight((w.bottom+k.top)/2).type==Qi.Text&&(w.bottom=k.top=(w.bottom+k.top)/2),v(w).concat(S).concat(v(k))}function b(w,k,S,M){return new _d(e,w-l.left,k-l.top,S-w,M-k)}function v({top:w,bottom:k,horizontal:S}){let M=[];for(let E=0;E<S.length;E+=2)M.push(b(S[E],w,S[E+1],k));return M}function x(w,k,S){let M=1e9,E=-1e9,J=[];function W(ue,ne,re,me,de){let pe=t.coordsAtPos(ue,ue==S.to?-2:2),X=t.coordsAtPos(re,re==S.from?2:-2);!pe||!X||(M=Math.min(pe.top,X.top,M),E=Math.max(pe.bottom,X.bottom,E),de==qr.LTR?J.push(s&&ne?d:pe.left,s&&me?h:X.right):J.push(!s&&me?d:X.left,!s&&ne?h:pe.right))}let z=w??S.from,K=k??S.to;for(let ue of t.visibleRanges)if(ue.to>z&&ue.from<K)for(let ne=Math.max(ue.from,z),re=Math.min(ue.to,K);;){let me=t.state.doc.lineAt(ne);for(let de of t.bidiSpans(me)){let pe=de.from+me.from,X=de.to+me.from;if(pe>=re)break;X>ne&&W(Math.max(pe,ne),w==null&&pe<=z,Math.min(X,re),k==null&&X>=K,de.dir)}if(ne=me.to+1,ne>=re)break}return J.length==0&&W(z,w==null,K,k==null,t.textDirection),{top:M,bottom:E,horizontal:J}}function j(w,k){let S=a.top+(k?w.top:w.bottom);return{top:S,bottom:S,horizontal:[]}}}function Z7(t,e){return t.constructor==e.constructor&&t.eq(e)}class eB{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(Ap)!=e.state.facet(Ap)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(Ap);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!Z7(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Ap=at.define();function _M(t){return[Jr.define(e=>new eB(e,t)),Ap.of(t)]}const AM=!(ut.ios&&ut.webkit&&ut.webkit_version<534),zf=at.define({combine(t){return Js(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function tB(t={}){return[zf.of(t),nB,rB,iB,tM.of(!0)]}function OM(t){return t.startState.facet(zf)!=t.state.facet(zf)}const nB=_M({above:!0,markers(t){let{state:e}=t,n=e.facet(zf),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||AM:n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:Oe.cursor(i.head,i.head>i.anchor?-1:1);for(let l of _d.forRange(t,o,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=OM(t);return n&&D2(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){D2(e.state,t)},class:"cm-cursorLayer"});function D2(t,e){e.style.animationDuration=t.facet(zf).cursorBlinkRate+"ms"}const rB=_M({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:_d.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||OM(t)},class:"cm-selectionLayer"}),mb={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};AM&&(mb[".cm-line"].caretColor=mb[".cm-content"].caretColor="transparent !important");const iB=jl.highest(tt.theme(mb)),EM=Xt.define({map(t,e){return t==null?null:e.mapPos(t)}}),hf=di.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(EM)?r.value:n,t)}}),sB=Jr.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(hf);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(hf)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(hf),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(hf)!=t&&this.view.dispatch({effects:EM.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function oB(){return[hf,sB]}function L2(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function aB(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class lB{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,f,c)=>i(c,f,f+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,f,c)=>{let d=r(a,l,f);d&&c(f,f+a[0].length,d)};else if(r)this.addMatch=(a,l,f,c)=>c(f,f+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new Ho,r=n.add.bind(n);for(let{from:i,to:s}of aB(e,this.maxLength))L2(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>o){let l=e.state.doc.lineAt(o),f=l.to<a?e.state.doc.lineAt(a):l,c=Math.max(s.from,l.from),d=Math.min(s.to,f.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){c=o;break}for(;a<f.to;a++)if(this.boundary.test(f.text[a-f.from])){d=a;break}}let h=[],m,p=(y,g,b)=>h.push(b.range(y,g));if(l==f)for(this.regexp.lastIndex=c-l.from;(m=this.regexp.exec(l.text))&&m.index<d-l.from;)this.addMatch(m,e,m.index+l.from,p);else L2(e.state.doc,this.regexp,c,d,(y,g)=>this.addMatch(g,e,y,p));n=n.update({filterFrom:c,filterTo:d,filter:(y,g)=>y<c||g>d,add:h})}}return n}}const gb=/x/.unicode!=null?"gu":"g",uB=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,gb),cB={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let yv=null;function fB(){var t;if(yv==null&&typeof document<"u"&&document.body){let e=document.body.style;yv=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return yv||!1}const Op=at.define({combine(t){let e=Js(t,{render:null,specialChars:uB,addSpecialChars:null});return(e.replaceTabs=!fB())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,gb)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,gb)),e}});function dB(t={}){return[Op.of(t),hB()]}let z2=null;function hB(){return z2||(z2=Jr.fromClass(class{constructor(t){this.view=t,this.decorations=xt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Op)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new lB({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=is(e[0],0);if(s==9){let o=i.lineAt(r),a=n.state.tabSize,l=_c(o.text,a,r-o.from);return xt.replace({widget:new vB((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=xt.replace({widget:new gB(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Op);t.startState.facet(Op)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const pB="•";function mB(t){return t>=32?pB:t==10?"␤":String.fromCharCode(9216+t)}class gB extends ra{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=mB(this.code),r=e.state.phrase("Control character")+" "+(cB[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class vB extends ra{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function bB(){return xB}const yB=xt.line({class:"cm-activeLine"}),xB=Jr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(yB.range(i.from)),e=i.from)}return xt.set(n)}},{decorations:t=>t.decorations});class wB extends ra{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),typeof this.content=="string"?n.setAttribute("aria-label","placeholder "+this.content):n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?rc(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=kd(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function KZ(t){return Jr.fromClass(class{constructor(e){this.view=e,this.placeholder=t?xt.set([xt.widget({widget:new wB(t),side:1}).range(0)]):xt.none}get decorations(){return this.view.state.doc.length?xt.none:this.placeholder}},{decorations:e=>e.decorations})}const vb=2e3;function jB(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>vb||n.off>vb||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let f=t.doc.line(l);f.length<=a&&s.push(Oe.range(f.from+o,f.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let f=t.doc.line(l),c=G0(f.text,o,t.tabSize,!0);if(c<0)s.push(Oe.cursor(f.to));else{let d=G0(f.text,a,t.tabSize);s.push(Oe.range(f.from+c,f.from+d))}}}return s}function kB(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function B2(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>vb?-1:i==r.length?kB(t,e.clientX):_c(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function SB(t,e){let n=B2(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),o=i.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=B2(t,i);if(!a)return r;let l=jB(t.state,n,a);return l.length?o?Oe.create(l.concat(r.ranges)):Oe.create(l):r}}:null}function CB(t){let e=n=>n.altKey&&n.button==0;return tt.mouseSelectionStyle.of((n,r)=>e(r)?SB(n,r):null)}const _B={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},AB={style:"cursor: crosshair"};function OB(t={}){let[e,n]=_B[t.key||"Alt"],r=Jr.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,tt.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?AB:null})]}const Qc="-10000px";class MM{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,n){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let f=s[l],c=-1;if(f){for(let d=0;d<this.tooltips.length;d++){let h=this.tooltips[d];h&&h.create==f.create&&(c=d)}if(c<0)o[l]=this.createTooltipView(f,l?o[l-1]:null),a&&(a[l]=!!f.above);else{let d=o[l]=this.tooltipViews[c];a&&(a[l]=n[c]),d.update&&d.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,f)=>n[f]=l),n.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function EB(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const xv=at.define({combine:t=>{var e,n,r;return{position:ut.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||EB}}}),q2=new WeakMap,Dy=Jr.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(xv);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new MM(t,vg,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(xv);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=Qc,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(ut.gecko)n=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==Qc&&s.style.left=="0px"){let o=s.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(t=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=Ty(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(xv).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],f=this.manager.tooltipViews[a],{dom:c}=f,d=t.pos[a],h=t.size[a];if(!d||l.clip!==!1&&(d.bottom<=Math.max(n.top,r.top)||d.top>=Math.min(n.bottom,r.bottom)||d.right<Math.max(n.left,r.left)-.1||d.left>Math.min(n.right,r.right)+.1)){c.style.top=Qc;continue}let m=l.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,p=m?7:0,y=h.right-h.left,g=(e=q2.get(f))!==null&&e!==void 0?e:h.bottom-h.top,b=f.offset||PB,v=this.view.textDirection==qr.LTR,x=h.width>r.right-r.left?v?r.left:r.right-h.width:v?Math.max(r.left,Math.min(d.left-(m?14:0)+b.x,r.right-y)):Math.min(Math.max(r.left,d.left-y+(m?14:0)-b.x),r.right-y),j=this.above[a];!l.strictSide&&(j?d.top-g-p-b.y<r.top:d.bottom+g+p+b.y>r.bottom)&&j==r.bottom-d.bottom>d.top-r.top&&(j=this.above[a]=!j);let w=(j?d.top-r.top:r.bottom-d.bottom)-p;if(w<g&&f.resize!==!1){if(w<this.view.defaultLineHeight){c.style.top=Qc;continue}q2.set(f,g),c.style.height=(g=w)/s+"px"}else c.style.height&&(c.style.height="");let k=j?d.top-g-p-b.y:d.bottom+p+b.y,S=x+y;if(f.overlap!==!0)for(let M of o)M.left<S&&M.right>x&&M.top<k+g&&M.bottom>k&&(k=j?M.top-g-2-p:M.bottom+p+2);if(this.position=="absolute"?(c.style.top=(k-t.parent.top)/s+"px",F2(c,(x-t.parent.left)/i)):(c.style.top=k/s+"px",F2(c,x/i)),m){let M=d.left+(v?b.x:-b.x)-(x+14-7);m.style.left=M/i+"px"}f.overlap!==!0&&o.push({left:x,top:k,right:S,bottom:k+g}),c.classList.toggle("cm-tooltip-above",j),c.classList.toggle("cm-tooltip-below",!j),f.positioned&&f.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Qc}},{eventObservers:{scroll(){this.maybeMeasure()}}});function F2(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const MB=tt.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),PB={x:0,y:0},vg=at.define({enables:[Dy,MB]}),Zp=at.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class bg{static create(e){return new bg(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new MM(e,Zp,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const RB=vg.compute([Zp],t=>{let e=t.facet(Zp);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:bg.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class TB{constructor(e,n,r,i,s){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,s=1;if(r instanceof Wa)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let a=e.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(c=>c.from<=i&&c.to>=i),f=l&&l.dir==qr.RTL?-1:1;s=n.x<a.left?-f:f}let o=this.source(e,i,s);if(o!=null&&o.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>Yi(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(Dy),n=e?e.manager.tooltips.findIndex(r=>r.create==bg.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!$B(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!NB(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const oh=4;function $B(t,e){let{left:n,right:r,top:i,bottom:s}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=n-oh&&e.clientX<=r+oh&&e.clientY>=i-oh&&e.clientY<=s+oh}function NB(t,e,n,r,i,s){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function IB(t,e={}){let n=Xt.define(),r=di.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,_i.TrackDel);if(l!=null){let f=Object.assign(Object.create(null),a);f.pos=l,f.end!=null&&(f.end=s.changes.mapPos(f.end)),o.push(f)}}i=o}for(let o of s.effects)o.is(n)&&(i=o.value),o.is(DB)&&(i=[]);return i},provide:i=>Zp.from(i)});return{active:r,extension:[r,Jr.define(i=>new TB(i,t,r,n,e.hoverTime||300)),RB]}}function PM(t,e){let n=t.plugin(Dy);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const DB=Xt.define(),U2=at.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Bf(t,e){let n=t.plugin(RM),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const RM=Jr.fromClass(class{constructor(t){this.input=t.state.facet(qf),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(U2);this.top=new ah(t,!0,e.topContainer),this.bottom=new ah(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(U2);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new ah(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new ah(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(qf);if(n!=this.input){let r=n.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let f=this.specs.indexOf(l),c;f<0?(c=l(t.view),a.push(c)):(c=this.panels[f],c.update&&c.update(t)),i.push(c),(c.top?s:o).push(c)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>tt.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class ah{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=W2(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=W2(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function W2(t){let e=t.nextSibling;return t.remove(),e}const qf=at.define({enables:RM});class Go extends Kl{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Go.prototype.elementClass="";Go.prototype.toDOM=void 0;Go.prototype.mapMode=_i.TrackBefore;Go.prototype.startSide=Go.prototype.endSide=-1;Go.prototype.point=!0;const Ep=at.define(),LB=at.define(),zB={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Wn.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Sf=at.define();function TM(t){return[$M(),Sf.of(Object.assign(Object.assign({},zB),t))]}const V2=at.define({combine:t=>t.some(e=>e)});function $M(t){return[BB]}const BB=Jr.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Sf).map(e=>new K2(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(V2),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(V2)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=Wn.iter(this.view.state.facet(Ep),this.view.viewport.from),r=[],i=this.gutters.map(s=>new qB(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Qi.Text&&o){bb(n,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==Qi.Text){bb(n,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Sf),n=t.state.facet(Sf),r=t.docChanged||t.heightChanged||t.viewportChanged||!Wn.eq(t.startState.facet(Ep),t.state.facet(Ep),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let o=e.indexOf(s);o<0?i.push(new K2(this.view,s)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>tt.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==qr.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function H2(t){return Array.isArray(t)?t:[t]}function bb(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class qB{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Wn.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,s=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==i.elements.length){let a=new NM(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];bb(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let s of e.state.facet(LB)){let o=s(e,n.widget,n);o&&(i||(i=[])).push(o)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class K2{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=H2(n.markers(e)),n.initialSpacer&&(this.spacer=new NM(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=H2(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Wn.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class NM{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),FB(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,f=!1;if(l){let c=l.elementClass;c&&(r+=" "+c);for(let d=o;d<this.markers.length;d++)if(this.markers[d].compare(l)){a=d,f=!0;break}}else a=this.markers.length;for(;o<a;){let c=this.markers[o++];if(c.toDOM){c.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!l)break;l.toDOM&&(f?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),f&&o++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function FB(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const UB=at.define(),WB=at.define(),Tu=at.define({combine(t){return Js(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],o=n[i];r[i]=s?(a,l,f)=>s(a,l,f)||o(a,l,f):o}return r}})}});class wv extends Go{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function jv(t,e){return t.state.facet(Tu).formatNumber(e,t.state)}const VB=Sf.compute([Tu],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(UB)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new wv(jv(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(WB)){let s=i(e,n,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Tu)!=e.state.facet(Tu),initialSpacer(e){return new wv(jv(e,G2(e.state.doc.lines)))},updateSpacer(e,n){let r=jv(n.view,G2(n.view.state.doc.lines));return r==e.number?e:new wv(r)},domEventHandlers:t.facet(Tu).domEventHandlers}));function HB(t={}){return[Tu.of(t),$M(),VB]}function G2(t){let e=9;for(;e<t;)e=e*10+9;return e}const KB=new class extends Go{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},GB=Ep.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(KB.range(i)))}return Wn.of(e)});function JB(){return GB}var kv;const Bl=new pn;function IM(t){return at.define({combine:t?e=>e.concat(t):void 0})}const YB=new pn;class $s{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Tn.prototype.hasOwnProperty("tree")||Object.defineProperty(Tn.prototype,"tree",{get(){return yi(this)}}),this.parser=n,this.extension=[fl.of(this),Tn.languageData.of((s,o,a)=>{let l=J2(s,o,a),f=l.type.prop(Bl);if(!f)return[];let c=s.facet(f),d=l.type.prop(YB);if(d){let h=l.resolve(o-l.from,a);for(let m of d)if(m.test(h,s)){let p=s.facet(m.facet);return m.type=="replace"?p:p.concat(c)}}return c})].concat(r)}isActiveAt(e,n,r=-1){return J2(e,n,r).type.prop(Bl)==this.data}findRegions(e){let n=e.facet(fl);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Bl)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(pn.mounted);if(a){if(a.tree.prop(Bl)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let f=s.children[l];f instanceof fr&&i(f,s.positions[l]+o)}};return i(yi(e),0),r}get allowsNesting(){return!0}}$s.setState=Xt.define();function J2(t,e,n){let r=t.facet(fl),i=yi(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,Hr.ExcludeBuffers))s.type.isTop&&(i=s);return i}class em extends $s{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=IM(e.languageData);return new em(n,e.parser.configure({props:[Bl.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new em(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function yi(t){let e=t.field($s.state,!1);return e?e.tree:fr.empty}class QB{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Xc=null;class ac{constructor(e,n,r=[],i,s,o,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new ac(e,n,[],fr.empty,0,r,[],null)}startParse(){return this.parser.startParse(new QB(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=fr.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(va.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(va.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Xc;Xc=this;try{return e()}finally{Xc=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=Y2(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((f,c,d,h)=>l.push({fromA:f,toA:c,fromB:d,toB:h})),r=va.applyChanges(r,l),i=fr.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let f of this.skipped){let c=e.mapPos(f.from,1),d=e.mapPos(f.to,-1);c<d&&a.push({from:c,to:d})}}}return new ac(this.parser,n,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=Y2(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends jy{createParse(n,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Xc;if(l){for(let f of i)l.tempSkipped.push(f);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new fr(qi.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Xc}}function Y2(t,e,n){return va.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class lc{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new lc(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=ac.create(e.facet(fl).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new lc(r)}}$s.state=di.define({create:lc.init,update(t,e){for(let n of e.effects)if(n.is($s.setState))return n.value;return e.startState.facet(fl)!=e.state.facet(fl)?lc.init(e.state):t.apply(e)}});let DM=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(DM=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Sv=typeof navigator<"u"&&(!((kv=navigator.scheduling)===null||kv===void 0)&&kv.isInputPending)?()=>navigator.scheduling.isInputPending():null,XB=Jr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field($s.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field($s.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=DM(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field($s.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Sv?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>Sv&&Sv()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:$s.setState.of(new lc(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Yi(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),fl=at.define({combine(t){return t.length?t[0]:null},enables:t=>[$s.state,XB,tt.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class ZB{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class LM{constructor(e,n,r,i,s,o=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=s,this.support=o,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new LM(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let i of e)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let i of e)if(i.alias.some(s=>s==n))return i;if(r)for(let i of e)for(let s of i.alias){let o=n.indexOf(s);if(o>-1&&(s.length>2||!/\w/.test(n[o-1])&&!/\w/.test(n[o+s.length])))return i}return null}}const zM=at.define(),Ad=at.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function bo(t){let e=t.facet(Ad);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Ff(t,e){let n="",r=t.tabSize,i=t.facet(Ad)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function Ly(t,e){t instanceof Tn&&(t=new yg(t));for(let r of t.state.facet(zM)){let i=r(t,e);if(i!==void 0)return i}let n=yi(t.state);return n.length>=e?eq(t,n,e):null}class yg{constructor(e,n={}){this.state=e,this.options=n,this.unit=bo(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return _c(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const BM=new pn;function eq(t,e,n){let r=e.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){let s=[];for(let o=i;o!=r.node;o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return qM(r,t,n)}function qM(t,e,n){for(let r=t;r;r=r.next){let i=nq(r.node);if(i)return i(zy.create(e,n,r))}return 0}function tq(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function nq(t){let e=t.type.prop(BM);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(pn.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>FM(o,!0,1,void 0,s&&!tq(o)?i.from:void 0)}return t.parent==null?rq:null}function rq(){return 0}class zy extends yg{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new zy(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(iq(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return qM(this.context.next,this.base,this.pos)}}function iq(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function sq(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let f=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+f}}a=l.to}}function JZ({closing:t,align:e=!0,units:n=1}){return r=>FM(r,e,n,t)}function FM(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==t.pos+o,l=e?sq(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const YZ=t=>t.baseIndent;function Q2({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const oq=200;function aq(){return Tn.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+oq)return t;let s=n.sliceString(i.from,r);if(!e.some(f=>f.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:f}of o.selection.ranges){let c=o.doc.lineAt(f);if(c.from==a)continue;a=c.from;let d=Ly(o,c.from);if(d==null)continue;let h=/^\s*/.exec(c.text)[0],m=Ff(o,d);h!=m&&l.push({from:c.from,to:c.from+h.length,insert:m})}return l.length?[t,{changes:l,sequential:!0}]:t})}const lq=at.define(),UM=new pn;function uq(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function cq(t,e,n){let r=yi(t);if(r.length<n)return null;let i=r.resolveStack(n,1),s=null;for(let o=i;o;o=o.next){let a=o.node;if(a.to<=n||a.from>n)continue;if(s&&a.from<e)break;let l=a.type.prop(UM);if(l&&(a.to<r.length-50||r.length==t.doc.length||!fq(a))){let f=l(a,t);f&&f.from<=n&&f.from>=e&&f.to>n&&(s=f)}}return s}function fq(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function tm(t,e,n){for(let r of t.facet(lq)){let i=r(t,e,n);if(i)return i}return cq(t,e,n)}function WM(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const xg=Xt.define({map:WM}),Od=Xt.define({map:WM});function VM(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const Ql=di.define({create(){return xt.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(xg)&&!dq(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(GM),i=r?xt.replace({widget:new yq(r(e.state,n.value))}):X2;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(Od)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(i,s)=>{i<r&&s>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return t},provide:t=>tt.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(X2.range(r,i))}return xt.set(e,!0)}});function nm(t,e,n){var r;let i=null;return(r=t.field(Ql,!1))===null||r===void 0||r.between(e,n,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function dq(t,e,n){let r=!1;return t.between(e,e,(i,s)=>{i==e&&s==n&&(r=!0)}),r}function HM(t,e){return t.field(Ql,!1)?e:e.concat(Xt.appendConfig.of(JM()))}const hq=t=>{for(let e of VM(t)){let n=tm(t.state,e.from,e.to);if(n)return t.dispatch({effects:HM(t.state,[xg.of(n),KM(t,n)])}),!0}return!1},pq=t=>{if(!t.state.field(Ql,!1))return!1;let e=[];for(let n of VM(t)){let r=nm(t.state,n.from,n.to);r&&e.push(Od.of(r),KM(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function KM(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return tt.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const mq=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=tm(e,i.from,i.to);s&&n.push(xg.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:HM(t.state,n)}),!!n.length},gq=t=>{let e=t.state.field(Ql,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(Od.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},vq=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:hq},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:pq},{key:"Ctrl-Alt-[",run:mq},{key:"Ctrl-Alt-]",run:gq}],bq={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},GM=at.define({combine(t){return Js(t,bq)}});function JM(t){return[Ql,jq]}function YM(t,e){let{state:n}=t,r=n.facet(GM),i=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),l=nm(t.state,a.from,a.to);l&&t.dispatch({effects:Od.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const X2=xt.replace({widget:new class extends ra{toDOM(t){return YM(t,null)}}});class yq extends ra{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return YM(e,this.value)}}const xq={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Cv extends Go{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function wq(t={}){let e=Object.assign(Object.assign({},xq),t),n=new Cv(e,!0),r=new Cv(e,!1),i=Jr.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(fl)!=o.state.facet(fl)||o.startState.field(Ql,!1)!=o.state.field(Ql,!1)||yi(o.startState)!=yi(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new Ho;for(let l of o.viewportLineBlocks){let f=nm(o.state,l.from,l.to)?r:tm(o.state,l.from,l.to)?n:null;f&&a.add(l.from,l.from,f)}return a.finish()}}),{domEventHandlers:s}=e;return[i,TM({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||Wn.empty},initialSpacer(){return new Cv(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let f=nm(o.state,a.from,a.to);if(f)return o.dispatch({effects:Od.of(f)}),!0;let c=tm(o.state,a.from,a.to);return c?(o.dispatch({effects:xg.of(c)}),!0):!1}})}),JM()]}const jq=tt.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ed{constructor(e,n){this.specs=e;let r;function i(a){let l=ll.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof $s?a=>a.prop(Bl)==o.data:o?a=>a==o:void 0,this.style=l3(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new ll(r):null,this.themeType=n.themeType}static define(e,n){return new Ed(e,n||{})}}const yb=at.define(),QM=at.define({combine(t){return t.length?[t[0]]:null}});function _v(t){let e=t.facet(yb);return e.length?e:t.facet(QM)}function XM(t,e){let n=[Sq],r;return t instanceof Ed&&(t.module&&n.push(tt.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(QM.of(t)):r?n.push(yb.computeN([tt.darkTheme],i=>i.facet(tt.darkTheme)==(r=="dark")?[t]:[])):n.push(yb.of(t)),n}class kq{constructor(e){this.markCache=Object.create(null),this.tree=yi(e.state),this.decorations=this.buildDeco(e,_v(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=yi(e.state),r=_v(e.state),i=r!=_v(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!i&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return xt.none;let r=new Ho;for(let{from:i,to:s}of e.visibleRanges)YL(this.tree,n,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=xt.mark({class:l})))},i,s);return r.finish()}}const Sq=jl.high(Jr.fromClass(kq,{decorations:t=>t.decorations})),Cq=Ed.define([{tag:Ge.meta,color:"#404740"},{tag:Ge.link,textDecoration:"underline"},{tag:Ge.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Ge.emphasis,fontStyle:"italic"},{tag:Ge.strong,fontWeight:"bold"},{tag:Ge.strikethrough,textDecoration:"line-through"},{tag:Ge.keyword,color:"#708"},{tag:[Ge.atom,Ge.bool,Ge.url,Ge.contentSeparator,Ge.labelName],color:"#219"},{tag:[Ge.literal,Ge.inserted],color:"#164"},{tag:[Ge.string,Ge.deleted],color:"#a11"},{tag:[Ge.regexp,Ge.escape,Ge.special(Ge.string)],color:"#e40"},{tag:Ge.definition(Ge.variableName),color:"#00f"},{tag:Ge.local(Ge.variableName),color:"#30a"},{tag:[Ge.typeName,Ge.namespace],color:"#085"},{tag:Ge.className,color:"#167"},{tag:[Ge.special(Ge.variableName),Ge.macroName],color:"#256"},{tag:Ge.definition(Ge.propertyName),color:"#00c"},{tag:Ge.comment,color:"#940"},{tag:Ge.invalid,color:"#f00"}]),_q=tt.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),ZM=1e4,eP="()[]{}",tP=at.define({combine(t){return Js(t,{afterCursor:!0,brackets:eP,maxScanDistance:ZM,renderMatch:Eq})}}),Aq=xt.mark({class:"cm-matchingBracket"}),Oq=xt.mark({class:"cm-nonmatchingBracket"});function Eq(t){let e=[],n=t.matched?Aq:Oq;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const Mq=di.define({create(){return xt.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(tP);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=$o(e.state,i.head,-1,r)||i.head>0&&$o(e.state,i.head-1,1,r)||r.afterCursor&&($o(e.state,i.head,1,r)||i.head<e.state.doc.length&&$o(e.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return xt.set(n,!0)},provide:t=>tt.decorations.from(t)}),Pq=[Mq,_q];function Rq(t={}){return[tP.of(t),Pq]}const Tq=new pn;function xb(t,e,n){let r=t.prop(e<0?pn.openedBy:pn.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function wb(t){let e=t.type.prop(Tq);return e?e(t.node):t}function $o(t,e,n,r={}){let i=r.maxScanDistance||ZM,s=r.brackets||eP,o=yi(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let f=xb(l.type,n,s);if(f&&l.from<l.to){let c=wb(l);if(c&&(n>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return $q(t,e,n,l,c,f,s)}}return Nq(t,e,n,o,a.type,i,s)}function $q(t,e,n,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},f=0,c=a==null?void 0:a.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do if(n<0?c.to<=r.from:c.from>=r.to){if(f==0&&s.indexOf(c.type.name)>-1&&c.from<c.to){let d=wb(c);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(xb(c.type,n,o))f++;else if(xb(c.type,-n,o)){if(f==0){let d=wb(c);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}f--}}while(n<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function Nq(t,e,n,r,i,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let f={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),d=0;for(let h=0;!c.next().done&&h<=s;){let m=c.value;n<0&&(h+=m.length);let p=e+h*n;for(let y=n>0?0:m.length-1,g=n>0?m.length:-1;y!=g;y+=n){let b=o.indexOf(m[y]);if(!(b<0||r.resolveInner(p+y,1).type!=i))if(b%2==0==n>0)d++;else{if(d==1)return{start:f,end:{from:p+y,to:p+y+1},matched:b>>1==l>>1};d--}}n>0&&(h+=m.length)}return c.done?{start:f,matched:!1}:null}function Z2(t,e,n,r=0,i=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let s=i;for(let o=r;o<e;o++)t.charCodeAt(o)==9?s+=n-s%n:s++;return s}class nP{constructor(e,n,r,i){this.string=e,this.tabSize=n,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),r;if(typeof e=="string"?r=n==e:r=n&&(e instanceof RegExp?e.test(n):e(n)),r)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Z2(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:Z2(this.string,null,this.tabSize)}match(e,n,r){if(typeof e=="string"){let i=o=>r?o.toLowerCase():o,s=this.string.substr(this.pos,e.length);return i(s)==i(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function Iq(t){return{name:t.name||"",token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||Dq,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||qy}}function Dq(t){if(typeof t!="object")return t;let e={};for(let n in t){let r=t[n];e[n]=r instanceof Array?r.slice():r}return e}const ej=new WeakMap;class rP extends $s{constructor(e){let n=IM(e.languageData),r=Iq(e),i,s=new class extends jy{createParse(o,a,l){return new zq(i,o,a,l)}};super(n,s,[zM.of((o,a)=>this.getIndent(o,a))],e.name),this.topNode=Fq(n),i=this,this.streamParser=r,this.stateAfter=new pn({perNode:!0}),this.tokenTable=e.tokenTable?new aP(r.tokenTable):qq}static define(e){return new rP(e)}getIndent(e,n){let r=yi(e.state),i=r.resolve(n);for(;i&&i.type!=this.topNode;)i=i.parent;if(!i)return null;let s,{overrideIndentation:o}=e.options;o&&(s=ej.get(e.state),s!=null&&s<n-1e4&&(s=void 0));let a=By(this,r,0,i.from,s??n),l,f;if(a?(f=a.state,l=a.pos+1):(f=this.streamParser.startState(e.unit),l=0),n-l>1e4)return null;for(;l<n;){let d=e.state.doc.lineAt(l),h=Math.min(n,d.to);if(d.length){let m=o?o(d.from):-1,p=new nP(d.text,e.state.tabSize,e.unit,m<0?void 0:m);for(;p.pos<h-d.from;)sP(this.streamParser.token,p,f)}else this.streamParser.blankLine(f,e.unit);if(h==n)break;l=d.to+1}let c=e.lineAt(n);return o&&s==null&&ej.set(e.state,c.from),this.streamParser.indent(f,/^\s*(.*)/.exec(c.text)[1],e)}get allowsNesting(){return!1}}function By(t,e,n,r,i){let s=n>=r&&n+e.length<=i&&e.prop(t.stateAfter);if(s)return{state:t.streamParser.copyState(s),pos:n+e.length};for(let o=e.children.length-1;o>=0;o--){let a=e.children[o],l=n+e.positions[o],f=a instanceof fr&&l<i&&By(t,a,l,r,i);if(f)return f}return null}function iP(t,e,n,r,i){if(i&&n<=0&&r>=e.length)return e;!i&&e.type==t.topNode&&(i=!0);for(let s=e.children.length-1;s>=0;s--){let o=e.positions[s],a=e.children[s],l;if(o<r&&a instanceof fr){if(!(l=iP(t,a,n-o,r-o,i)))break;return i?new fr(e.type,e.children.slice(0,s).concat(l),e.positions.slice(0,s+1),o+l.length):l}}return null}function Lq(t,e,n,r){for(let i of e){let s=i.from+(i.openStart?25:0),o=i.to-(i.openEnd?25:0),a=s<=n&&o>n&&By(t,i.tree,0-i.offset,n,o),l;if(a&&(l=iP(t,i.tree,n+i.offset,a.pos+i.offset,!1)))return{state:a.state,tree:l}}return{state:t.streamParser.startState(r?bo(r):4),tree:fr.empty}}let zq=class{constructor(e,n,r,i){this.lang=e,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let s=ac.get(),o=i[0].from,{state:a,tree:l}=Lq(e,r,o,s==null?void 0:s.state);this.state=a,this.parsedPos=this.chunkStart=o+l.length;for(let f=0;f<l.children.length;f++)this.chunks.push(l.children[f]),this.chunkPos.push(l.positions[f]);s&&this.parsedPos<s.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(bo(s.state)),s.skipUntilInView(this.parsedPos,s.viewport.from),this.parsedPos=s.viewport.from),this.moveRangeIndex()}advance(){let e=ac.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+2048);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),r=e+n.length;for(let i=this.rangeIndex;;){let s=this.ranges[i].to;if(s>=r||(n=n.slice(0,s-(r-n.length)),i++,i==this.ranges.length))break;let o=this.ranges[i].from,a=this.lineAfter(o);n+=a,r=o+a.length}return{line:n,end:r}}skipGapsTo(e,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,s=e+n;if(r>0?i>s:i>=s)break;let o=this.ranges[++this.rangeIndex].from;n+=o-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,r,i,s){if(this.ranges.length>1){s=this.skipGapsTo(n,s,1),n+=s;let o=this.chunk.length;s=this.skipGapsTo(r,s,-1),r+=s,i+=this.chunk.length-o}return this.chunk.push(e,n,r,i),s}parseLine(e){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:s}=this.lang,o=new nP(n,e?e.state.tabSize:4,e?bo(e.state):2);if(o.eol())s.blankLine(this.state,o.indentUnit);else for(;!o.eol();){let a=sP(s.token,o,this.state);if(a&&(i=this.emitToken(this.lang.tokenTable.resolve(a),this.parsedPos+o.start,this.parsedPos+o.pos,4,i)),o.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=fr.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:Bq,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new fr(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new fr(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function sP(t,e,n){e.start=e.pos;for(let r=0;r<10;r++){let i=t(e,n);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const qy=Object.create(null),Uf=[qi.none],Bq=new pg(Uf),tj=[],nj=Object.create(null),oP=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])oP[t]=lP(qy,e);class aP{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),oP)}resolve(e){return e?this.table[e]||(this.table[e]=lP(this.extra,e)):0}}const qq=new aP(qy);function Av(t,e){tj.indexOf(t)>-1||(tj.push(t),console.warn(e))}function lP(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let f of a.split(".")){let c=t[f]||Ge[f];c?typeof c=="function"?l.length?l=l.map(c):Av(f,`Modifier ${f} used at start of tag`):l.length?Av(f,`Tag ${f} used as modifier`):l=Array.isArray(c)?c:[c]:Av(f,`Unknown highlighting tag ${f}`)}for(let f of l)n.push(f)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),s=nj[i];if(s)return s.id;let o=nj[i]=qi.define({id:Uf.length,name:r,props:[o3({[r]:n})]});return Uf.push(o),o.id}function Fq(t){let e=qi.define({id:Uf.length,name:"Document",props:[Bl.add(()=>t)],top:!0});return Uf.push(e),e}qr.RTL,qr.LTR;const Uq=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=Uy(t.state,n.from);return r.line?Wq(t):r.block?Hq(t):!1};function Fy(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const Wq=Fy(Jq,0),Vq=Fy(uP,0),Hq=Fy((t,e)=>uP(t,e,Gq(e)),0);function Uy(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Zc=50;function Kq(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-Zc,r),o=t.sliceDoc(i,i+Zc),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,f=s.length-a;if(s.slice(f-e.length,f)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let c,d;i-r<=2*Zc?c=d=t.sliceDoc(r,i):(c=t.sliceDoc(r,r+Zc),d=t.sliceDoc(i-Zc,i));let h=/^\s*/.exec(c)[0].length,m=/\s*$/.exec(d)[0].length,p=d.length-m-n.length;return c.slice(h,h+e.length)==e&&d.slice(p,p+n.length)==n?{open:{pos:r+h+e.length,margin:/\s/.test(c.charAt(h+e.length))?1:0},close:{pos:i-m-n.length,margin:/\s/.test(d.charAt(p-1))?1:0}}:null}function Gq(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function uP(t,e,n=e.selection.ranges){let r=n.map(s=>Uy(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,o)=>Kq(e,r[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:f,close:c}=a;s.push({from:f.pos-l.open.length,to:f.pos+f.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:s}}return null}function Jq(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of n){let a=r.length,l=1e9,f=Uy(e,s).line;if(f){for(let c=s;c<=o;){let d=e.doc.lineAt(c);if(d.from>i&&(s==o||o>d.from)){i=d.from;let h=/^\s*/.exec(d.text)[0].length,m=h==d.length,p=d.text.slice(h,h+f.length)==f?h:-1;h<d.text.length&&h<l&&(l=h),r.push({line:d,comment:p,token:f,indent:h,empty:m,single:!1})}c=d.to+1}if(l<1e9)for(let c=a;c<r.length;c++)r[c].indent<r[c].line.text.length&&(r[c].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:f,empty:c,single:d}of r)(d||!c)&&s.push({from:a.from+f,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let f=o.from+a,c=f+l.length;o.text[c-o.from]==" "&&c++,s.push({from:f,to:c})}return{changes:s}}return null}const jb=na.define(),Yq=na.define(),Qq=at.define(),cP=at.define({combine(t){return Js(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),fP=di.define({create(){return No.empty},update(t,e){let n=e.state.facet(cP),r=e.annotation(jb);if(r){let l=ls.fromTransaction(e,r.selection),f=r.side,c=f==0?t.undone:t.done;return l?c=rm(c,c.length,n.minDepth,l):c=pP(c,e.startState.selection),new No(f==0?r.rest:c,f==0?c:r.rest)}let i=e.annotation(Yq);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(ci.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=ls.fromTransaction(e),o=e.annotation(ci.time),a=e.annotation(ci.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new No(t.done.map(ls.fromJSON),t.undone.map(ls.fromJSON))}});function XZ(t={}){return[fP,cP.of(t),tt.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?dP:e.inputType=="historyRedo"?kb:null;return r?(e.preventDefault(),r(n)):!1}})]}function wg(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(fP,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const dP=wg(0,!1),kb=wg(1,!1),Xq=wg(0,!0),Zq=wg(1,!0);class ls{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new ls(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new ls(e.changes&&si.fromJSON(e.changes),[],e.mapped&&Lo.fromJSON(e.mapped),e.startSelection&&Oe.fromJSON(e.startSelection),e.selectionsAfter.map(Oe.fromJSON))}static fromTransaction(e,n){let r=Ns;for(let i of e.startState.facet(Qq)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new ls(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Ns)}static selection(e){return new ls(void 0,Ns,void 0,void 0,e)}}function rm(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function eF(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<n.length;){let f=n[l++],c=n[l++];a>=f&&o<=c&&(r=!0)}}),r}function tF(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function hP(t,e){return t.length?e.length?t.concat(e):t:e}const Ns=[],nF=200;function pP(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-nF));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),rm(t,t.length-1,1e9,n.setSelAfter(r)))}else return[ls.selection([e])]}function rF(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Ov(t,e){if(!t.length)return t;let n=t.length,r=Ns;for(;n;){let i=iF(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[ls.selection(r)]:Ns}function iF(t,e,n){let r=hP(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):Ns,n);if(!t.changes)return ls.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new ls(i,Xt.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const sF=/^(input\.type|delete)($|\.)/;class No{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new No(this.done,this.undone):this}addChanges(e,n,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||sF.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,eF(a.changes,e.changes))||r=="input.type.compose")?o=rm(o,o.length-1,i.minDepth,new ls(e.changes.compose(a.changes),hP(Xt.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,Ns)):o=rm(o,o.length,i.minDepth,e),new No(o,Ns,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Ns;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&tF(s[s.length-1],e)?this:new No(pP(this.done,e),this.undone,n,r)}addMapping(e){return new No(Ov(this.done,e),Ov(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||n.selection;if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:jb.of({side:e,rest:rF(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?Ns:i.slice(0,i.length-1);return s.mapped&&(a=Ov(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:jb.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}No.empty=new No(Ns,Ns);const ZZ=[{key:"Mod-z",run:dP,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:kb,preventDefault:!0},{linux:"Ctrl-Shift-z",run:kb,preventDefault:!0},{key:"Mod-u",run:Xq,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Zq,preventDefault:!0}];function Ac(t,e){return Oe.create(t.ranges.map(e),t.mainIndex)}function ia(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function xo({state:t,dispatch:e},n){let r=Ac(t.selection,n);return r.eq(t.selection,!0)?!1:(e(ia(t,r)),!0)}function jg(t,e){return Oe.cursor(e?t.to:t.from)}function mP(t,e){return xo(t,n=>n.empty?t.moveByChar(n,e):jg(n,e))}function Ui(t){return t.textDirectionAt(t.state.selection.main.head)==qr.LTR}const gP=t=>mP(t,!Ui(t)),vP=t=>mP(t,Ui(t));function bP(t,e){return xo(t,n=>n.empty?t.moveByGroup(n,e):jg(n,e))}const oF=t=>bP(t,!Ui(t)),aF=t=>bP(t,Ui(t));function lF(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function kg(t,e,n){let r=yi(t).resolveInner(e.head),i=n?pn.closedBy:pn.openedBy;for(let l=e.head;;){let f=n?r.childAfter(l):r.childBefore(l);if(!f)break;lF(t,f,i)?r=f:l=n?f.to:f.from}let s=r.type.prop(i),o,a;return s&&(o=n?$o(t,r.from,1):$o(t,r.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?r.to:r.from,Oe.cursor(a,n?-1:1)}const uF=t=>xo(t,e=>kg(t.state,e,!Ui(t))),cF=t=>xo(t,e=>kg(t.state,e,Ui(t)));function yP(t,e){return xo(t,n=>{if(!n.empty)return jg(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const xP=t=>yP(t,!1),wP=t=>yP(t,!0);function jP(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(tt.scrollMargins)){let o=s(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function kP(t,e){let n=jP(t),{state:r}=t,i=Ac(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):jg(o,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,f=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<f&&(s=tt.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(ia(r,i),{effects:s}),!0}const rj=t=>kP(t,!1),Sb=t=>kP(t,!0);function kl(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=Oe.cursor(r.from+s))}return i}const fF=t=>xo(t,e=>kl(t,e,!0)),dF=t=>xo(t,e=>kl(t,e,!1)),hF=t=>xo(t,e=>kl(t,e,!Ui(t))),pF=t=>xo(t,e=>kl(t,e,Ui(t))),mF=t=>xo(t,e=>Oe.cursor(t.lineBlockAt(e.head).from,1)),gF=t=>xo(t,e=>Oe.cursor(t.lineBlockAt(e.head).to,-1));function vF(t,e,n){let r=!1,i=Ac(t.selection,s=>{let o=$o(t,s.head,-1)||$o(t,s.head,1)||s.head>0&&$o(t,s.head-1,1)||s.head<t.doc.length&&$o(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return Oe.cursor(a)});return r?(e(ia(t,i)),!0):!1}const bF=({state:t,dispatch:e})=>vF(t,e);function Ys(t,e){let n=Ac(t.state.selection,r=>{let i=e(r);return Oe.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(ia(t.state,n)),!0)}function SP(t,e){return Ys(t,n=>t.moveByChar(n,e))}const CP=t=>SP(t,!Ui(t)),_P=t=>SP(t,Ui(t));function AP(t,e){return Ys(t,n=>t.moveByGroup(n,e))}const yF=t=>AP(t,!Ui(t)),xF=t=>AP(t,Ui(t)),wF=t=>Ys(t,e=>kg(t.state,e,!Ui(t))),jF=t=>Ys(t,e=>kg(t.state,e,Ui(t)));function OP(t,e){return Ys(t,n=>t.moveVertically(n,e))}const EP=t=>OP(t,!1),MP=t=>OP(t,!0);function PP(t,e){return Ys(t,n=>t.moveVertically(n,e,jP(t).height))}const ij=t=>PP(t,!1),sj=t=>PP(t,!0),kF=t=>Ys(t,e=>kl(t,e,!0)),SF=t=>Ys(t,e=>kl(t,e,!1)),CF=t=>Ys(t,e=>kl(t,e,!Ui(t))),_F=t=>Ys(t,e=>kl(t,e,Ui(t))),AF=t=>Ys(t,e=>Oe.cursor(t.lineBlockAt(e.head).from)),OF=t=>Ys(t,e=>Oe.cursor(t.lineBlockAt(e.head).to)),oj=({state:t,dispatch:e})=>(e(ia(t,{anchor:0})),!0),aj=({state:t,dispatch:e})=>(e(ia(t,{anchor:t.doc.length})),!0),lj=({state:t,dispatch:e})=>(e(ia(t,{anchor:t.selection.main.anchor,head:0})),!0),uj=({state:t,dispatch:e})=>(e(ia(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),EF=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),MF=({state:t,dispatch:e})=>{let n=Sg(t).map(({from:r,to:i})=>Oe.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:Oe.create(n),userEvent:"select"})),!0},PF=({state:t,dispatch:e})=>{let n=Ac(t.selection,r=>{let i=yi(t),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return Oe.range(a.to,a.from)}return r});return n.eq(t.selection)?!1:(e(ia(t,n)),!0)},RF=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Oe.create([n.main]):n.main.empty||(r=Oe.create([Oe.cursor(n.main.head)])),r?(e(ia(t,r)),!0):!1};function Md(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=lh(t,l,!1)):l>o&&(n="delete.forward",l=lh(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=lh(t,o,!1),a=lh(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Oe.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?tt.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function lh(t,e,n){if(t instanceof tt)for(let r of t.state.facet(tt.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const RP=(t,e,n)=>Md(t,r=>{let i=r.from,{state:s}=t,o=s.doc.lineAt(i),a,l;if(n&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let f=_c(a,s.tabSize),c=f%bo(s)||bo(s);for(let d=0;d<c&&a[a.length-1-d]==" ";d++)i--;l=i}else l=Oi(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=Oi(o.text,l-o.from,!1,!1)+o.from);return l}),Cb=t=>RP(t,!1,!0),TP=t=>RP(t,!0,!1),$P=(t,e)=>Md(t,n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=Oi(s.text,r-s.from,e)+s.from,f=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),c=o(f);if(a!=null&&c!=a)break;(f!=" "||r!=n.head)&&(a=c),r=l}return r}),NP=t=>$P(t,!1),TF=t=>$P(t,!0),$F=t=>Md(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),NF=t=>Md(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),IF=t=>Md(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),DF=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:nr.of(["",""])},range:Oe.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},LF=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),o=i==s.from?i-1:Oi(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:Oi(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(o,i))},range:Oe.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Sg(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function IP(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of Sg(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)i.push(Oe.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)i.push(Oe.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Oe.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const zF=({state:t,dispatch:e})=>IP(t,e,!1),BF=({state:t,dispatch:e})=>IP(t,e,!0);function DP(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of Sg(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const qF=({state:t,dispatch:e})=>DP(t,e,!1),FF=({state:t,dispatch:e})=>DP(t,e,!0),UF=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Sg(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=Ac(e.selection,i=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,s)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function WF(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=yi(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(pn.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const cj=LP(!1),VF=LP(!0);function LP(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!t&&s==o&&WF(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let f=new yg(e,{simulateBreak:s,simulateDoubleBreak:!!l}),c=Ly(f,s);for(c==null&&(c=_c(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let d=["",Ff(e,c)];return l&&d.push(Ff(e,f.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:nr.of(d)},range:Oe.cursor(s+1+d[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Wy(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),o=a.to+1}let s=t.changes(i);return{changes:i,range:Oe.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const HF=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new yg(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),i=Wy(t,(s,o,a)=>{let l=Ly(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let f=/^\s*/.exec(s.text)[0],c=Ff(t,l);(f!=c||a.from<s.from+f.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+f.length,insert:c}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},zP=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Wy(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Ad)})}),{userEvent:"input.indent"})),!0),BP=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Wy(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=_c(i,t.tabSize),o=0,a=Ff(t,Math.max(0,s-bo(t)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),KF=t=>(t.setTabFocusMode(),!0),GF=[{key:"Ctrl-b",run:gP,shift:CP,preventDefault:!0},{key:"Ctrl-f",run:vP,shift:_P},{key:"Ctrl-p",run:xP,shift:EP},{key:"Ctrl-n",run:wP,shift:MP},{key:"Ctrl-a",run:mF,shift:AF},{key:"Ctrl-e",run:gF,shift:OF},{key:"Ctrl-d",run:TP},{key:"Ctrl-h",run:Cb},{key:"Ctrl-k",run:$F},{key:"Ctrl-Alt-h",run:NP},{key:"Ctrl-o",run:DF},{key:"Ctrl-t",run:LF},{key:"Ctrl-v",run:Sb}],JF=[{key:"ArrowLeft",run:gP,shift:CP,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:oF,shift:yF,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:hF,shift:CF,preventDefault:!0},{key:"ArrowRight",run:vP,shift:_P,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:aF,shift:xF,preventDefault:!0},{mac:"Cmd-ArrowRight",run:pF,shift:_F,preventDefault:!0},{key:"ArrowUp",run:xP,shift:EP,preventDefault:!0},{mac:"Cmd-ArrowUp",run:oj,shift:lj},{mac:"Ctrl-ArrowUp",run:rj,shift:ij},{key:"ArrowDown",run:wP,shift:MP,preventDefault:!0},{mac:"Cmd-ArrowDown",run:aj,shift:uj},{mac:"Ctrl-ArrowDown",run:Sb,shift:sj},{key:"PageUp",run:rj,shift:ij},{key:"PageDown",run:Sb,shift:sj},{key:"Home",run:dF,shift:SF,preventDefault:!0},{key:"Mod-Home",run:oj,shift:lj},{key:"End",run:fF,shift:kF,preventDefault:!0},{key:"Mod-End",run:aj,shift:uj},{key:"Enter",run:cj,shift:cj},{key:"Mod-a",run:EF},{key:"Backspace",run:Cb,shift:Cb},{key:"Delete",run:TP},{key:"Mod-Backspace",mac:"Alt-Backspace",run:NP},{key:"Mod-Delete",mac:"Alt-Delete",run:TF},{mac:"Mod-Backspace",run:NF},{mac:"Mod-Delete",run:IF}].concat(GF.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),YF=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:uF,shift:wF},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cF,shift:jF},{key:"Alt-ArrowUp",run:zF},{key:"Shift-Alt-ArrowUp",run:qF},{key:"Alt-ArrowDown",run:BF},{key:"Shift-Alt-ArrowDown",run:FF},{key:"Escape",run:RF},{key:"Mod-Enter",run:VF},{key:"Alt-l",mac:"Ctrl-l",run:MF},{key:"Mod-i",run:PF,preventDefault:!0},{key:"Mod-[",run:BP},{key:"Mod-]",run:zP},{key:"Mod-Alt-\\",run:HF},{key:"Shift-Mod-k",run:UF},{key:"Shift-Mod-\\",run:bF},{key:"Mod-/",run:Uq},{key:"Alt-A",run:Vq},{key:"Ctrl-m",mac:"Shift-Alt-m",run:KF}].concat(JF),QF={key:"Tab",run:zP,shift:BP};function Ir(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)qP(t,arguments[e]);return t}function qP(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)qP(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const fj=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class uc{constructor(e,n,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(fj(a)):fj,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return is(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=ky(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Mo(e);let i=this.normalize(n);for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(uc.prototype[Symbol.iterator]=function(){return this});const FP={from:-1,to:-1,match:/.*/.exec("")},Vy="gm"+(/x/.unicode==null?"":"u");class UP{constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=FP,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new WP(e,n,r,i,s);this.re=new RegExp(n,Vy+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=im(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=im(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Ev=new WeakMap;class Vu{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=Ev.get(e);if(!i||i.from>=r||i.to<=n){let a=new Vu(n,e.sliceString(n,r));return Ev.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:s,from:o}=i;return o>n&&(s=e.sliceString(n,o)+s,o=n),i.to<r&&(s+=e.sliceString(i.to,r)),Ev.set(e,new Vu(o,s)),new Vu(n,s.slice(n-o,r-o))}}class WP{constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=FP,this.matchPos=im(e,i),this.re=new RegExp(n,Vy+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=Vu.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=im(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Vu.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(UP.prototype[Symbol.iterator]=WP.prototype[Symbol.iterator]=function(){return this});function XF(t){try{return new RegExp(t,Vy),!0}catch{return!1}}function im(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function _b(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=Ir("input",{class:"cm-textfield",name:"line",value:e}),r=Ir("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:sm.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},Ir("label",t.state.phrase("Go to line"),": ",n)," ",Ir("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,l,f,c,d]=s,h=c?+c.slice(1):0,m=f?+f:a.number;if(f&&d){let g=m/100;l&&(g=g*(l=="-"?-1:1)+a.number/o.doc.lines),m=Math.round(o.doc.lines*g)}else f&&l&&(m=m*(l=="-"?-1:1)+a.number);let p=o.doc.line(Math.max(1,Math.min(o.doc.lines,m))),y=Oe.cursor(p.from+Math.max(0,Math.min(h,p.length)));t.dispatch({effects:[sm.of(!1),tt.scrollIntoView(y.from,{y:"center"})],selection:y}),t.focus()}return{dom:r}}const sm=Xt.define(),dj=di.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(sm)&&(t=n.value);return t},provide:t=>qf.from(t,e=>e?_b:null)}),ZF=t=>{let e=Bf(t,_b);if(!e){let n=[sm.of(!0)];t.state.field(dj,!1)==null&&n.push(Xt.appendConfig.of([dj,eU])),t.dispatch({effects:n}),e=Bf(t,_b)}return e&&e.dom.querySelector("input").select(),!0},eU=tt.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),tU={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},nU=at.define({combine(t){return Js(t,tU,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function rU(t){return[lU,aU]}const iU=xt.mark({class:"cm-selectionMatch"}),sU=xt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function hj(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=Kr.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=Kr.Word)}function oU(t,e,n,r){return t(e.sliceDoc(n,n+1))==Kr.Word&&t(e.sliceDoc(r-1,r))==Kr.Word}const aU=Jr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(nU),{state:n}=t,r=n.selection;if(r.ranges.length>1)return xt.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return xt.none;let l=n.wordAt(i.head);if(!l)return xt.none;o=n.charCategorizer(i.head),s=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return xt.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!(hj(o,n,i.from,i.to)&&oU(o,n,i.from,i.to)))return xt.none}else if(s=n.sliceDoc(i.from,i.to),!s)return xt.none}let a=[];for(let l of t.visibleRanges){let f=new uc(n.doc,s,l.from,l.to);for(;!f.next().done;){let{from:c,to:d}=f.value;if((!o||hj(o,n,c,d))&&(i.empty&&c<=i.from&&d>=i.to?a.push(sU.range(c,d)):(c>=i.to||d<=i.from)&&a.push(iU.range(c,d)),a.length>e.maxMatches))return xt.none}}return xt.set(a)}},{decorations:t=>t.decorations}),lU=tt.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),uU=({state:t,dispatch:e})=>{let{selection:n}=t,r=Oe.create(n.ranges.map(i=>t.wordAt(i.head)||Oe.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function cU(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let o=!1,a=new uc(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new uc(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const fU=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return uU({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=cU(t,r);return i?(e(t.update({selection:t.selection.addRange(Oe.range(i.from,i.to),!1),effects:tt.scrollIntoView(i.to)})),!0):!1},pu=at.define({combine(t){return Js(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new SU(e),scrollToMatch:e=>tt.scrollIntoView(e)})}});function dU(t){return t?[pu.of(t),Ob]:Ob}class VP{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||XF(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new gU(this):new pU(this)}getCursor(e,n=0,r){let i=e.doc?e:Tn.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Au(this,i,n,r):_u(this,i,n,r)}}class HP{constructor(e){this.spec=e}}function _u(t,e,n,r){return new uc(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?hU(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function hU(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(om(i,n-s))!=Kr.Word||e(am(i,n-s))!=Kr.Word)&&(e(am(i,r-s))!=Kr.Word||e(om(i,r-s))!=Kr.Word))}class pU extends HP{constructor(e){super(e)}nextMatch(e,n,r){let i=_u(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=_u(this.spec,e,0,n).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),o=_u(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=_u(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=_u(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Au(t,e,n,r){return new UP(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?mU(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function om(t,e){return t.slice(Oi(t,e,!1),e)}function am(t,e){return t.slice(e,Oi(t,e))}function mU(t){return(e,n,r)=>!r[0].length||(t(om(r.input,r.index))!=Kr.Word||t(am(r.input,r.index))!=Kr.Word)&&(t(am(r.input,r.index+r[0].length))!=Kr.Word||t(om(r.input,r.index+r[0].length))!=Kr.Word)}class gU extends HP{nextMatch(e,n,r){let i=Au(this.spec,e,r,e.doc.length).next();return i.done&&(i=Au(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),o=Au(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:n)}matchAll(e,n){let r=Au(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=Au(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Wf=Xt.define(),Hy=Xt.define(),Ya=di.define({create(t){return new Mv(Ab(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Wf)?t=new Mv(n.value.create(),t.panel):n.is(Hy)&&(t=new Mv(t.query,n.value?Ky:null));return t},provide:t=>qf.from(t,e=>e.panel)});class Mv{constructor(e,n){this.query=e,this.panel=n}}const vU=xt.mark({class:"cm-searchMatch"}),bU=xt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),yU=Jr.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Ya))}update(t){let e=t.state.field(Ya);(e!=t.startState.field(Ya)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return xt.none;let{view:n}=this,r=new Ho;for(let i=0,s=n.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;t.highlight(n.state,a,l,(f,c)=>{let d=n.state.selection.ranges.some(h=>h.from==f&&h.to==c);r.add(f,c,d?bU:vU)})}return r.finish()}},{decorations:t=>t.decorations});function Pd(t){return e=>{let n=e.state.field(Ya,!1);return n&&n.query.spec.valid?t(e,n):Gy(e)}}const lm=Pd((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=Oe.single(r.from,r.to),s=t.state.facet(pu);return t.dispatch({selection:i,effects:[Yy(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),GP(t),!0}),um=Pd((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=Oe.single(i.from,i.to),o=t.state.facet(pu);return t.dispatch({selection:s,effects:[Yy(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),GP(t),!0}),xU=Pd((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:Oe.create(n.map(r=>Oe.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),wU=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let a=new uc(t.doc,t.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(Oe.range(a.value.from,a.value.to))}return e(t.update({selection:Oe.create(s,o),userEvent:"select.search.matches"})),!0},pj=Pd((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o=[],a,l,f=[];if(s.from==r&&s.to==i&&(l=n.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(n,s.from,s.to),f.push(tt.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),s){let c=o.length==0||o[0].from>=s.to?0:s.to-s.from-l.length;a=Oe.single(s.from-c,s.to-c),f.push(Yy(t,s)),f.push(n.facet(pu).scrollToMatch(a.main,t))}return t.dispatch({changes:o,selection:a,effects:f,userEvent:"input.replace"}),!0}),jU=Pd((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:tt.announce.of(r),userEvent:"input.replace.all"}),!0});function Ky(t){return t.state.facet(pu).createPanel(t)}function Ab(t,e){var n,r,i,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let f=t.facet(pu);return new VP({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:f.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:f.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:f.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:f.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:f.wholeWord})}function KP(t){let e=Bf(t,Ky);return e&&e.dom.querySelector("[main-field]")}function GP(t){let e=KP(t);e&&e==t.root.activeElement&&e.select()}const Gy=t=>{let e=t.state.field(Ya,!1);if(e&&e.panel){let n=KP(t);if(n&&n!=t.root.activeElement){let r=Ab(t.state,e.query.spec);r.valid&&t.dispatch({effects:Wf.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[Hy.of(!0),e?Wf.of(Ab(t.state,e.query.spec)):Xt.appendConfig.of(Ob)]});return!0},Jy=t=>{let e=t.state.field(Ya,!1);if(!e||!e.panel)return!1;let n=Bf(t,Ky);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Hy.of(!1)}),!0},kU=[{key:"Mod-f",run:Gy,scope:"editor search-panel"},{key:"F3",run:lm,shift:um,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:lm,shift:um,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Jy,scope:"editor search-panel"},{key:"Mod-Shift-l",run:wU},{key:"Mod-Alt-g",run:ZF},{key:"Mod-d",run:fU,preventDefault:!0}];class SU{constructor(e){this.view=e;let n=this.query=e.state.field(Ya).query.spec;this.commit=this.commit.bind(this),this.searchField=Ir("input",{value:n.search,placeholder:ds(e,"Find"),"aria-label":ds(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ir("input",{value:n.replace,placeholder:ds(e,"Replace"),"aria-label":ds(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ir("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=Ir("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=Ir("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,o){return Ir("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=Ir("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>lm(e),[ds(e,"next")]),r("prev",()=>um(e),[ds(e,"previous")]),r("select",()=>xU(e),[ds(e,"all")]),Ir("label",null,[this.caseField,ds(e,"match case")]),Ir("label",null,[this.reField,ds(e,"regexp")]),Ir("label",null,[this.wordField,ds(e,"by word")]),...e.state.readOnly?[]:[Ir("br"),this.replaceField,r("replace",()=>pj(e),[ds(e,"replace")]),r("replaceAll",()=>jU(e),[ds(e,"replace all")])],Ir("button",{name:"close",onclick:()=>Jy(e),"aria-label":ds(e,"close"),type:"button"},["×"])])}commit(){let e=new VP({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Wf.of(e)}))}keydown(e){J7(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?um:lm)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),pj(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(Wf)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(pu).top}}function ds(t,e){return t.state.phrase(e)}const uh=30,ch=/[\s\.,:;?!]/;function Yy(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-uh),o=Math.min(i,n+uh),a=t.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<uh;l++)if(!ch.test(a[l+1])&&ch.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-uh;l--)if(!ch.test(a[l-1])&&ch.test(a[l])){a=a.slice(0,l);break}}return tt.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const CU=tt.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Ob=[Ya,jl.low(yU),CU];class JP{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=yi(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(YP(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function mj(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function _U(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=mj(e)+mj(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function AU(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:_U(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}function eee(t,e){return n=>{for(let r=yi(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class gj{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function Qa(t){return t.selection.main.from}function YP(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const Qy=na.define();function OU(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return Object.assign(Object.assign({},t.changeByRange(a=>{if(a!=i&&n!=r&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,r))return{range:a};let l=t.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:Oe.cursor(a.from+s+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const vj=new WeakMap;function EU(t){if(!Array.isArray(t))return t;let e=vj.get(t);return e||vj.set(t,e=AU(t)),e}const cm=Xt.define(),Vf=Xt.define();class MU{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=is(e,n),i=Mo(r);this.chars.push(r);let s=e.slice(n,n+i),o=s.toUpperCase();this.folded.push(is(o==s?s.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:o}=this;if(n.length==1){let v=is(e,0),x=Mo(v),j=x==e.length?0:-100;if(v!=n[0])if(v==r[0])j+=-200;else return null;return this.ret(j,[0,x])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,f=0;if(a<0){for(let v=0,x=Math.min(e.length,200);v<x&&f<l;){let j=is(e,v);(j==n[f]||j==r[f])&&(i[f++]=v),v+=Mo(j)}if(f<l)return null}let c=0,d=0,h=!1,m=0,p=-1,y=-1,g=/[a-z]/.test(e),b=!0;for(let v=0,x=Math.min(e.length,200),j=0;v<x&&d<l;){let w=is(e,v);a<0&&(c<l&&w==n[c]&&(s[c++]=v),m<l&&(w==n[m]||w==r[m]?(m==0&&(p=v),y=v+1,m++):m=0));let k,S=w<255?w>=48&&w<=57||w>=97&&w<=122?2:w>=65&&w<=90?1:0:(k=ky(w))!=k.toLowerCase()?1:k!=k.toUpperCase()?2:0;(!v||S==1&&g||j==0&&S!=0)&&(n[d]==w||r[d]==w&&(h=!0)?o[d++]=v:o.length&&(b=!1)),j=S,v+=Mo(w)}return d==l&&o[0]==0&&b?this.result(-100+(h?-200:0),o,e):m==l&&p==0?this.ret(-200-e.length+(y==e.length?0:-100),[0,y]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):m==l?this.ret(-900-e.length,[p,y]):d==l?this.result(-100+(h?-200:0)+-700+(b?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],s=0;for(let o of n){let a=o+(this.astral?Mo(is(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class PU{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Ai=at.define({combine(t){return Js(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:RU,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>bj(e(r),n(r)),optionClass:(e,n)=>r=>bj(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function bj(t,e){return t?e?t+" "+e:t:e}function RU(t,e,n,r,i,s){let o=t.textDirection==qr.RTL,a=o,l=!1,f="top",c,d,h=e.left-i.left,m=i.right-e.right,p=r.right-r.left,y=r.bottom-r.top;if(a&&h<Math.min(p,m)?a=!1:!a&&m<Math.min(p,h)&&(a=!0),p<=(a?h:m))c=Math.max(i.top,Math.min(n.top,i.bottom-y))-e.top,d=Math.min(400,a?h:m);else{l=!0,d=Math.min(400,(o?e.right:i.right-e.left)-30);let v=i.bottom-e.bottom;v>=y||v>e.top?c=n.bottom-e.top:(f="bottom",c=e.bottom-n.top)}let g=(e.bottom-e.top)/s.offsetHeight,b=(e.right-e.left)/s.offsetWidth;return{style:`${f}: ${c/g}px; max-width: ${d/b}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function TU(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let f=0;f<s.length;){let c=s[f++],d=s[f++];c>l&&o.appendChild(document.createTextNode(a.slice(l,c)));let h=o.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(a.slice(c,d))),h.className="cm-completionMatchedText",l=d}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function Pv(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class $U{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:s,selected:o}=i.open,a=e.state.facet(Ai);this.optionContent=TU(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Pv(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:f}=e.state.field(n).open;for(let c=l.target,d;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(d=/-(\d+)$/.exec(c.id))&&+d[1]<f.length){this.applyCompletion(e,f[+d[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(Ai).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Vf.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=Pv(s.length,o,e.state.facet(Ai).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=Pv(n.options.length,n.selected,this.view.state.facet(Ai).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>Yi(this.view.state,o,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&IU(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(Ai).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:f}=a;if(f){let h=typeof f=="string"?f:f.name;if(h!=s&&(o>r.from||r.from==0))if(s=h,typeof f!="string"&&f.header)i.appendChild(f.header(f));else{let m=i.appendChild(document.createElement("completion-section"));m.textContent=h}}const c=i.appendChild(document.createElement("li"));c.id=n+"-"+o,c.setAttribute("role","option");let d=this.optionClass(a);d&&(c.className=d);for(let h of this.optionContent){let m=h(a,this.view.state,this.view,l);m&&c.appendChild(m)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function NU(t,e){return n=>new $U(n,t,e)}function IU(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function yj(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function DU(t,e){let n=[],r=null,i=f=>{n.push(f);let{section:c}=f.completion;if(c){r||(r=[]);let d=typeof c=="string"?c:c.name;r.some(h=>h.name==d)||r.push(typeof c=="string"?{name:d}:c)}},s=e.facet(Ai);for(let f of t)if(f.hasResult()){let c=f.result.getMatch;if(f.result.filter===!1)for(let d of f.result.options)i(new gj(d,f.source,c?c(d):[],1e9-n.length));else{let d=e.sliceDoc(f.from,f.to),h,m=s.filterStrict?new PU(d):new MU(d);for(let p of f.result.options)if(h=m.match(p.label)){let y=p.displayLabel?c?c(p,h.matched):[]:h.matched;i(new gj(p,f.source,y,h.score+(p.boost||0)))}}}if(r){let f=Object.create(null),c=0,d=(h,m)=>{var p,y;return((p=h.rank)!==null&&p!==void 0?p:1e9)-((y=m.rank)!==null&&y!==void 0?y:1e9)||(h.name<m.name?-1:1)};for(let h of r.sort(d))c-=1e5,f[h.name]=c;for(let h of n){let{section:m}=h.completion;m&&(h.score+=f[typeof m=="string"?m:m.name])}}let o=[],a=null,l=s.compareCompletions;for(let f of n.sort((c,d)=>d.score-c.score||l(c.completion,d.completion))){let c=f.completion;!a||a.label!=c.label||a.detail!=c.detail||a.type!=null&&c.type!=null&&a.type!=c.type||a.apply!=c.apply||a.boost!=c.boost?o.push(f):yj(f.completion)>yj(a)&&(o[o.length-1]=f),a=f.completion}return o}class $u{constructor(e,n,r,i,s,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new $u(this.options,xj(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s){let o=DU(e,n);if(!o.length)return i&&e.some(l=>l.state==1)?new $u(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let a=n.facet(Ai).selectOnOpen?0:-1;if(i&&i.selected!=a&&i.selected!=-1){let l=i.options[i.selected].completion;for(let f=0;f<o.length;f++)if(o[f].completion==l){a=f;break}}return new $u(o,xj(r,a),{pos:e.reduce((l,f)=>f.hasResult()?Math.min(l,f.from):l,1e8),create:UU,above:s.aboveCursor},i?i.timestamp:Date.now(),a,!1)}map(e){return new $u(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class fm{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new fm(qU,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(Ai),s=(r.override||n.languageDataAt("autocomplete",Qa(n)).map(EU)).map(a=>(this.active.find(f=>f.source==a)||new ys(a,this.active.some(f=>f.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((a,l)=>a==this.active[l])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!LU(s,this.active)?o=$u.build(s,n,this.id,o,r):o&&o.disabled&&!s.some(a=>a.state==1)&&(o=null),!o&&s.every(a=>a.state!=1)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new ys(a.source,0):a));for(let a of e.effects)a.is(ZP)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new fm(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?zU:BU}}function LU(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const zU={"aria-autocomplete":"list"},BU={};function xj(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const qU=[];function QP(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(Qy);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class ys{constructor(e,n,r=-1){this.source=e,this.state=n,this.explicitPos=r}hasResult(){return!1}update(e,n){let r=QP(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new ys(i.source,0)),r&4&&i.state==0&&(i=new ys(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(cm))i=new ys(i.source,1,s.value?Qa(e.state):-1);else if(s.is(Vf))i=new ys(i.source,0);else if(s.is(XP))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,n){return this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new ys(this.source,this.state,e.mapPos(this.explicitPos))}touches(e){return e.changes.touchesRange(Qa(e.state))}}class Hu extends ys{constructor(e,n,r,i,s){super(e,2,n),this.result=r,this.from=i,this.to=s}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=Qa(e.state);if((this.explicitPos<0?a<=s:a<this.from)||a>o||!i||n&2&&Qa(e.startState)==this.from)return new ys(this.source,n&4?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return FU(i.validFor,e.state,s,o)?new Hu(this.source,l,i,s,o):i.update&&(i=i.update(i,s,o,new JP(e.state,a,l>=0)))?new Hu(this.source,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:Qa(e.state)):new ys(this.source,1,l)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Hu(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ys(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function FU(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):YP(t,!0).test(i)}const XP=Xt.define({map(t,e){return t.map(n=>n.map(e))}}),ZP=Xt.define(),os=di.define({create(){return fm.start()},update(t,e){return t.update(e)},provide:t=>[vg.from(t,e=>e.tooltip),tt.contentAttributes.from(t,e=>e.attrs)]});function Xy(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(os).active.find(i=>i.source==e.source);return r instanceof Hu?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},OU(t.state,n,r.from,r.to)),{annotations:Qy.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}const UU=NU(os,Xy);function fh(t,e="option"){return n=>{let r=n.state.field(os,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Ai).interactionDelay)return!1;let i=1,s;e=="page"&&(s=PM(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:ZP.of(a)}),!0}}const WU=t=>{let e=t.state.field(os,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Ai).interactionDelay?!1:Xy(t,e.open.options[e.open.selected])},wj=t=>t.state.field(os,!1)?(t.dispatch({effects:cm.of(!0)}),!0):!1,VU=t=>{let e=t.state.field(os,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Vf.of(null)}),!0)};class HU{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const KU=50,GU=1e3,JU=Jr.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(os).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(os),n=t.state.facet(Ai);if(!t.selectionSet&&!t.docChanged&&t.startState.field(os)==e)return;let r=t.transactions.some(s=>{let o=QP(s,n);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>KU&&Date.now()-o.time>GU){for(let a of o.context.abortListeners)try{a()}catch(l){Yi(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(cm)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.state==1&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(os);for(let n of e.active)n.state==1&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=Qa(e),r=new JP(e,n,t.explicitPos==n,this.view),i=new HU(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Vf.of(null)}),Yi(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ai).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Ai);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let o=new Hu(i.active.source,i.active.explicitPos,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:Qa(i.updates.length?i.updates[0].startState:this.view.state));for(let a of i.updates)o=o.update(a,n);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(os).active.find(o=>o.source==i.active.source);if(s&&s.state==1)if(i.done==null){let o=new ys(i.active.source,0);for(let a of i.updates)o=o.update(a,n);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:XP.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(os,!1);if(e&&e.tooltip&&this.view.state.facet(Ai).closeOnBlur){let n=e.open&&PM(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Vf.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:cm.of(!1)}),20),this.composing=0}}}),YU=typeof navigator=="object"&&/Win/.test(navigator.platform),QU=jl.highest(tt.domEventHandlers({keydown(t,e){let n=e.state.field(os,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(YU&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&Xy(e,r),!1}})),eR=tt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class XU{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class Zy{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,_i.TrackDel),r=e.mapPos(this.to,1,_i.TrackDel);return n==null||r==null?null:new Zy(this.field,n,r)}}class ex{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],s=e.doc.lineAt(n),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let f=o,c=/^\t*/.exec(l)[0].length;for(let d=0;d<c;d++)f+=e.facet(Ad);i.push(n+f.length-c),l=f+l.slice(c)}r.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new Zy(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let n=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",f=-1,c=l.replace(/\\[{}]/g,d=>d[1]);for(let d=0;d<n.length;d++)(a!=null?n[d].seq==a:c&&n[d].name==c)&&(f=d);if(f<0){let d=0;for(;d<n.length&&(a==null||n[d].seq!=null&&n[d].seq<a);)d++;n.splice(d,0,{seq:a,name:c}),f=d;for(let h of i)h.field>=f&&h.field++}i.push(new XU(f,r.length,s.index,s.index+c.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,f)=>{for(let c of i)c.line==r.length&&c.from>f&&(c.from--,c.to--);return l}),r.push(o)}return new ex(r,i)}}let ZU=xt.widget({widget:new class extends ra{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),eW=xt.mark({class:"cm-snippetField"});class Oc{constructor(e,n){this.ranges=e,this.active=n,this.deco=xt.set(e.map(r=>(r.from==r.to?ZU:eW).range(r.from,r.to)))}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new Oc(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const Rd=Xt.define({map(t,e){return t&&t.map(e)}}),tW=Xt.define(),Hf=di.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(Rd))return n.value;if(n.is(tW)&&t)return new Oc(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>tt.decorations.from(t,e=>e?e.deco:xt.none)});function tx(t,e){return Oe.create(t.filter(n=>n.field==e).map(n=>Oe.range(n.from,n.to)))}function nW(t){let e=ex.parse(t);return(n,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(n.state,i),l={changes:{from:i,to:s,insert:nr.of(o)},scrollIntoView:!0,annotations:r?[Qy.of(r),ci.userEvent.of("input.complete")]:void 0};if(a.length&&(l.selection=tx(a,0)),a.some(f=>f.field>0)){let f=new Oc(a,0),c=l.effects=[Rd.of(f)];n.state.field(Hf,!1)===void 0&&c.push(Xt.appendConfig.of([Hf,aW,lW,eR]))}n.dispatch(n.state.update(l))}}function tR(t){return({state:e,dispatch:n})=>{let r=e.field(Hf,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,s=t>0&&!r.ranges.some(o=>o.field==i+t);return n(e.update({selection:tx(r.ranges,i),effects:Rd.of(s?null:new Oc(r.ranges,i)),scrollIntoView:!0})),!0}}const rW=({state:t,dispatch:e})=>t.field(Hf,!1)?(e(t.update({effects:Rd.of(null)})),!0):!1,iW=tR(1),sW=tR(-1),oW=[{key:"Tab",run:iW,shift:sW},{key:"Escape",run:rW}],jj=at.define({combine(t){return t.length?t[0]:oW}}),aW=jl.highest(Lf.compute([jj],t=>t.facet(jj)));function tee(t,e){return Object.assign(Object.assign({},e),{apply:nW(t)})}const lW=tt.domEventHandlers({mousedown(t,e){let n=e.state.field(Hf,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:tx(n.ranges,i.field),effects:Rd.of(n.ranges.some(s=>s.field>i.field)?new Oc(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),Kf={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},ql=Xt.define({map(t,e){let n=e.mapPos(t,-1,_i.TrackAfter);return n??void 0}}),nx=new class extends Kl{};nx.startSide=1;nx.endSide=-1;const nR=di.define({create(){return Wn.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(ql)&&(t=t.update({add:[nx.range(n.value,n.value+1)]}));return t}});function uW(){return[fW,nR]}const Rv="()[]{}<>";function rR(t){for(let e=0;e<Rv.length;e+=2)if(Rv.charCodeAt(e)==t)return Rv.charAt(e+1);return ky(t<128?t:t+1)}function iR(t,e){return t.languageDataAt("closeBrackets",e)[0]||Kf}const cW=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),fW=tt.inputHandler.of((t,e,n,r)=>{if((cW?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Mo(is(r,0))==1||e!=i.from||n!=i.to)return!1;let s=pW(t.state,r);return s?(t.dispatch(s),!0):!1}),dW=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=iR(t,t.selection.main.head).brackets||Kf.brackets,i=null,s=t.changeByRange(o=>{if(o.empty){let a=mW(t.doc,o.head);for(let l of r)if(l==a&&Cg(t.doc,o.head)==rR(is(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:Oe.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},hW=[{key:"Backspace",run:dW}];function pW(t,e){let n=iR(t,t.selection.main.head),r=n.brackets||Kf.brackets;for(let i of r){let s=rR(is(i,0));if(e==i)return s==i?bW(t,i,r.indexOf(i+i+i)>-1,n):gW(t,i,s,n.before||Kf.before);if(e==s&&sR(t,t.selection.main.from))return vW(t,i,s)}return null}function sR(t,e){let n=!1;return t.field(nR).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function Cg(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Mo(is(n,0)))}function mW(t,e){let n=t.sliceString(e-2,e);return Mo(is(n,0))==n.length?n:n.slice(1)}function gW(t,e,n,r){let i=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:ql.of(o.to+e.length),range:Oe.range(o.anchor+e.length,o.head+e.length)};let a=Cg(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:ql.of(o.head+e.length),range:Oe.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function vW(t,e,n){let r=null,i=t.changeByRange(s=>s.empty&&Cg(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:Oe.cursor(s.head+n.length)}:r={range:s});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function bW(t,e,n,r){let i=r.stringPrefixes||Kf.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:ql.of(a.to+e.length),range:Oe.range(a.anchor+e.length,a.head+e.length)};let l=a.head,f=Cg(t.doc,l),c;if(f==e){if(kj(t,l))return{changes:{insert:e+e,from:l},effects:ql.of(l+e.length),range:Oe.cursor(l+e.length)};if(sR(t,l)){let h=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+h.length,insert:h},range:Oe.cursor(l+h.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(c=Sj(t,l-2*e.length,i))>-1&&kj(t,c))return{changes:{insert:e+e+e+e,from:l},effects:ql.of(l+e.length),range:Oe.cursor(l+e.length)};if(t.charCategorizer(l)(f)!=Kr.Word&&Sj(t,l,i)>-1&&!yW(t,l,e,i))return{changes:{insert:e+e,from:l},effects:ql.of(l+e.length),range:Oe.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function kj(t,e){let n=yi(t).resolveInner(e+1);return n.parent&&n.from==e}function yW(t,e,n,r){let i=yi(t).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let c=i.firstChild;for(;c&&c.from==i.from&&c.to-c.from>n.length+l;){if(t.sliceDoc(c.to-n.length,c.to)==n)return!1;c=c.firstChild}return!0}let f=i.to==e&&i.parent;if(!f)break;i=f}return!1}function Sj(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=Kr.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=Kr.Word)return s}return-1}function xW(t={}){return[QU,os,Ai.of(t),JU,wW,eR]}const oR=[{key:"Ctrl-Space",run:wj},{mac:"Alt-`",run:wj},{key:"Escape",run:VU},{key:"ArrowDown",run:fh(!0)},{key:"ArrowUp",run:fh(!1)},{key:"PageDown",run:fh(!0,"page")},{key:"PageUp",run:fh(!1,"page")},{key:"Enter",run:WU}],wW=jl.highest(Lf.computeN([Ai],t=>t.facet(Ai).defaultKeymap?[oR]:[]));class jW{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Il{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=e,s=r.facet(Io).markerFilter;s&&(i=s(i,r));let o=xt.set(i.map(a=>a.from==a.to||a.from==a.to-1&&r.doc.lineAt(a.from).to==a.from?xt.widget({widget:new RW(a),diagnostic:a}).range(a.from):xt.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity+(a.markClass?" "+a.markClass:"")},diagnostic:a}).range(a.from,a.to)),!0);return new Il(o,n,cc(o))}}function cc(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return r=new jW(i,s,o.diagnostic),!1}),r}function aR(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(Io).hideOn(t,n,r);if(i!=null)return i;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(_g))||t.changes.touchesRange(s.from,Math.max(s.to,r)))}function lR(t,e){return t.field(js,!1)?e:e.concat(Xt.appendConfig.of(mR))}function kW(t,e){return{effects:lR(t,[_g.of(e)])}}const _g=Xt.define(),rx=Xt.define(),uR=Xt.define(),js=di.define({create(){return new Il(xt.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);r=cc(n,t.selected.diagnostic,s)||cc(n,null,s)}!n.size&&i&&e.state.facet(Io).autoPanel&&(i=null),t=new Il(n,i,r)}for(let n of e.effects)if(n.is(_g)){let r=e.state.facet(Io).autoPanel?n.value.length?Gf.open:null:t.panel;t=Il.init(n.value,r,e.state)}else n.is(rx)?t=new Il(t.diagnostics,n.value?Gf.open:null,t.selected):n.is(uR)&&(t=new Il(t.diagnostics,t.panel,n.value));return t},provide:t=>[qf.from(t,e=>e.panel),tt.decorations.from(t,e=>e.diagnostics)]}),SW=xt.mark({class:"cm-lintRange cm-lintRange-active"});function CW(t,e,n){let{diagnostics:r}=t.state.field(js),i=[],s=2e8,o=0;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,f,{spec:c})=>{e>=l&&e<=f&&(l==f||(e>l||n>0)&&(e<f||n<0))&&(i.push(c.diagnostic),s=Math.min(l,s),o=Math.max(f,o))});let a=t.state.facet(Io).tooltipFilter;return a&&(i=a(i,t.state)),i.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:cR(t,i)}}}:null}function cR(t,e){return Ir("ul",{class:"cm-tooltip-lint"},e.map(n=>dR(t,n,!1)))}const _W=t=>{let e=t.state.field(js,!1);(!e||!e.panel)&&t.dispatch({effects:lR(t.state,[rx.of(!0)])});let n=Bf(t,Gf.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},Cj=t=>{let e=t.state.field(js,!1);return!e||!e.panel?!1:(t.dispatch({effects:rx.of(!1)}),!0)},AW=t=>{let e=t.state.field(js,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},OW=[{key:"Mod-Shift-m",run:_W,preventDefault:!0},{key:"F8",run:AW}],EW=Jr.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(Io);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let t=Date.now();if(t<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:e}=this.view,{sources:n}=e.facet(Io);n.length&&MW(n.map(r=>Promise.resolve(r(this.view))),r=>{this.view.state.doc==e.doc&&this.view.dispatch(kW(this.view.state,r.reduce((i,s)=>i.concat(s))))},r=>{Yi(this.view.state,r)})}}update(t){let e=t.state.facet(Io);(t.docChanged||e!=t.startState.facet(Io)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function MW(t,e,n){let r=[],i=-1;for(let s of t)s.then(o=>{r.push(o),clearTimeout(i),r.length==t.length?e(r):setTimeout(()=>e(r),200)},n)}const Io=at.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},Js(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function PW(t,e={}){return[Io.of({source:t,config:e}),EW,mR]}function fR(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function dR(t,e,n){var r;let i=n?fR(e.actions):[];return Ir("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Ir("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=h=>{if(h.preventDefault(),a)return;a=!0;let m=cc(t.state.field(js).diagnostics,e);m&&s.apply(t,m.from,m.to)},{name:f}=s,c=i[o]?f.indexOf(i[o]):-1,d=c<0?f:[f.slice(0,c),Ir("u",f.slice(c,c+1)),f.slice(c+1)];return Ir("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${f}${c<0?"":` (access key "${i[o]})"`}.`},d)}),e.source&&Ir("div",{class:"cm-diagnosticSource"},e.source))}class RW extends ra{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Ir("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class _j{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=dR(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Gf{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)Cj(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=fR(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=cc(this.view.state.field(js).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=Ir("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=Ir("div",{class:"cm-panel-lint"},this.list,Ir("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Cj(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(js).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(js),r=0,i=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,a,{spec:l})=>{let f=-1,c;for(let d=r;d<this.items.length;d++)if(this.items[d].diagnostic==l.diagnostic){f=d;break}f<0?(c=new _j(this.view,l.diagnostic),this.items.splice(r,0,c),i=!0):(c=this.items[f],f>r&&(this.items.splice(r,f-r),i=!0)),n&&c.diagnostic==n.diagnostic?c.dom.hasAttribute("aria-selected")||(c.dom.setAttribute("aria-selected","true"),s=c):c.dom.hasAttribute("aria-selected")&&c.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new _j(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:a})=>{let l=a.height/this.list.offsetHeight;o.top<a.top?this.list.scrollTop-=(a.top-o.top)/l:o.bottom>a.bottom&&(this.list.scrollTop+=(o.bottom-a.bottom)/l)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(js),r=cc(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:uR.of(r)})}static open(e){return new Gf(e)}}function Mp(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function dh(t){return Mp(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const TW=tt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:dh("#d11")},".cm-lintRange-warning":{backgroundImage:dh("orange")},".cm-lintRange-info":{backgroundImage:dh("#999")},".cm-lintRange-hint":{backgroundImage:dh("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Aj(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}class hR extends Go{constructor(e){super(),this.diagnostics=e,this.severity=e.reduce((n,r)=>Aj(n)<Aj(r.severity)?r.severity:n,"hint")}toDOM(e){let n=document.createElement("div");n.className="cm-lint-marker cm-lint-marker-"+this.severity;let r=this.diagnostics,i=e.state.facet(Ag).tooltipFilter;return i&&(r=i(r,e.state)),r.length&&(n.onmouseover=()=>NW(e,n,r)),n}}function $W(t,e){let n=r=>{let i=e.getBoundingClientRect();if(!(r.clientX>i.left-10&&r.clientX<i.right+10&&r.clientY>i.top-10&&r.clientY<i.bottom+10)){for(let s=r.target;s;s=s.parentNode)if(s.nodeType==1&&s.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",n),t.state.field(pR)&&t.dispatch({effects:ix.of(null)})}};window.addEventListener("mousemove",n)}function NW(t,e,n){function r(){let o=t.elementAtHeight(e.getBoundingClientRect().top+5-t.documentTop);t.coordsAtPos(o.from)&&t.dispatch({effects:ix.of({pos:o.from,above:!1,create(){return{dom:cR(t,n),getCoords:()=>e.getBoundingClientRect()}}})}),e.onmouseout=e.onmousemove=null,$W(t,e)}let{hoverTime:i}=t.state.facet(Ag),s=setTimeout(r,i);e.onmouseout=()=>{clearTimeout(s),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(s),s=setTimeout(r,i)}}function IW(t,e){let n=Object.create(null);for(let i of e){let s=t.lineAt(i.from);(n[s.from]||(n[s.from]=[])).push(i)}let r=[];for(let i in n)r.push(new hR(n[i]).range(+i));return Wn.of(r,!0)}const DW=TM({class:"cm-gutter-lint",markers:t=>t.state.field(Eb),widgetMarker:(t,e,n)=>{let r=[];return t.state.field(Eb).between(n.from,n.to,(i,s,o)=>{r.push(...o.diagnostics)}),r.length?new hR(r):null}}),Eb=di.define({create(){return Wn.empty},update(t,e){t=t.map(e.changes);let n=e.state.facet(Ag).markerFilter;for(let r of e.effects)if(r.is(_g)){let i=r.value;n&&(i=n(i||[],e.state)),t=IW(e.state.doc,i.slice(0))}return t}}),ix=Xt.define(),pR=di.define({create(){return null},update(t,e){return t&&e.docChanged&&(t=aR(e,t)?null:Object.assign(Object.assign({},t),{pos:e.changes.mapPos(t.pos)})),e.effects.reduce((n,r)=>r.is(ix)?r.value:n,t)},provide:t=>vg.from(t)}),LW=tt.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:Mp('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:Mp('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:Mp('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),mR=[js,tt.decorations.compute([js],t=>{let{selected:e,panel:n}=t.field(js);return!e||!n||e.from==e.to?xt.none:xt.set([SW.range(e.from,e.to)])}),IB(CW,{hideOn:aR}),TW],Ag=at.define({combine(t){return Js(t,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function zW(t={}){return[Ag.of(t),Eb,DW,LW,pR]}var Oj={};class dm{constructor(e,n,r,i,s,o,a,l,f,c=0,d){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=f,this.lookAhead=c,this.parent=d}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new dm(e,[],n,r,r,0,[],0,i?new Ej(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,o=s.dynamicPrecedence(i);if(o&&(this.score+=o),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),this.reduceContext(i,this.reducePos);return}let a=this.stack.length-(r-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,f=this.reducePos-l;f>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=f):this.p.lastBigReductionSize<f&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=f));let c=a?this.stack[a-1]:0,d=this.bufferBase+this.buffer.length-c;if(i<s.minRepeatTerm||e&131072){let h=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,l,h,d+4,!0)}if(e&262144)this.state=this.stack[a];else{let h=this.stack[a-3];this.state=s.getGoto(h,i,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(i,l)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==r)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4);this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:o}=this.p;(i>this.pos||n<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(n,r),n<=o.maxNode&&this.buffer.push(n,r,i,4)}else this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4)}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new dm(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new BW(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(n[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let o=n[s+1];i.some((a,l)=>l&1&&a==o)||i.push(n[s],o)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,f=this.stack.length-a*3;if(f>=0&&e.getGoto(this.stack[f],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new Ej(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Ej{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class BW{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class hm{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new hm(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new hm(this.stack,this.pos,this.index)}}function pf(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let o=t.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class Pp{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Mj=new Pp;class qW{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Mj,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=Mj,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class Ku{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;gR(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}Ku.prototype.contextual=Ku.prototype.fallback=Ku.prototype.extend=!1;class FW{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?pf(e):e}token(e,n){let r=e.pos,i=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(gR(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}FW.prototype.contextual=Ku.prototype.fallback=Ku.prototype.extend=!1;class nee{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function gR(t,e,n,r,i,s){let o=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;(a&t[o])!=0;){let f=t[o+1];for(let m=o+3;m<f;m+=2)if((t[m+1]&a)>0){let p=t[m];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||UW(p,e.token.value,i,s))){e.acceptToken(p);break}}let c=e.next,d=0,h=t[o+2];if(e.next<0&&h>d&&t[f+h*3-3]==65535){o=t[f+h*3-1];continue e}for(;d<h;){let m=d+h>>1,p=f+m+(m<<1),y=t[p],g=t[p+1]||65536;if(c<y)h=m;else if(c>=g)d=m+1;else{o=t[p+2],e.advance();continue e}}break}}function Pj(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function UW(t,e,n,r){let i=Pj(n,r,e);return i<0||Pj(n,r,t)<i}const hs=typeof process<"u"&&Oj&&/\bparse\b/.test(Oj.LOG);let Tv=null;function Rj(t,e,n){let r=t.cursor(Hr.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class WW{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Rj(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Rj(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[n]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof fr){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(pn.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class VW{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Pp)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let f=0;f<s.length;f++){if((1<<f&o)==0)continue;let c=s[f],d=this.tokens[f];if(!(r&&!c.fallback)&&((c.contextual||d.start!=e.pos||d.mask!=o||d.context!=a)&&(this.updateCachedToken(d,c,e),d.mask=o,d.context=a),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),d.value!=0)){let h=n;if(d.extended>-1&&(n=this.addActions(e,d.extended,d.end,n)),n=this.addActions(e,d.value,d.end,n),!c.extend&&(r=d,n>h))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new Pp,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Pp,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){(a&1)==0?e.value=a>>1:e.extended=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let f=o.stateSlot(s,l?2:1);;f+=3){if(a[f]==65535)if(a[f+1]==1)f=ca(a,f+2);else{i==0&&a[f+1]==2&&(i=this.putAction(ca(a,f+2),n,r,i));break}a[f]==n&&(i=this.putAction(ca(a,f+1),n,r,i))}return i}}class HW{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new qW(n,i),this.tokens=new VW(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[dm.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new WW(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&GW(i);if(o)return hs&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw hs&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return hs&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let f=r[l];if(a.sameState(f)||a.buffer.length>500&&f.buffer.length>500)if((a.score-f.score||a.buffer.length-f.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,o=hs?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,c=f?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let h=this.parser.nodeSet.types[d.type.id]==d.type?s.getGoto(e.state,d.type.id):-1;if(h>-1&&d.length&&(!f||(d.prop(pn.contextHash)||0)==c))return e.useNode(d,h),hs&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(d.type.id)})`),!0;if(!(d instanceof fr)||d.children.length==0||d.positions[0]>0)break;let m=d.children[0];if(m instanceof fr&&d.positions[0]==0)d=m;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),hs&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let f=0;f<l.length;){let c=l[f++],d=l[f++],h=l[f++],m=f==l.length||!r,p=m?e:e.split(),y=this.tokens.mainToken;if(p.apply(c,d,y?y.start:p.pos,h),hs&&console.log(o+this.stackID(p)+` (via ${(c&65536)==0?"shift":`reduce of ${s.getName(c&65535)}`} for ${s.getName(d)} @ ${i}${p==e?"":", split"})`),m)return!0;p.pos>i?n.push(p):r.push(p)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return Tj(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],f=n[(o<<1)+1],c=hs?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),hs&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let d=a.split(),h=c;for(let m=0;d.forceReduce()&&m<10&&(hs&&console.log(h+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));m++)hs&&(h=this.stackID(d)+" -> ");for(let m of a.recoverByInsert(l))hs&&console.log(c+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,r);this.stream.end>a.pos?(f==a.pos&&(f++,l=0),a.recoverByDelete(l,f),hs&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),Tj(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),fr.build({buffer:hm.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(Tv||(Tv=new WeakMap)).get(e);return n||Tv.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function Tj(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class KW{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const $v=t=>t;class ree{constructor(e){this.start=e.start,this.shift=e.shift||$v,this.reduce=e.reduce||$v,this.reuse=e.reuse||$v,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class pm extends jy{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function s(a,l,f){i[a].push([l,l.deserialize(String(f))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=pn[l]);for(let f=1;f<a.length;){let c=a[f++];if(c>=0)s(c,l,a[f++]);else{let d=a[f+-c];for(let h=-c;h>0;h--)s(a[f++],l,d);f++}}}this.nodeSet=new pg(n.map((a,l)=>qi.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=n3;let o=pf(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map($j),this.states=pf(e.states,Uint32Array),this.data=pf(e.stateData),this.goto=pf(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Ku(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new HW(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let f=s+(o>>1);s<f;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=ca(r,s+2)];else{if(r[s+1]==2)return ca(r,s+2);break}if(o==n||o==0)return ca(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=ca(this.data,s+2);else break;i=n(ca(this.data,s+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=ca(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];n.some((s,o)=>o&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(pm.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=$j(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new KW(e,r,i)}static deserialize(e){return new pm(e)}}function ca(t,e){return t[e]|t[e+1]<<16}function GW(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function $j(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}function Fr(t){return Array.isArray(t)}function Zr(t){return t!==null&&typeof t=="object"&&(t.constructor===void 0||t.constructor.name==="Object")}function vR(t){return t&&typeof t=="object"?t.op==="add":!1}function bR(t){return t&&typeof t=="object"?t.op==="remove":!1}function sx(t){return t&&typeof t=="object"?t.op==="replace":!1}function Mb(t){return t&&typeof t=="object"?t.op==="copy":!1}function Gu(t){return t&&typeof t=="object"?t.op==="move":!1}function JW(t,e){return JSON.stringify(t)===JSON.stringify(e)}function YW(t,e){return t===e}function yR(t){return t.slice(0,t.length-1)}function QW(t){return t[t.length-1]}function XW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YW;if(t.length<e.length)return!1;for(let r=0;r<e.length;r++)if(!n(t[r],e[r]))return!1;return!0}function xR(t){return typeof t=="object"&&t!==null}function ox(t){if(Fr(t)){const e=t.slice();return Object.getOwnPropertySymbols(t).forEach(n=>{e[n]=t[n]}),e}else if(Zr(t)){const e={...t};return Object.getOwnPropertySymbols(t).forEach(n=>{e[n]=t[n]}),e}else return t}function ax(t,e,n){if(t[e]===n)return t;{const r=ox(t);return r[e]=n,r}}function rt(t,e){let n=t,r=0;for(;r<e.length;)Zr(n)?n=n[e[r]]:Fr(n)?n=n[parseInt(e[r])]:n=void 0,r++;return n}function as(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.length===0)return n;const i=e[0],s=as(t?t[i]:void 0,e.slice(1),n,r);if(Zr(t)||Fr(t))return ax(t,i,s);if(r){const o=ZW.test(i)?[]:{};return o[i]=s,o}else throw new Error("Path does not exist")}const ZW=/^\d+$/;function lx(t,e,n){if(e.length===0)return n(t);if(!xR(t))throw new Error("Path doesn't exist");const r=e[0],i=lx(t[r],e.slice(1),n);return ax(t,r,i)}function Og(t,e){if(e.length===0)return t;if(!xR(t))throw new Error("Path does not exist");if(e.length===1){const i=e[0];if(i in t){const s=ox(t);return Fr(s)&&s.splice(parseInt(i),1),Zr(s)&&delete s[i],s}else return t}const n=e[0],r=Og(t[n],e.slice(1));return ax(t,n,r)}function ux(t,e,n){const r=e.slice(0,e.length-1),i=e[e.length-1];return lx(t,r,s=>{if(!Array.isArray(s))throw new TypeError("Array expected at path "+JSON.stringify(r));const o=ox(s);return o.splice(parseInt(i),0,n),o})}function Is(t,e){return t===void 0?!1:e.length===0?!0:t===null?!1:Is(t[e[0]],e.slice(1))}function qs(t){const e=t.split("/");return e.shift(),e.map(n=>n.replace(/~1/g,"/").replace(/~0/g,"~"))}function jt(t){return t.map(wR).join("")}function wR(t){return"/"+String(t).replace(/~/g,"~0").replace(/\//g,"~1")}function Nj(t,e){return t+wR(e)}function oo(t,e,n){let r=t;for(let i=0;i<e.length;i++){aV(e[i]);let s=e[i];if(n&&n.before){const l=n.before(r,s);if(l!==void 0){if(l.document!==void 0&&(r=l.document),l.json!==void 0)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"');l.operation!==void 0&&(s=l.operation)}}const o=r,a=ao(r,s.path);if(s.op==="add")r=nV(r,a,s.value);else if(s.op==="remove")r=tV(r,a);else if(s.op==="replace")r=eV(r,a,s.value);else if(s.op==="copy")r=rV(r,a,Pb(s.from));else if(s.op==="move")r=iV(r,a,Pb(s.from));else if(s.op==="test")sV(r,a,s.value);else throw new Error("Unknown JSONPatch operation "+JSON.stringify(s));if(n&&n.after){const l=n.after(r,s,o);l!==void 0&&(r=l)}}return r}function eV(t,e,n){return as(t,e,n)}function tV(t,e){return Og(t,e)}function nV(t,e,n){return Td(t,e)?ux(t,e,n):as(t,e,n)}function rV(t,e,n){const r=rt(t,n);if(Td(t,e))return ux(t,e,r);{const i=rt(t,n);return as(t,e,i)}}function iV(t,e,n){const r=rt(t,n),i=Og(t,n);return Td(i,e)?ux(i,e,r):as(i,e,r)}function sV(t,e,n){if(n===void 0)throw new Error(`Test failed: no value provided (path: "${jt(e)}")`);if(!Is(t,e))throw new Error(`Test failed: path not found (path: "${jt(e)}")`);const r=rt(t,e);if(!JW(r,n))throw new Error(`Test failed, value differs (path: "${jt(e)}")`)}function Td(t,e){if(e.length===0)return!1;const n=rt(t,yR(e));return Array.isArray(n)}function oV(t,e){if(QW(e)!=="-")return e;const n=yR(e),r=rt(t,n);return n.concat(r.length)}function aV(t){if(!["add","remove","replace","copy","move","test"].includes(t.op))throw new Error("Unknown JSONPatch op "+JSON.stringify(t.op));if(typeof t.path!="string")throw new Error('Required property "path" missing or not a string in operation '+JSON.stringify(t));if((t.op==="copy"||t.op==="move")&&typeof t.from!="string")throw new Error('Required property "from" missing or not a string in operation '+JSON.stringify(t))}function ao(t,e){return oV(t,qs(e))}function Pb(t){return qs(t)}function jR(t,e,n){let r=[];return oo(t,e,{before:(s,o)=>{let a;const l=ao(s,o.path);if(o.op==="add")a=CR(s,l);else if(o.op==="remove")a=SR(s,l);else if(o.op==="replace")a=kR(s,l);else if(o.op==="copy")a=lV(s,l);else if(o.op==="move")a=uV(s,l,Pb(o.from));else if(o.op==="test")a=[];else throw new Error("Unknown JSONPatch operation "+JSON.stringify(o));let f;if(n&&n.before){const c=n.before(s,o,a);if(c&&c.revertOperations&&(a=c.revertOperations),c&&c.document&&(f=c.document),c&&c.json)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"')}if(r=a.concat(r),f!==void 0)return{document:f}}}),r}function kR(t,e){return[{op:"replace",path:jt(e),value:rt(t,e)}]}function SR(t,e){return[{op:"add",path:jt(e),value:rt(t,e)}]}function CR(t,e){return Td(t,e)||!Is(t,e)?[{op:"remove",path:jt(e)}]:kR(t,e)}function lV(t,e){return CR(t,e)}function uV(t,e,n){if(e.length<n.length&&XW(n,e))return[{op:"replace",path:jt(e),value:t}];const r={op:"move",from:jt(e),path:jt(n)};return!Td(t,e)&&Is(t,e)?[r,...SR(t,e)]:[r]}var hh={},Ij;function cV(){if(Ij)return hh;Ij=1;var t={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},e=97;hh.parse=function(p,y,g){var b={},v=0,x=0,j=0,w=g&&g.bigint&&typeof BigInt<"u";return{data:k("",!0),pointers:b};function k(T,A){S();var P;me(T,"value");var se=K();switch(se){case"t":z("rue"),P=!0;break;case"f":z("alse"),P=!1;break;case"n":z("ull"),P=null;break;case'"':P=M();break;case"[":P=J(T);break;case"{":P=W(T);break;default:ue(),"-0123456789".indexOf(se)>=0?P=E():X()}return me(T,"valueEnd"),S(),A&&j<p.length&&X(),P}function S(){e:for(;j<p.length;){switch(p[j]){case" ":x++;break;case"	":x+=4;break;case"\r":x=0;break;case`
`:x=0,v++;break;default:break e}j++}}function M(){for(var T="",A;A=K(),A!='"';)A=="\\"?(A=K(),A in t?T+=t[A]:A=="u"?T+=ne():$()):T+=A;return T}function E(){var T="",A=!0;p[j]=="-"&&(T+=K()),T+=p[j]=="0"?K():re(),p[j]=="."&&(T+=K()+re(),A=!1),(p[j]=="e"||p[j]=="E")&&(T+=K(),(p[j]=="+"||p[j]=="-")&&(T+=K()),T+=re(),A=!1);var P=+T;return w&&A&&(P>Number.MAX_SAFE_INTEGER||P<Number.MIN_SAFE_INTEGER)?BigInt(T):P}function J(T){S();var A=[],P=0;if(K()=="]")return A;for(ue();;){var se=T+"/"+P;A.push(k(se)),S();var te=K();if(te=="]")break;te!=","&&$(),S(),P++}return A}function W(T){S();var A={};if(K()=="}")return A;for(ue();;){var P=pe();K()!='"'&&$();var se=M(),te=T+"/"+m(se);de(te,"key",P),me(te,"keyEnd"),S(),K()!=":"&&$(),S(),A[se]=k(te),S();var q=K();if(q=="}")break;q!=","&&$(),S()}return A}function z(T){for(var A=0;A<T.length;A++)K()!==T[A]&&$()}function K(){ie();var T=p[j];return j++,x++,T}function ue(){j--,x--}function ne(){for(var T=4,A=0;T--;){A<<=4;var P=K().toLowerCase();P>="a"&&P<="f"?A+=P.charCodeAt()-e+10:P>="0"&&P<="9"?A+=+P:$()}return String.fromCharCode(A)}function re(){for(var T="";p[j]>="0"&&p[j]<="9";)T+=K();if(T.length)return T;ie(),X()}function me(T,A){de(T,A,pe())}function de(T,A,P){b[T]=b[T]||{},b[T][A]=P}function pe(){return{line:v,column:x,pos:j}}function X(){throw new SyntaxError("Unexpected token "+p[j]+" in JSON at position "+j)}function $(){ue(),X()}function ie(){if(j>=p.length)throw new SyntaxError("Unexpected end of JSON input")}},hh.stringify=function(p,y,g){if(!r(p))return;var b=0,v,x,j=typeof g=="object"?g.space:g;switch(typeof j){case"number":var w=j>10?10:j<0?0:Math.floor(j);j=w&&de(w," "),v=w,x=w;break;case"string":j=j.slice(0,10),v=0,x=0;for(var k=0;k<j.length;k++){var S=j[k];switch(S){case" ":x++;break;case"	":x+=4;break;case"\r":x=0;break;case`
`:x=0,b++;break;default:throw new Error("whitespace characters not allowed in JSON")}v++}break;default:j=void 0}var M="",E={},J=0,W=0,z=0,K=g&&g.es6&&typeof Map=="function";return ue(p,0,""),{json:M,pointers:E};function ue(pe,X,$){switch(me($,"value"),typeof pe){case"number":case"bigint":case"boolean":ne(""+pe);break;case"string":ne(c(pe));break;case"object":pe===null?ne("null"):typeof pe.toJSON=="function"?ne(c(pe.toJSON())):Array.isArray(pe)?ie():K?pe.constructor.BYTES_PER_ELEMENT?ie():pe instanceof Map?A():pe instanceof Set?A(!0):T():T()}me($,"valueEnd");function ie(){if(pe.length){ne("[");for(var P=X+1,se=0;se<pe.length;se++){se&&ne(","),re(P);var te=r(pe[se])?pe[se]:null,q=$+"/"+se;ue(te,P,q)}re(X),ne("]")}else ne("[]")}function T(){var P=Object.keys(pe);if(P.length){ne("{");for(var se=X+1,te=0;te<P.length;te++){var q=P[te],ge=pe[q];if(r(ge)){te&&ne(",");var V=$+"/"+m(q);re(se),me(V,"key"),ne(c(q)),me(V,"keyEnd"),ne(":"),j&&ne(" "),ue(ge,se,V)}}re(X),ne("}")}else ne("{}")}function A(P){if(pe.size){ne("{");for(var se=X+1,te=!0,q=pe.entries(),ge=q.next();!ge.done;){var V=ge.value,F=V[0],ee=P?!0:V[1];if(r(ee)){te||ne(","),te=!1;var U=$+"/"+m(F);re(se),me(U,"key"),ne(c(F)),me(U,"keyEnd"),ne(":"),j&&ne(" "),ue(ee,se,U)}ge=q.next()}re(X),ne("}")}else ne("{}")}}function ne(pe){W+=pe.length,z+=pe.length,M+=pe}function re(pe){if(j){for(M+=`
`+de(pe,j),J++,W=0;pe--;)b?(J+=b,W=x):W+=x,z+=v;z+=1}}function me(pe,X){E[pe]=E[pe]||{},E[pe][X]={line:J,column:W,pos:z}}function de(pe,X){return Array(pe+1).join(X)}};var n=["number","bigint","boolean","string","object"];function r(p){return n.indexOf(typeof p)>=0}var i=/"|\\/g,s=/[\b]/g,o=/\f/g,a=/\n/g,l=/\r/g,f=/\t/g;function c(p){return p=p.replace(i,"\\$&").replace(o,"\\f").replace(s,"\\b").replace(a,"\\n").replace(l,"\\r").replace(f,"\\t"),'"'+p+'"'}var d=/~/g,h=/\//g;function m(p){return p.replace(d,"~0").replace(h,"~1")}return hh}var fV=cV();const Dj=vC(fV);class bu extends Error{constructor(e,n){super(`${e} at position ${n}`),this.position=n}}const ph=92,Nv=47,dV=42,Lj=123,mh=125,zj=91,gh=93,hV=41,pV=32,cx=10,_R=9,AR=13,mV=8,gV=12,mm=34,Bj=43,qj=45,OR=39,ER=48,MR=57,El=44,vh=46,vV=58,bV=59,yV=65,xV=97,wV=69,jV=101,kV=70,SV=102,CV=160,_V=8192,AV=8202,OV=8239,EV=8287,MV=12288,PV=8220,RV=8221,TV=8216,$V=8217,NV=96,IV=180;function DV(t){return t>=ER&&t<=MR||t>=yV&&t<=kV||t>=xV&&t<=SV}function Ml(t){return t>=ER&&t<=MR}function LV(t){return t>=32&&t<=1114111}function bh(t){return zV.test(t)}const zV=/^[,:[\]/{}()\n+]$/,BV=/^[,[\]/{}\n+]$/,qV=/^[a-zA-Z_$]$/,FV=/^[a-zA-Z_$0-9]$/;function Fj(t){return BV.test(t)}function Uj(t){return UV.test(t)||t&&Rp(t.charCodeAt(0))}const UV=/^[[{\w-]$/;function WV(t){return t===cx||t===AR||t===_R||t===mV||t===gV}function Dl(t){return t===pV||t===cx||t===_R||t===AR}function VV(t){return t===CV||t>=_V&&t<=AV||t===OV||t===EV||t===MV}function Rp(t){return PR(t)||Rb(t)}function PR(t){return t===mm||t===PV||t===RV}function Wj(t){return t===mm}function Rb(t){return t===OR||t===TV||t===$V||t===NV||t===IV}function Vj(t){return t===OR}function ef(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=t.lastIndexOf(e);return r!==-1?t.substring(0,r)+(n?"":t.substring(r+1)):t}function _o(t,e){let n=t.length;if(!Dl(t.charCodeAt(n-1)))return t+e;for(;Dl(t.charCodeAt(n-1));)n--;return t.substring(0,n)+e+t.substring(n)}function HV(t,e,n){return t.substring(0,e)+t.substring(e+n)}function KV(t){return/[,\n][ \t\r]*$/.test(t)}const GV={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},JV={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function zo(t){let e=0,n="";s()||z();const i=f(El);for(i&&o(),Uj(t[e])&&KV(n)?(i||(n=_o(n,",")),y()):i&&(n=ef(n,","));t.charCodeAt(e)===mh||t.charCodeAt(e)===gh;)e++,o();if(e>=t.length)return n;W();function s(){o();const re=m()||p()||g()||v()||x()||w(!1)||k();return o(),re}function o(){const re=e;let me=a();do me=l(),me&&(me=a());while(me);return e>re}function a(){let re="",me;for(;(me=Dl(t.charCodeAt(e)))||VV(t.charCodeAt(e));)me?re+=t[e]:re+=" ",e++;return re.length>0?(n+=re,!0):!1}function l(){if(t.charCodeAt(e)===Nv&&t.charCodeAt(e+1)===dV){for(;e<t.length&&!YV(t,e);)e++;return e+=2,!0}if(t.charCodeAt(e)===Nv&&t.charCodeAt(e+1)===Nv){for(;e<t.length&&t.charCodeAt(e)!==cx;)e++;return!0}return!1}function f(re){return t.charCodeAt(e)===re?(n+=t[e],e++,!0):!1}function c(re){return t.charCodeAt(e)===re?(e++,!0):!1}function d(){return c(ph)}function h(){return o(),t.charCodeAt(e)===vh&&t.charCodeAt(e+1)===vh&&t.charCodeAt(e+2)===vh?(e+=3,o(),c(El),!0):!1}function m(){if(t.charCodeAt(e)===Lj){n+="{",e++,o(),c(El)&&o();let re=!0;for(;e<t.length&&t.charCodeAt(e)!==mh;){let me;if(re?(me=!0,re=!1):(me=f(El),me||(n=_o(n,",")),o()),h(),!(g()||w(!0))){t.charCodeAt(e)===mh||t.charCodeAt(e)===Lj||t.charCodeAt(e)===gh||t.charCodeAt(e)===zj||t[e]===void 0?n=ef(n,","):K();break}o();const pe=f(vV),X=e>=t.length;pe||(Uj(t[e])||X?n=_o(n,":"):ue()),s()||(pe||X?n+="null":ue())}return t.charCodeAt(e)===mh?(n+="}",e++):n=_o(n,"}"),!0}return!1}function p(){if(t.charCodeAt(e)===zj){n+="[",e++,o(),c(El)&&o();let re=!0;for(;e<t.length&&t.charCodeAt(e)!==gh;)if(re?re=!1:f(El)||(n=_o(n,",")),h(),!s()){n=ef(n,",");break}return t.charCodeAt(e)===gh?(n+="]",e++):n=_o(n,"]"),!0}return!1}function y(){let re=!0,me=!0;for(;me;)re?re=!1:f(El)||(n=_o(n,",")),me=s();me||(n=ef(n,",")),n=`[
${n}
]`}function g(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,me=t.charCodeAt(e)===ph;if(me&&(e++,me=!0),Rp(t.charCodeAt(e))){const de=Wj(t.charCodeAt(e))?Wj:Vj(t.charCodeAt(e))?Vj:Rb(t.charCodeAt(e))?Rb:PR,pe=e,X=n.length;let $='"';for(e++;;){if(e>=t.length){const ie=S(e-1);return!re&&bh(t.charAt(ie))?(e=pe,n=n.substring(0,X),g(!0)):($=_o($,'"'),n+=$,!0)}else if(de(t.charCodeAt(e))){const ie=e,T=$.length;if($+='"',e++,n+=$,o(),re||e>=t.length||bh(t.charAt(e))||Rp(t.charCodeAt(e))||Ml(t.charCodeAt(e)))return b(),!0;if(bh(t.charAt(S(ie-1))))return e=pe,n=n.substring(0,X),g(!0);n=n.substring(0,X),e=ie+1,$=`${$.substring(0,T)}\\${$.substring(T)}`}else{if(re&&Fj(t[e]))return $=_o($,'"'),n+=$,b(),!0;if(t.charCodeAt(e)===ph){const ie=t.charAt(e+1);if(JV[ie]!==void 0)$+=t.slice(e,e+2),e+=2;else if(ie==="u"){let A=2;for(;A<6&&DV(t.charCodeAt(e+A));)A++;A===6?($+=t.slice(e,e+6),e+=6):e+A>=t.length?e=t.length:ne()}else $+=ie,e+=2}else{const ie=t.charAt(e),T=t.charCodeAt(e);T===mm&&t.charCodeAt(e-1)!==ph?($+=`\\${ie}`,e++):WV(T)?($+=GV[ie],e++):(LV(T)||J(ie),$+=ie,e++)}}me&&d()}}return!1}function b(){let re=!1;for(o();t.charCodeAt(e)===Bj;){re=!0,e++,o(),n=ef(n,'"',!0);const me=n.length;g()?n=HV(n,me,1):n=_o(n,'"')}return re}function v(){const re=e;if(t.charCodeAt(e)===qj){if(e++,M())return E(re),!0;if(!Ml(t.charCodeAt(e)))return e=re,!1}for(;Ml(t.charCodeAt(e));)e++;if(t.charCodeAt(e)===vh){if(e++,M())return E(re),!0;if(!Ml(t.charCodeAt(e)))return e=re,!1;for(;Ml(t.charCodeAt(e));)e++}if(t.charCodeAt(e)===jV||t.charCodeAt(e)===wV){if(e++,(t.charCodeAt(e)===qj||t.charCodeAt(e)===Bj)&&e++,M())return E(re),!0;if(!Ml(t.charCodeAt(e)))return e=re,!1;for(;Ml(t.charCodeAt(e));)e++}if(!M())return e=re,!1;if(e>re){const me=t.slice(re,e),de=/^0\d/.test(me);return n+=de?`"${me}"`:me,!0}return!1}function x(){return j("true","true")||j("false","false")||j("null","null")||j("True","true")||j("False","false")||j("None","null")}function j(re,me){return t.slice(e,e+re.length)===re?(n+=me,e+=re.length,!0):!1}function w(re){const me=e;if(qV.test(t[e])){for(;e<t.length&&FV.test(t[e]);)e++;let de=e;for(;Dl(t.charCodeAt(de));)de++;if(t[de]==="(")return e=de+1,s(),t.charCodeAt(e)===hV&&(e++,t.charCodeAt(e)===bV&&e++),!0}for(;e<t.length&&!Fj(t[e])&&!Rp(t.charCodeAt(e))&&(!re||t[e]!==":");)e++;if(e>me){for(;Dl(t.charCodeAt(e-1))&&e>0;)e--;const de=t.slice(me,e);return n+=de==="undefined"?"null":JSON.stringify(de),t.charCodeAt(e)===mm&&e++,!0}}function k(){if(t[e]==="/"){const re=e;for(e++;e<t.length&&(t[e]!=="/"||t[e-1]==="\\");)e++;return e++,n+=`"${t.substring(re,e)}"`,!0}}function S(re){let me=re;for(;me>0&&Dl(t.charCodeAt(me));)me--;return me}function M(){return e>=t.length||bh(t[e])||Dl(t.charCodeAt(e))}function E(re){n+=`${t.slice(re,e)}0`}function J(re){throw new bu(`Invalid character ${JSON.stringify(re)}`,e)}function W(){throw new bu(`Unexpected character ${JSON.stringify(t[e])}`,e)}function z(){throw new bu("Unexpected end of json string",t.length)}function K(){throw new bu("Object key expected",e)}function ue(){throw new bu("Colon expected",e)}function ne(){const re=t.slice(e,e+6);throw new bu(`Invalid unicode character "${re}"`,e)}}function YV(t,e){return t[e]==="*"&&t[e+1]==="/"}const fx=t=>Array.isArray(t),QV=t=>typeof t=="string";function gi(t){return(...e)=>{const n=e.map(s=>ms(s)),r=n[0],i=n[1];return n.length===1?s=>t(r(s)):n.length===2?s=>t(r(s),i(s)):s=>t(...n.map(o=>o(s)))}}const Nu={pipe:(...t)=>{const e=t.map(n=>ms(n));return n=>e.reduce((r,i)=>i(r),n)},object:t=>{const e=Object.keys(t).map(n=>[n,ms(t[n])]);return n=>{const r={};for(const[i,s]of e)r[i]=s(n);return r}},array:(...t)=>{const e=t.map(n=>ms(n));return n=>e.map(r=>r(n))},get:(...t)=>{if(t.length===0)return e=>e;if(t.length===1){const e=t[0];return n=>n==null?void 0:n[e]}return e=>{let n=e;for(const r of t)n=n==null?void 0:n[r];return n}},map:t=>{const e=ms(t);return n=>n.map(e)},filter:t=>{const e=ms(t);return n=>n.filter(e)},sort:(t=["get"],e)=>{const n=ms(t),r=e==="desc"?-1:1;function i(s,o){const a=n(s),l=n(o);return a>l?r:a<l?-r:0}return s=>s.slice().sort(i)},pick:(...t)=>{const e=t.map(([r,...i])=>[i[i.length-1],Nu.get(...i)]),n=(r,i)=>{const s={};for(const[o,a]of i)s[o]=a(r);return s};return r=>fx(r)?r.map(i=>n(i,e)):n(r,e)},groupBy:t=>{const e=ms(t);return n=>{const r={};for(const i of n){const s=e(i);r[s]?r[s].push(i):r[s]=[i]}return r}},keyBy:t=>{const e=ms(t);return n=>{const r={};for(const i of n){const s=e(i);r[s]=r[s]??i}return r}},flatten:()=>t=>t.flat(),uniq:()=>t=>[...new Set(t)],uniqBy:t=>e=>Object.values(Nu.groupBy(t)(e)).map(n=>n[0]),limit:t=>e=>e.slice(0,t),size:()=>t=>t.length,keys:()=>Object.keys,values:()=>Object.values,prod:()=>t=>t.reduce((e,n)=>e*n),sum:()=>t=>t.reduce((e,n)=>e+n),average:()=>t=>Nu.sum()(t)/t.length,min:()=>t=>Math.min(...t),max:()=>t=>Math.max(...t),in:(t,e)=>{const n=ms(t),r=ms(e);return i=>r(i).includes(n(i))},"not in":(t,e)=>{const n=Nu.in(t,e);return r=>!n(r)},regex:(t,e,n)=>{const r=new RegExp(e,n),i=ms(t);return s=>r.test(i(s))},and:gi((t,e)=>t&&e),or:gi((t,e)=>t||e),not:gi(t=>!t),exists:gi(t=>t!==void 0),eq:gi((t,e)=>t===e),gt:gi((t,e)=>t>e),gte:gi((t,e)=>t>=e),lt:gi((t,e)=>t<e),lte:gi((t,e)=>t<=e),ne:gi((t,e)=>t!==e),add:gi((t,e)=>t+e),subtract:gi((t,e)=>t-e),multiply:gi((t,e)=>t*e),divide:gi((t,e)=>t/e),pow:gi((t,e)=>t**e),mod:gi((t,e)=>t%e),abs:gi(Math.abs),round:gi((t,e=0)=>+`${Math.round(+`${t}e${e}`)}e${-e}`)},yh=[];function ms(t,e){yh.unshift({...Nu,...yh[0]});try{const n=fx(t)?XV(t,yh[0]):()=>t;return r=>{try{return n(r)}catch(i){throw i.jsonquery=[{data:r,query:t},...i.jsonquery??[]],i}}}finally{yh.shift()}}function XV(t,e){const[n,...r]=t,i=e[n];if(!i)throw new Error(`Unknown function '${n}'`);return i(...r)}const RR={and:"and",or:"or",eq:"==",gt:">",gte:">=",lt:"<",lte:"<=",ne:"!=",add:"+",subtract:"-",multiply:"*",divide:"/",pow:"^",mod:"%",in:"in","not in":"not in"},ZV=/^[a-zA-Z_$][a-zA-Z\d_$]*$/,eH=/^[a-zA-Z_$][a-zA-Z\d_$]*/,tH=/^"(?:[^"\\]|\\.)*"/,nH=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/,rH=/^(0|[1-9][0-9]*)/,iH=/^(true|false|null)/,sH=/^[ \n\t\r]+/;function TR(t,e){const n=()=>{g();const w=r();if(g(),t[x]==="|"){const k=[w];for(;t[x]==="|";)x++,g(),k.push(r());return["pipe",...k]}return w},r=()=>{const w={...RR},k=i();g();for(const S of Object.keys(w).sort((M,E)=>E.length-M.length)){const M=w[S];if(t.substring(x,x+M.length)===M){x+=M.length,g();const E=i();return[S,k,E]}}return k},i=()=>{if(t[x]==="("){x++;const w=n();return b(")"),w}return s()},s=()=>{const w=[];if(t[x]==="."){for(;t[x]===".";)x++,w.push(f()??c()??h()??v("Property expected"));return["get",...w]}return o()},o=()=>{const w=x,k=c();if(g(),!k||t[x]!=="(")return x=w,a();x++,!Nu[k]&&v(`Unknown function '${k}'`),g();const S=t[x]!==")"?[n()]:[];for(;x<t.length&&t[x]!==")";)g(),b(","),S.push(n());return b(")"),[k,...S]},a=()=>{if(t[x]==="{"){x++,g();const w={};let k=!0;for(;x<t.length&&t[x]!=="}";){k?k=!1:(b(","),g());const S=f()??c()??h()??v("Key expected");g(),b(":"),w[S]=n()}return b("}"),["object",w]}return l()},l=()=>{if(t[x]==="["){x++,g();const w=[];let k=!0;for(;x<t.length&&t[x]!=="]";)k?k=!1:(b(","),g()),w.push(n());return b("]"),["array",...w]}return f()??d()??m()},f=()=>y(tH,JSON.parse),c=()=>y(eH,w=>w),d=()=>y(nH,JSON.parse),h=()=>y(rH,JSON.parse),m=()=>{const w=y(iH,JSON.parse);if(w!==void 0)return w;v("Value expected")},p=()=>{g(),x<t.length&&v(`Unexpected part '${t.substring(x)}'`)},y=(w,k)=>{const S=t.substring(x).match(w);if(S)return x+=S[0].length,k(S[0])},g=()=>y(sH,w=>w),b=w=>{t[x]!==w&&v(`Character '${w}' expected`),x++},v=(w,k=x)=>{throw new SyntaxError(`${w} (pos: ${k})`)};let x=0;const j=n();return p(),j}const oH=40,aH="  ",lH=(t,e)=>{const n=aH,r=(f,c)=>fx(f)?i(f,c):JSON.stringify(f),i=(f,c)=>{var d;const[h,...m]=f;if(h==="get"&&m.length>0)return o(m);if(h==="pipe"){const b=m.map(v=>r(v,c+n));return l(b,[""," | ",""],["",`
${c+n}| `,""])}if(h==="object")return s(m[0],c);if(h==="array"){const b=m.map(v=>r(v,c));return l(b,["[",", ","]"],[`[
${c+n}`,`,
${c+n}`,`
${c}]`])}const p=((d=void 0)==null?void 0:d[h])??RR[h];if(p&&m.length===2){const[b,v]=m,x=r(b,c),j=r(v,c);return`(${x} ${p} ${j})`}const y=m.length===1?c:c+n,g=m.map(b=>r(b,y));return m.length===1&&g[0][0]==="("?`${h}${g}`:l(g,[`${h}(`,", ",")"],m.length===1?[`${h}(`,`,
${c}`,")"]:[`${h}(
${y}`,`,
${y}`,`
${c})`])},s=(f,c)=>{const d=c+n,h=Object.entries(f).map(([m,p])=>`${a(m)}: ${r(p,d)}`);return l(h,["{ ",", "," }"],[`{
${d}`,`,
${d}`,`
${c}}`])},o=f=>f.map(c=>`.${a(c)}`).join(""),a=f=>ZV.test(f)?f:JSON.stringify(f),l=(f,[c,d,h],[m,p,y])=>c.length+f.reduce((g,b)=>g+b.length+d.length,0)-d.length+h.length<=oH?c+f.join(d)+h:m+f.join(p)+y;return r(t,"")};function uH(t,e,n){return ms(QV(e)?TR(e):e)(t)}const cH={prefix:"far",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M297.2 248.9C311.6 228.3 320 203.2 320 176c0-70.7-57.3-128-128-128S64 105.3 64 176c0 27.2 8.4 52.3 22.8 72.9c3.7 5.3 8.1 11.3 12.8 17.7c0 0 0 0 0 0c12.9 17.7 28.3 38.9 39.8 59.8c10.4 19 15.7 38.8 18.3 57.5L109 384c-2.2-12-5.9-23.7-11.8-34.5c-9.9-18-22.2-34.9-34.5-51.8c0 0 0 0 0 0s0 0 0 0c-5.2-7.1-10.4-14.2-15.4-21.4C27.6 247.9 16 213.3 16 176C16 78.8 94.8 0 192 0s176 78.8 176 176c0 37.3-11.6 71.9-31.4 100.3c-5 7.2-10.2 14.3-15.4 21.4c0 0 0 0 0 0s0 0 0 0c-12.3 16.8-24.6 33.7-34.5 51.8c-5.9 10.8-9.6 22.5-11.8 34.5l-48.6 0c2.6-18.7 7.9-38.6 18.3-57.5c11.5-20.9 26.9-42.1 39.8-59.8c0 0 0 0 0 0s0 0 0 0s0 0 0 0c4.7-6.4 9-12.4 12.7-17.7zM192 128c-26.5 0-48 21.5-48 48c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-44.2 35.8-80 80-80c8.8 0 16 7.2 16 16s-7.2 16-16 16zm0 384c-44.2 0-80-35.8-80-80l0-16 160 0 0 16c0 44.2-35.8 80-80 80z"]},fH={prefix:"far",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},$R=fH,NR={prefix:"far",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]},dH={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},Tb={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"]},hH={prefix:"fas",iconName:"down-left-and-up-right-to-center",icon:[512,512,["compress-alt"],"f422","M439 7c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8l-144 0c-13.3 0-24-10.7-24-24l0-144c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39L439 7zM72 272l144 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39L73 505c-9.4 9.4-24.6 9.4-33.9 0L7 473c-9.4-9.4-9.4-24.6 0-33.9l87-87L55 313c-6.9-6.9-8.9-17.2-5.2-26.2s12.5-14.8 22.2-14.8z"]},Jf={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},IR={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32L48 32C21.5 32 0 53.5 0 80L0 400c0 26.5 21.5 48 48 48l144 0 0-272c0-44.2 35.8-80 80-80l48 0 0-16c0-26.5-21.5-48-48-48l-56.6 0C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48l0 272 0 16c0 26.5 21.5 48 48 48l192 0c26.5 0 48-21.5 48-48l0-220.1c0-12.7-5.1-24.9-14.1-33.9l-67.9-67.9c-9-9-21.2-14.1-33.9-14.1L320 128l-48 0zM160 40a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},pH={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},mH={prefix:"fas",iconName:"scissors",icon:[512,512,[9984,9986,9988,"cut"],"f0c4","M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM64 112a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm48 240a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},Ju=mH,gH={prefix:"fas",iconName:"square-caret-down",icon:[448,512,["caret-square-down"],"f150","M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"]},vH=gH,bH={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 256c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-128-128z"]},yH={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},DR=yH,xH={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},wH=xH,jH={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},LR={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},kH={prefix:"fas",iconName:"square-caret-up",icon:[448,512,["caret-square-up"],"f151","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM224 160c6.7 0 13 2.8 17.6 7.7l104 112c6.5 7 8.2 17.2 4.4 25.9s-12.5 14.4-22 14.4l-208 0c-9.5 0-18.2-5.7-22-14.4s-2.1-18.9 4.4-25.9l104-112c4.5-4.9 10.9-7.7 17.6-7.7z"]},SH=kH,CH={prefix:"fas",iconName:"caret-up",icon:[320,512,[],"f0d8","M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l256 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]},zR={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96z"]},gm={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},vm={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},fc={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7L336 192c-8.8 0-16-7.2-16-16l0-57.4c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 408a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},_H={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},Yu={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},AH={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160L336 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},dx=AH,OH={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160l50.3 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L48 224c-17.7 0-32-14.3-32-32L16 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},hx=OH,EH={prefix:"fas",iconName:"crop-simple",icon:[512,512,["crop-alt"],"f565","M128 32c0-17.7-14.3-32-32-32S64 14.3 64 32l0 32L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l32 0 0 256c0 35.3 28.7 64 64 64l224 0 0-64-224 0 0-352zM384 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-256c0-35.3-28.7-64-64-64L160 64l0 64 224 0 0 352z"]},MH=EH,PH={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},RH=PH,dl={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},TH={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"]},BR=TH,xh={prefix:"fas",iconName:"arrow-right-arrow-left",icon:[448,512,[8644,"exchange"],"f0ec","M438.6 150.6c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.7 96 32 96C14.3 96 0 110.3 0 128s14.3 32 32 32l306.7 0-41.4 41.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96zm-333.3 352c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 416 416 416c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0 41.4-41.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96z"]},$H={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7 96 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 301.7 32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32l32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},bm=$H,NH={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},Hj={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},IH={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Eg=IH,DH={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},Ha={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"]},Iu={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},qR={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},LH=qR,Mg=qR,zH={prefix:"fas",iconName:"rotate",icon:[512,512,[128260,"sync-alt"],"f2f1","M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"]},BH={prefix:"fas",iconName:"up-right-and-down-left-from-center",icon:[512,512,["expand-alt"],"f424","M344 0L488 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39-87 87c-9.4 9.4-24.6 9.4-33.9 0l-32-32c-9.4-9.4-9.4-24.6 0-33.9l87-87L327 41c-6.9-6.9-8.9-17.2-5.2-26.2S334.3 0 344 0zM168 512L24 512c-13.3 0-24-10.7-24-24L0 344c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39 87-87c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8z"]},FR={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M288 448L64 448l0-224 64 0 0-64-64 0c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l224 0c35.3 0 64-28.7 64-64l0-64-64 0 0 64zm-64-96l224 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L224 0c-35.3 0-64 28.7-64 64l0 224c0 35.3 28.7 64 64 64z"]},px={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},qH={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},Xl=qH;var Iv={exports:{}},Kj;function FH(){if(Kj)return Iv.exports;Kj=1;/*
 * @version    1.4.0
 * @date       2015-10-26
 * @stability  3 - Stable
 * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
 * @license    MIT License
 */var t=function(e,n){var r,i,s=1,o=0,a=0,l=String.alphabet;function f(c,d,h){if(h){for(r=d;h=f(c,r),h<76&&h>65;)++r;return+c.slice(d-1,r)}return h=l&&l.indexOf(c.charAt(d)),h>-1?h+76:(h=c.charCodeAt(d)||0,h<45||h>127?h:h<46?65:h<48?h-1:h<58?h+18:h<65?h-11:h<91?h+11:h<97?h-37:h<123?h+5:h-63)}if((e+="")!=(n+="")){for(;s;)if(i=f(e,o++),s=f(n,a++),i<76&&s<76&&i>66&&s>66&&(i=f(e,o,o),s=f(n,a,o=r),a=r),i!=s)return i<s?-1:1}return 0};try{Iv.exports=t}catch{String.naturalCompare=t}return Iv.exports}var UH=FH();const WH=vC(UH);var Gj=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function VH(t,e){return!!(t===e||Gj(t)&&Gj(e))}function HH(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!VH(t[n],e[n]))return!1;return!0}function Yf(t,e){e===void 0&&(e=HH);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var wh={exports:{}},Dv={},aa={},Pl={},Lv={},zv={},Bv={},Jj;function ym(){return Jj||(Jj=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends e{constructor(v){if(super(),!t.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class r extends e{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((x,j)=>`${x}${j}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((x,j)=>(j instanceof n&&(x[j.str]=(x[j.str]||0)+1),x),{})}}t._Code=r,t.nil=new r("");function i(b,...v){const x=[b[0]];let j=0;for(;j<v.length;)a(x,v[j]),x.push(b[++j]);return new r(x)}t._=i;const s=new r("+");function o(b,...v){const x=[m(b[0])];let j=0;for(;j<v.length;)x.push(s),a(x,v[j]),x.push(s,m(b[++j]));return l(x),new r(x)}t.str=o;function a(b,v){v instanceof r?b.push(...v._items):v instanceof n?b.push(v):b.push(d(v))}t.addCodeArg=a;function l(b){let v=1;for(;v<b.length-1;){if(b[v]===s){const x=f(b[v-1],b[v+1]);if(x!==void 0){b.splice(v-1,3,x);continue}b[v++]="+"}v++}}function f(b,v){if(v==='""')return b;if(b==='""')return v;if(typeof b=="string")return v instanceof n||b[b.length-1]!=='"'?void 0:typeof v!="string"?`${b.slice(0,-1)}${v}"`:v[0]==='"'?b.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(b instanceof n))return`"${b}${v.slice(1)}`}function c(b,v){return v.emptyStr()?b:b.emptyStr()?v:o`${b}${v}`}t.strConcat=c;function d(b){return typeof b=="number"||typeof b=="boolean"||b===null?b:m(Array.isArray(b)?b.join(","):b)}function h(b){return new r(m(b))}t.stringify=h;function m(b){return JSON.stringify(b).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=m;function p(b){return typeof b=="string"&&t.IDENTIFIER.test(b)?new r(`.${b}`):i`[${b}]`}t.getProperty=p;function y(b){if(typeof b=="string"&&t.IDENTIFIER.test(b))return new r(`${b}`);throw new Error(`CodeGen: invalid export name: ${b}, use explicit $id name mapping`)}t.getEsmExportName=y;function g(b){return new r(b.toString())}t.regexpCode=g}(Bv)),Bv}var qv={},Yj;function Qj(){return Yj||(Yj=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=ym();class n extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(t.UsedValueState=r={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:f,parent:c}={}){this._names={},this._prefixes=f,this._parent=c}toName(f){return f instanceof e.Name?f:this.name(f)}name(f){return new e.Name(this._newName(f))}_newName(f){const c=this._names[f]||this._nameGroup(f);return`${f}${c.index++}`}_nameGroup(f){var c,d;if(!((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0)&&d.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}t.Scope=i;class s extends e.Name{constructor(f,c){super(c),this.prefix=f}setValue(f,{property:c,itemIndex:d}){this.value=f,this.scopePath=(0,e._)`.${new e.Name(c)}[${d}]`}}t.ValueScopeName=s;const o=(0,e._)`\n`;class a extends i{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?o:e.nil}}get(){return this._scope}name(f){return new s(f,this._newName(f))}value(f,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(f),{prefix:m}=h,p=(d=c.key)!==null&&d!==void 0?d:c.ref;let y=this._values[m];if(y){const v=y.get(p);if(v)return v}else y=this._values[m]=new Map;y.set(p,h);const g=this._scope[m]||(this._scope[m]=[]),b=g.length;return g[b]=c.ref,h.setValue(c,{property:m,itemIndex:b}),h}getValue(f,c){const d=this._values[f];if(d)return d.get(c)}scopeRefs(f,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,e._)`${f}${d.scopePath}`})}scopeCode(f=this._values,c,d){return this._reduceValues(f,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},c,d)}_reduceValues(f,c,d={},h){let m=e.nil;for(const p in f){const y=f[p];if(!y)continue;const g=d[p]=d[p]||new Map;y.forEach(b=>{if(g.has(b))return;g.set(b,r.Started);let v=c(b);if(v){const x=this.opts.es5?t.varKinds.var:t.varKinds.const;m=(0,e._)`${m}${x} ${b} = ${v};${this.opts._n}`}else if(v=h==null?void 0:h(b))m=(0,e._)`${m}${v}${this.opts._n}`;else throw new n(b);g.set(b,r.Completed)})}return m}}t.ValueScope=a}(qv)),qv}var Xj;function In(){return Xj||(Xj=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=ym(),n=Qj();var r=ym();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var i=Qj();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(A,P){return this}}class o extends s{constructor(A,P,se){super(),this.varKind=A,this.name=P,this.rhs=se}render({es5:A,_n:P}){const se=A?n.varKinds.var:this.varKind,te=this.rhs===void 0?"":` = ${this.rhs}`;return`${se} ${this.name}${te};`+P}optimizeNames(A,P){if(A[this.name.str])return this.rhs&&(this.rhs=ue(this.rhs,A,P)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(A,P,se){super(),this.lhs=A,this.rhs=P,this.sideEffects=se}render({_n:A}){return`${this.lhs} = ${this.rhs};`+A}optimizeNames(A,P){if(!(this.lhs instanceof e.Name&&!A[this.lhs.str]&&!this.sideEffects))return this.rhs=ue(this.rhs,A,P),this}get names(){const A=this.lhs instanceof e.Name?{}:{...this.lhs.names};return K(A,this.rhs)}}class l extends a{constructor(A,P,se,te){super(A,se,te),this.op=P}render({_n:A}){return`${this.lhs} ${this.op}= ${this.rhs};`+A}}class f extends s{constructor(A){super(),this.label=A,this.names={}}render({_n:A}){return`${this.label}:`+A}}class c extends s{constructor(A){super(),this.label=A,this.names={}}render({_n:A}){return`break${this.label?` ${this.label}`:""};`+A}}class d extends s{constructor(A){super(),this.error=A}render({_n:A}){return`throw ${this.error};`+A}get names(){return this.error.names}}class h extends s{constructor(A){super(),this.code=A}render({_n:A}){return`${this.code};`+A}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(A,P){return this.code=ue(this.code,A,P),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class m extends s{constructor(A=[]){super(),this.nodes=A}render(A){return this.nodes.reduce((P,se)=>P+se.render(A),"")}optimizeNodes(){const{nodes:A}=this;let P=A.length;for(;P--;){const se=A[P].optimizeNodes();Array.isArray(se)?A.splice(P,1,...se):se?A[P]=se:A.splice(P,1)}return A.length>0?this:void 0}optimizeNames(A,P){const{nodes:se}=this;let te=se.length;for(;te--;){const q=se[te];q.optimizeNames(A,P)||(ne(A,q.names),se.splice(te,1))}return se.length>0?this:void 0}get names(){return this.nodes.reduce((A,P)=>z(A,P.names),{})}}class p extends m{render(A){return"{"+A._n+super.render(A)+"}"+A._n}}class y extends m{}class g extends p{}g.kind="else";class b extends p{constructor(A,P){super(P),this.condition=A}render(A){let P=`if(${this.condition})`+super.render(A);return this.else&&(P+="else "+this.else.render(A)),P}optimizeNodes(){super.optimizeNodes();const A=this.condition;if(A===!0)return this.nodes;let P=this.else;if(P){const se=P.optimizeNodes();P=this.else=Array.isArray(se)?new g(se):se}if(P)return A===!1?P instanceof b?P:P.nodes:this.nodes.length?this:new b(re(A),P instanceof b?[P]:P.nodes);if(!(A===!1||!this.nodes.length))return this}optimizeNames(A,P){var se;if(this.else=(se=this.else)===null||se===void 0?void 0:se.optimizeNames(A,P),!!(super.optimizeNames(A,P)||this.else))return this.condition=ue(this.condition,A,P),this}get names(){const A=super.names;return K(A,this.condition),this.else&&z(A,this.else.names),A}}b.kind="if";class v extends p{}v.kind="for";class x extends v{constructor(A){super(),this.iteration=A}render(A){return`for(${this.iteration})`+super.render(A)}optimizeNames(A,P){if(super.optimizeNames(A,P))return this.iteration=ue(this.iteration,A,P),this}get names(){return z(super.names,this.iteration.names)}}class j extends v{constructor(A,P,se,te){super(),this.varKind=A,this.name=P,this.from=se,this.to=te}render(A){const P=A.es5?n.varKinds.var:this.varKind,{name:se,from:te,to:q}=this;return`for(${P} ${se}=${te}; ${se}<${q}; ${se}++)`+super.render(A)}get names(){const A=K(super.names,this.from);return K(A,this.to)}}class w extends v{constructor(A,P,se,te){super(),this.loop=A,this.varKind=P,this.name=se,this.iterable=te}render(A){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(A)}optimizeNames(A,P){if(super.optimizeNames(A,P))return this.iterable=ue(this.iterable,A,P),this}get names(){return z(super.names,this.iterable.names)}}class k extends p{constructor(A,P,se){super(),this.name=A,this.args=P,this.async=se}render(A){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(A)}}k.kind="func";class S extends m{render(A){return"return "+super.render(A)}}S.kind="return";class M extends p{render(A){let P="try"+super.render(A);return this.catch&&(P+=this.catch.render(A)),this.finally&&(P+=this.finally.render(A)),P}optimizeNodes(){var A,P;return super.optimizeNodes(),(A=this.catch)===null||A===void 0||A.optimizeNodes(),(P=this.finally)===null||P===void 0||P.optimizeNodes(),this}optimizeNames(A,P){var se,te;return super.optimizeNames(A,P),(se=this.catch)===null||se===void 0||se.optimizeNames(A,P),(te=this.finally)===null||te===void 0||te.optimizeNames(A,P),this}get names(){const A=super.names;return this.catch&&z(A,this.catch.names),this.finally&&z(A,this.finally.names),A}}class E extends p{constructor(A){super(),this.error=A}render(A){return`catch(${this.error})`+super.render(A)}}E.kind="catch";class J extends p{render(A){return"finally"+super.render(A)}}J.kind="finally";class W{constructor(A,P={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...P,_n:P.lines?`
`:""},this._extScope=A,this._scope=new n.Scope({parent:A}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(A){return this._scope.name(A)}scopeName(A){return this._extScope.name(A)}scopeValue(A,P){const se=this._extScope.value(A,P);return(this._values[se.prefix]||(this._values[se.prefix]=new Set)).add(se),se}getScopeValue(A,P){return this._extScope.getValue(A,P)}scopeRefs(A){return this._extScope.scopeRefs(A,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(A,P,se,te){const q=this._scope.toName(P);return se!==void 0&&te&&(this._constants[q.str]=se),this._leafNode(new o(A,q,se)),q}const(A,P,se){return this._def(n.varKinds.const,A,P,se)}let(A,P,se){return this._def(n.varKinds.let,A,P,se)}var(A,P,se){return this._def(n.varKinds.var,A,P,se)}assign(A,P,se){return this._leafNode(new a(A,P,se))}add(A,P){return this._leafNode(new l(A,t.operators.ADD,P))}code(A){return typeof A=="function"?A():A!==e.nil&&this._leafNode(new h(A)),this}object(...A){const P=["{"];for(const[se,te]of A)P.length>1&&P.push(","),P.push(se),(se!==te||this.opts.es5)&&(P.push(":"),(0,e.addCodeArg)(P,te));return P.push("}"),new e._Code(P)}if(A,P,se){if(this._blockNode(new b(A)),P&&se)this.code(P).else().code(se).endIf();else if(P)this.code(P).endIf();else if(se)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(A){return this._elseNode(new b(A))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(b,g)}_for(A,P){return this._blockNode(A),P&&this.code(P).endFor(),this}for(A,P){return this._for(new x(A),P)}forRange(A,P,se,te,q=this.opts.es5?n.varKinds.var:n.varKinds.let){const ge=this._scope.toName(A);return this._for(new j(q,ge,P,se),()=>te(ge))}forOf(A,P,se,te=n.varKinds.const){const q=this._scope.toName(A);if(this.opts.es5){const ge=P instanceof e.Name?P:this.var("_arr",P);return this.forRange("_i",0,(0,e._)`${ge}.length`,V=>{this.var(q,(0,e._)`${ge}[${V}]`),se(q)})}return this._for(new w("of",te,q,P),()=>se(q))}forIn(A,P,se,te=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(A,(0,e._)`Object.keys(${P})`,se);const q=this._scope.toName(A);return this._for(new w("in",te,q,P),()=>se(q))}endFor(){return this._endBlockNode(v)}label(A){return this._leafNode(new f(A))}break(A){return this._leafNode(new c(A))}return(A){const P=new S;if(this._blockNode(P),this.code(A),P.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(A,P,se){if(!P&&!se)throw new Error('CodeGen: "try" without "catch" and "finally"');const te=new M;if(this._blockNode(te),this.code(A),P){const q=this.name("e");this._currNode=te.catch=new E(q),P(q)}return se&&(this._currNode=te.finally=new J,this.code(se)),this._endBlockNode(E,J)}throw(A){return this._leafNode(new d(A))}block(A,P){return this._blockStarts.push(this._nodes.length),A&&this.code(A).endBlock(P),this}endBlock(A){const P=this._blockStarts.pop();if(P===void 0)throw new Error("CodeGen: not in self-balancing block");const se=this._nodes.length-P;if(se<0||A!==void 0&&se!==A)throw new Error(`CodeGen: wrong number of nodes: ${se} vs ${A} expected`);return this._nodes.length=P,this}func(A,P=e.nil,se,te){return this._blockNode(new k(A,P,se)),te&&this.code(te).endFunc(),this}endFunc(){return this._endBlockNode(k)}optimize(A=1){for(;A-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(A){return this._currNode.nodes.push(A),this}_blockNode(A){this._currNode.nodes.push(A),this._nodes.push(A)}_endBlockNode(A,P){const se=this._currNode;if(se instanceof A||P&&se instanceof P)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${P?`${A.kind}/${P.kind}`:A.kind}"`)}_elseNode(A){const P=this._currNode;if(!(P instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=P.else=A,this}get _root(){return this._nodes[0]}get _currNode(){const A=this._nodes;return A[A.length-1]}set _currNode(A){const P=this._nodes;P[P.length-1]=A}}t.CodeGen=W;function z(T,A){for(const P in A)T[P]=(T[P]||0)+(A[P]||0);return T}function K(T,A){return A instanceof e._CodeOrName?z(T,A.names):T}function ue(T,A,P){if(T instanceof e.Name)return se(T);if(!te(T))return T;return new e._Code(T._items.reduce((q,ge)=>(ge instanceof e.Name&&(ge=se(ge)),ge instanceof e._Code?q.push(...ge._items):q.push(ge),q),[]));function se(q){const ge=P[q.str];return ge===void 0||A[q.str]!==1?q:(delete A[q.str],ge)}function te(q){return q instanceof e._Code&&q._items.some(ge=>ge instanceof e.Name&&A[ge.str]===1&&P[ge.str]!==void 0)}}function ne(T,A){for(const P in A)T[P]=(T[P]||0)-(A[P]||0)}function re(T){return typeof T=="boolean"||typeof T=="number"||T===null?!T:(0,e._)`!${ie(T)}`}t.not=re;const me=$(t.operators.AND);function de(...T){return T.reduce(me)}t.and=de;const pe=$(t.operators.OR);function X(...T){return T.reduce(pe)}t.or=X;function $(T){return(A,P)=>A===e.nil?P:P===e.nil?A:(0,e._)`${ie(A)} ${T} ${ie(P)}`}function ie(T){return T instanceof e.Name?T:(0,e._)`(${T})`}}(zv)),zv}var Sn={},Zj;function ir(){if(Zj)return Sn;Zj=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.checkStrictMode=Sn.getErrorPath=Sn.Type=Sn.useFunc=Sn.setEvaluated=Sn.evaluatedPropsToName=Sn.mergeEvaluated=Sn.eachItem=Sn.unescapeJsonPointer=Sn.escapeJsonPointer=Sn.escapeFragment=Sn.unescapeFragment=Sn.schemaRefOrVal=Sn.schemaHasRulesButRef=Sn.schemaHasRules=Sn.checkUnknownRules=Sn.alwaysValidSchema=Sn.toHash=void 0;const t=In(),e=ym();function n(w){const k={};for(const S of w)k[S]=!0;return k}Sn.toHash=n;function r(w,k){return typeof k=="boolean"?k:Object.keys(k).length===0?!0:(i(w,k),!s(k,w.self.RULES.all))}Sn.alwaysValidSchema=r;function i(w,k=w.schema){const{opts:S,self:M}=w;if(!S.strictSchema||typeof k=="boolean")return;const E=M.RULES.keywords;for(const J in k)E[J]||j(w,`unknown keyword: "${J}"`)}Sn.checkUnknownRules=i;function s(w,k){if(typeof w=="boolean")return!w;for(const S in w)if(k[S])return!0;return!1}Sn.schemaHasRules=s;function o(w,k){if(typeof w=="boolean")return!w;for(const S in w)if(S!=="$ref"&&k.all[S])return!0;return!1}Sn.schemaHasRulesButRef=o;function a({topSchemaRef:w,schemaPath:k},S,M,E){if(!E){if(typeof S=="number"||typeof S=="boolean")return S;if(typeof S=="string")return(0,t._)`${S}`}return(0,t._)`${w}${k}${(0,t.getProperty)(M)}`}Sn.schemaRefOrVal=a;function l(w){return d(decodeURIComponent(w))}Sn.unescapeFragment=l;function f(w){return encodeURIComponent(c(w))}Sn.escapeFragment=f;function c(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}Sn.escapeJsonPointer=c;function d(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}Sn.unescapeJsonPointer=d;function h(w,k){if(Array.isArray(w))for(const S of w)k(S);else k(w)}Sn.eachItem=h;function m({mergeNames:w,mergeToName:k,mergeValues:S,resultToName:M}){return(E,J,W,z)=>{const K=W===void 0?J:W instanceof t.Name?(J instanceof t.Name?w(E,J,W):k(E,J,W),W):J instanceof t.Name?(k(E,W,J),J):S(J,W);return z===t.Name&&!(K instanceof t.Name)?M(E,K):K}}Sn.mergeEvaluated={props:m({mergeNames:(w,k,S)=>w.if((0,t._)`${S} !== true && ${k} !== undefined`,()=>{w.if((0,t._)`${k} === true`,()=>w.assign(S,!0),()=>w.assign(S,(0,t._)`${S} || {}`).code((0,t._)`Object.assign(${S}, ${k})`))}),mergeToName:(w,k,S)=>w.if((0,t._)`${S} !== true`,()=>{k===!0?w.assign(S,!0):(w.assign(S,(0,t._)`${S} || {}`),y(w,S,k))}),mergeValues:(w,k)=>w===!0?!0:{...w,...k},resultToName:p}),items:m({mergeNames:(w,k,S)=>w.if((0,t._)`${S} !== true && ${k} !== undefined`,()=>w.assign(S,(0,t._)`${k} === true ? true : ${S} > ${k} ? ${S} : ${k}`)),mergeToName:(w,k,S)=>w.if((0,t._)`${S} !== true`,()=>w.assign(S,k===!0?!0:(0,t._)`${S} > ${k} ? ${S} : ${k}`)),mergeValues:(w,k)=>w===!0?!0:Math.max(w,k),resultToName:(w,k)=>w.var("items",k)})};function p(w,k){if(k===!0)return w.var("props",!0);const S=w.var("props",(0,t._)`{}`);return k!==void 0&&y(w,S,k),S}Sn.evaluatedPropsToName=p;function y(w,k,S){Object.keys(S).forEach(M=>w.assign((0,t._)`${k}${(0,t.getProperty)(M)}`,!0))}Sn.setEvaluated=y;const g={};function b(w,k){return w.scopeValue("func",{ref:k,code:g[k.code]||(g[k.code]=new e._Code(k.code))})}Sn.useFunc=b;var v;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(v||(Sn.Type=v={}));function x(w,k,S){if(w instanceof t.Name){const M=k===v.Num;return S?M?(0,t._)`"[" + ${w} + "]"`:(0,t._)`"['" + ${w} + "']"`:M?(0,t._)`"/" + ${w}`:(0,t._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return S?(0,t.getProperty)(w).toString():"/"+c(w)}Sn.getErrorPath=x;function j(w,k,S=w.opts.strictSchema){if(S){if(k=`strict mode: ${k}`,S===!0)throw new Error(k);w.self.logger.warn(k)}}return Sn.checkStrictMode=j,Sn}var jh={},ek;function Sl(){if(ek)return jh;ek=1,Object.defineProperty(jh,"__esModule",{value:!0});const t=In(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return jh.default=e,jh}var tk;function Pg(){return tk||(tk=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=In(),n=ir(),r=Sl();t.keywordError={message:({keyword:g})=>(0,e.str)`must pass "${g}" keyword validation`},t.keyword$DataError={message:({keyword:g,schemaType:b})=>b?(0,e.str)`"${g}" keyword must be ${b} ($data)`:(0,e.str)`"${g}" keyword is invalid ($data)`};function i(g,b=t.keywordError,v,x){const{it:j}=g,{gen:w,compositeRule:k,allErrors:S}=j,M=d(g,b,v);x??(k||S)?l(w,M):f(j,(0,e._)`[${M}]`)}t.reportError=i;function s(g,b=t.keywordError,v){const{it:x}=g,{gen:j,compositeRule:w,allErrors:k}=x,S=d(g,b,v);l(j,S),w||k||f(x,r.default.vErrors)}t.reportExtraError=s;function o(g,b){g.assign(r.default.errors,b),g.if((0,e._)`${r.default.vErrors} !== null`,()=>g.if(b,()=>g.assign((0,e._)`${r.default.vErrors}.length`,b),()=>g.assign(r.default.vErrors,null)))}t.resetErrorsCount=o;function a({gen:g,keyword:b,schemaValue:v,data:x,errsCount:j,it:w}){if(j===void 0)throw new Error("ajv implementation error");const k=g.name("err");g.forRange("i",j,r.default.errors,S=>{g.const(k,(0,e._)`${r.default.vErrors}[${S}]`),g.if((0,e._)`${k}.instancePath === undefined`,()=>g.assign((0,e._)`${k}.instancePath`,(0,e.strConcat)(r.default.instancePath,w.errorPath))),g.assign((0,e._)`${k}.schemaPath`,(0,e.str)`${w.errSchemaPath}/${b}`),w.opts.verbose&&(g.assign((0,e._)`${k}.schema`,v),g.assign((0,e._)`${k}.data`,x))})}t.extendErrors=a;function l(g,b){const v=g.const("err",b);g.if((0,e._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,e._)`[${v}]`),(0,e._)`${r.default.vErrors}.push(${v})`),g.code((0,e._)`${r.default.errors}++`)}function f(g,b){const{gen:v,validateName:x,schemaEnv:j}=g;j.$async?v.throw((0,e._)`new ${g.ValidationError}(${b})`):(v.assign((0,e._)`${x}.errors`,b),v.return(!1))}const c={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function d(g,b,v){const{createErrors:x}=g.it;return x===!1?(0,e._)`{}`:h(g,b,v)}function h(g,b,v={}){const{gen:x,it:j}=g,w=[m(j,v),p(g,v)];return y(g,b,w),x.object(...w)}function m({errorPath:g},{instancePath:b}){const v=b?(0,e.str)`${g}${(0,n.getErrorPath)(b,n.Type.Str)}`:g;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,v)]}function p({keyword:g,it:{errSchemaPath:b}},{schemaPath:v,parentSchema:x}){let j=x?b:(0,e.str)`${b}/${g}`;return v&&(j=(0,e.str)`${j}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,j]}function y(g,{params:b,message:v},x){const{keyword:j,data:w,schemaValue:k,it:S}=g,{opts:M,propertyName:E,topSchemaRef:J,schemaPath:W}=S;x.push([c.keyword,j],[c.params,typeof b=="function"?b(g):b||(0,e._)`{}`]),M.messages&&x.push([c.message,typeof v=="function"?v(g):v]),M.verbose&&x.push([c.schema,k],[c.parentSchema,(0,e._)`${J}${W}`],[r.default.data,w]),E&&x.push([c.propertyName,E])}}(Lv)),Lv}var nk;function KH(){if(nk)return Pl;nk=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.boolOrEmptySchema=Pl.topBoolOrEmptySchema=void 0;const t=Pg(),e=In(),n=Sl(),r={message:"boolean schema is false"};function i(a){const{gen:l,schema:f,validateName:c}=a;f===!1?o(a,!1):typeof f=="object"&&f.$async===!0?l.return(n.default.data):(l.assign((0,e._)`${c}.errors`,null),l.return(!0))}Pl.topBoolOrEmptySchema=i;function s(a,l){const{gen:f,schema:c}=a;c===!1?(f.var(l,!1),o(a)):f.var(l,!0)}Pl.boolOrEmptySchema=s;function o(a,l){const{gen:f,data:c}=a,d={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,t.reportError)(d,r,void 0,l)}return Pl}var ji={},Rl={},rk;function UR(){if(rk)return Rl;rk=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.getRules=Rl.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function n(i){return typeof i=="string"&&e.has(i)}Rl.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Rl.getRules=r,Rl}var la={},ik;function WR(){if(ik)return la;ik=1,Object.defineProperty(la,"__esModule",{value:!0}),la.shouldUseRule=la.shouldUseGroup=la.schemaHasRulesForType=void 0;function t({schema:r,self:i},s){const o=i.RULES.types[s];return o&&o!==!0&&e(r,o)}la.schemaHasRulesForType=t;function e(r,i){return i.rules.some(s=>n(r,s))}la.shouldUseGroup=e;function n(r,i){var s;return r[i.keyword]!==void 0||((s=i.definition.implements)===null||s===void 0?void 0:s.some(o=>r[o]!==void 0))}return la.shouldUseRule=n,la}var sk;function xm(){if(sk)return ji;sk=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.reportTypeError=ji.checkDataTypes=ji.checkDataType=ji.coerceAndCheckDataType=ji.getJSONTypes=ji.getSchemaTypes=ji.DataType=void 0;const t=UR(),e=WR(),n=Pg(),r=In(),i=ir();var s;(function(v){v[v.Correct=0]="Correct",v[v.Wrong=1]="Wrong"})(s||(ji.DataType=s={}));function o(v){const x=a(v.type);if(x.includes("null")){if(v.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!x.length&&v.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');v.nullable===!0&&x.push("null")}return x}ji.getSchemaTypes=o;function a(v){const x=Array.isArray(v)?v:v?[v]:[];if(x.every(t.isJSONType))return x;throw new Error("type must be JSONType or JSONType[]: "+x.join(","))}ji.getJSONTypes=a;function l(v,x){const{gen:j,data:w,opts:k}=v,S=c(x,k.coerceTypes),M=x.length>0&&!(S.length===0&&x.length===1&&(0,e.schemaHasRulesForType)(v,x[0]));if(M){const E=p(x,w,k.strictNumbers,s.Wrong);j.if(E,()=>{S.length?d(v,x,S):g(v)})}return M}ji.coerceAndCheckDataType=l;const f=new Set(["string","number","integer","boolean","null"]);function c(v,x){return x?v.filter(j=>f.has(j)||x==="array"&&j==="array"):[]}function d(v,x,j){const{gen:w,data:k,opts:S}=v,M=w.let("dataType",(0,r._)`typeof ${k}`),E=w.let("coerced",(0,r._)`undefined`);S.coerceTypes==="array"&&w.if((0,r._)`${M} == 'object' && Array.isArray(${k}) && ${k}.length == 1`,()=>w.assign(k,(0,r._)`${k}[0]`).assign(M,(0,r._)`typeof ${k}`).if(p(x,k,S.strictNumbers),()=>w.assign(E,k))),w.if((0,r._)`${E} !== undefined`);for(const W of j)(f.has(W)||W==="array"&&S.coerceTypes==="array")&&J(W);w.else(),g(v),w.endIf(),w.if((0,r._)`${E} !== undefined`,()=>{w.assign(k,E),h(v,E)});function J(W){switch(W){case"string":w.elseIf((0,r._)`${M} == "number" || ${M} == "boolean"`).assign(E,(0,r._)`"" + ${k}`).elseIf((0,r._)`${k} === null`).assign(E,(0,r._)`""`);return;case"number":w.elseIf((0,r._)`${M} == "boolean" || ${k} === null
              || (${M} == "string" && ${k} && ${k} == +${k})`).assign(E,(0,r._)`+${k}`);return;case"integer":w.elseIf((0,r._)`${M} === "boolean" || ${k} === null
              || (${M} === "string" && ${k} && ${k} == +${k} && !(${k} % 1))`).assign(E,(0,r._)`+${k}`);return;case"boolean":w.elseIf((0,r._)`${k} === "false" || ${k} === 0 || ${k} === null`).assign(E,!1).elseIf((0,r._)`${k} === "true" || ${k} === 1`).assign(E,!0);return;case"null":w.elseIf((0,r._)`${k} === "" || ${k} === 0 || ${k} === false`),w.assign(E,null);return;case"array":w.elseIf((0,r._)`${M} === "string" || ${M} === "number"
              || ${M} === "boolean" || ${k} === null`).assign(E,(0,r._)`[${k}]`)}}}function h({gen:v,parentData:x,parentDataProperty:j},w){v.if((0,r._)`${x} !== undefined`,()=>v.assign((0,r._)`${x}[${j}]`,w))}function m(v,x,j,w=s.Correct){const k=w===s.Correct?r.operators.EQ:r.operators.NEQ;let S;switch(v){case"null":return(0,r._)`${x} ${k} null`;case"array":S=(0,r._)`Array.isArray(${x})`;break;case"object":S=(0,r._)`${x} && typeof ${x} == "object" && !Array.isArray(${x})`;break;case"integer":S=M((0,r._)`!(${x} % 1) && !isNaN(${x})`);break;case"number":S=M();break;default:return(0,r._)`typeof ${x} ${k} ${v}`}return w===s.Correct?S:(0,r.not)(S);function M(E=r.nil){return(0,r.and)((0,r._)`typeof ${x} == "number"`,E,j?(0,r._)`isFinite(${x})`:r.nil)}}ji.checkDataType=m;function p(v,x,j,w){if(v.length===1)return m(v[0],x,j,w);let k;const S=(0,i.toHash)(v);if(S.array&&S.object){const M=(0,r._)`typeof ${x} != "object"`;k=S.null?M:(0,r._)`!${x} || ${M}`,delete S.null,delete S.array,delete S.object}else k=r.nil;S.number&&delete S.integer;for(const M in S)k=(0,r.and)(k,m(M,x,j,w));return k}ji.checkDataTypes=p;const y={message:({schema:v})=>`must be ${v}`,params:({schema:v,schemaValue:x})=>typeof v=="string"?(0,r._)`{type: ${v}}`:(0,r._)`{type: ${x}}`};function g(v){const x=b(v);(0,n.reportError)(x,y)}ji.reportTypeError=g;function b(v){const{gen:x,data:j,schema:w}=v,k=(0,i.schemaRefOrVal)(v,w,"type");return{gen:x,keyword:"type",data:j,schema:w.type,schemaCode:k,schemaValue:k,parentSchema:w,params:{},it:v}}return ji}var tf={},ok;function GH(){if(ok)return tf;ok=1,Object.defineProperty(tf,"__esModule",{value:!0}),tf.assignDefaults=void 0;const t=In(),e=ir();function n(i,s){const{properties:o,items:a}=i.schema;if(s==="object"&&o)for(const l in o)r(i,l,o[l].default);else s==="array"&&Array.isArray(a)&&a.forEach((l,f)=>r(i,f,l.default))}tf.assignDefaults=n;function r(i,s,o){const{gen:a,compositeRule:l,data:f,opts:c}=i;if(o===void 0)return;const d=(0,t._)`${f}${(0,t.getProperty)(s)}`;if(l){(0,e.checkStrictMode)(i,`default is ignored for: ${d}`);return}let h=(0,t._)`${d} === undefined`;c.useDefaults==="empty"&&(h=(0,t._)`${h} || ${d} === null || ${d} === ""`),a.if(h,(0,t._)`${d} = ${(0,t.stringify)(o)}`)}return tf}var Zs={},vr={},ak;function wo(){if(ak)return vr;ak=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.validateUnion=vr.validateArray=vr.usePattern=vr.callValidateCode=vr.schemaProperties=vr.allSchemaProperties=vr.noPropertyInData=vr.propertyInData=vr.isOwnProperty=vr.hasPropFunc=vr.reportMissingProp=vr.checkMissingProp=vr.checkReportMissingProp=void 0;const t=In(),e=ir(),n=Sl(),r=ir();function i(v,x){const{gen:j,data:w,it:k}=v;j.if(c(j,w,x,k.opts.ownProperties),()=>{v.setParams({missingProperty:(0,t._)`${x}`},!0),v.error()})}vr.checkReportMissingProp=i;function s({gen:v,data:x,it:{opts:j}},w,k){return(0,t.or)(...w.map(S=>(0,t.and)(c(v,x,S,j.ownProperties),(0,t._)`${k} = ${S}`)))}vr.checkMissingProp=s;function o(v,x){v.setParams({missingProperty:x},!0),v.error()}vr.reportMissingProp=o;function a(v){return v.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}vr.hasPropFunc=a;function l(v,x,j){return(0,t._)`${a(v)}.call(${x}, ${j})`}vr.isOwnProperty=l;function f(v,x,j,w){const k=(0,t._)`${x}${(0,t.getProperty)(j)} !== undefined`;return w?(0,t._)`${k} && ${l(v,x,j)}`:k}vr.propertyInData=f;function c(v,x,j,w){const k=(0,t._)`${x}${(0,t.getProperty)(j)} === undefined`;return w?(0,t.or)(k,(0,t.not)(l(v,x,j))):k}vr.noPropertyInData=c;function d(v){return v?Object.keys(v).filter(x=>x!=="__proto__"):[]}vr.allSchemaProperties=d;function h(v,x){return d(x).filter(j=>!(0,e.alwaysValidSchema)(v,x[j]))}vr.schemaProperties=h;function m({schemaCode:v,data:x,it:{gen:j,topSchemaRef:w,schemaPath:k,errorPath:S},it:M},E,J,W){const z=W?(0,t._)`${v}, ${x}, ${w}${k}`:x,K=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,S)],[n.default.parentData,M.parentData],[n.default.parentDataProperty,M.parentDataProperty],[n.default.rootData,n.default.rootData]];M.opts.dynamicRef&&K.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const ue=(0,t._)`${z}, ${j.object(...K)}`;return J!==t.nil?(0,t._)`${E}.call(${J}, ${ue})`:(0,t._)`${E}(${ue})`}vr.callValidateCode=m;const p=(0,t._)`new RegExp`;function y({gen:v,it:{opts:x}},j){const w=x.unicodeRegExp?"u":"",{regExp:k}=x.code,S=k(j,w);return v.scopeValue("pattern",{key:S.toString(),ref:S,code:(0,t._)`${k.code==="new RegExp"?p:(0,r.useFunc)(v,k)}(${j}, ${w})`})}vr.usePattern=y;function g(v){const{gen:x,data:j,keyword:w,it:k}=v,S=x.name("valid");if(k.allErrors){const E=x.let("valid",!0);return M(()=>x.assign(E,!1)),E}return x.var(S,!0),M(()=>x.break()),S;function M(E){const J=x.const("len",(0,t._)`${j}.length`);x.forRange("i",0,J,W=>{v.subschema({keyword:w,dataProp:W,dataPropType:e.Type.Num},S),x.if((0,t.not)(S),E)})}}vr.validateArray=g;function b(v){const{gen:x,schema:j,keyword:w,it:k}=v;if(!Array.isArray(j))throw new Error("ajv implementation error");if(j.some(J=>(0,e.alwaysValidSchema)(k,J))&&!k.opts.unevaluated)return;const M=x.let("valid",!1),E=x.name("_valid");x.block(()=>j.forEach((J,W)=>{const z=v.subschema({keyword:w,schemaProp:W,compositeRule:!0},E);x.assign(M,(0,t._)`${M} || ${E}`),v.mergeValidEvaluated(z,E)||x.if((0,t.not)(M))})),v.result(M,()=>v.reset(),()=>v.error(!0))}return vr.validateUnion=b,vr}var lk;function JH(){if(lk)return Zs;lk=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.validateKeywordUsage=Zs.validSchemaType=Zs.funcKeywordCode=Zs.macroKeywordCode=void 0;const t=In(),e=Sl(),n=wo(),r=Pg();function i(h,m){const{gen:p,keyword:y,schema:g,parentSchema:b,it:v}=h,x=m.macro.call(v.self,g,b,v),j=f(p,y,x);v.opts.validateSchema!==!1&&v.self.validateSchema(x,!0);const w=p.name("valid");h.subschema({schema:x,schemaPath:t.nil,errSchemaPath:`${v.errSchemaPath}/${y}`,topSchemaRef:j,compositeRule:!0},w),h.pass(w,()=>h.error(!0))}Zs.macroKeywordCode=i;function s(h,m){var p;const{gen:y,keyword:g,schema:b,parentSchema:v,$data:x,it:j}=h;l(j,m);const w=!x&&m.compile?m.compile.call(j.self,b,v,j):m.validate,k=f(y,g,w),S=y.let("valid");h.block$data(S,M),h.ok((p=m.valid)!==null&&p!==void 0?p:S);function M(){if(m.errors===!1)W(),m.modifying&&o(h),z(()=>h.error());else{const K=m.async?E():J();m.modifying&&o(h),z(()=>a(h,K))}}function E(){const K=y.let("ruleErrs",null);return y.try(()=>W((0,t._)`await `),ue=>y.assign(S,!1).if((0,t._)`${ue} instanceof ${j.ValidationError}`,()=>y.assign(K,(0,t._)`${ue}.errors`),()=>y.throw(ue))),K}function J(){const K=(0,t._)`${k}.errors`;return y.assign(K,null),W(t.nil),K}function W(K=m.async?(0,t._)`await `:t.nil){const ue=j.opts.passContext?e.default.this:e.default.self,ne=!("compile"in m&&!x||m.schema===!1);y.assign(S,(0,t._)`${K}${(0,n.callValidateCode)(h,k,ue,ne)}`,m.modifying)}function z(K){var ue;y.if((0,t.not)((ue=m.valid)!==null&&ue!==void 0?ue:S),K)}}Zs.funcKeywordCode=s;function o(h){const{gen:m,data:p,it:y}=h;m.if(y.parentData,()=>m.assign(p,(0,t._)`${y.parentData}[${y.parentDataProperty}]`))}function a(h,m){const{gen:p}=h;p.if((0,t._)`Array.isArray(${m})`,()=>{p.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${m} : ${e.default.vErrors}.concat(${m})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,r.extendErrors)(h)},()=>h.error())}function l({schemaEnv:h},m){if(m.async&&!h.$async)throw new Error("async keyword in sync schema")}function f(h,m,p){if(p===void 0)throw new Error(`keyword "${m}" failed to compile`);return h.scopeValue("keyword",typeof p=="function"?{ref:p}:{ref:p,code:(0,t.stringify)(p)})}function c(h,m,p=!1){return!m.length||m.some(y=>y==="array"?Array.isArray(h):y==="object"?h&&typeof h=="object"&&!Array.isArray(h):typeof h==y||p&&typeof h>"u")}Zs.validSchemaType=c;function d({schema:h,opts:m,self:p,errSchemaPath:y},g,b){if(Array.isArray(g.keyword)?!g.keyword.includes(b):g.keyword!==b)throw new Error("ajv implementation error");const v=g.dependencies;if(v!=null&&v.some(x=>!Object.prototype.hasOwnProperty.call(h,x)))throw new Error(`parent schema must have dependencies of ${b}: ${v.join(",")}`);if(g.validateSchema&&!g.validateSchema(h[b])){const j=`keyword "${b}" value is invalid at path "${y}": `+p.errorsText(g.validateSchema.errors);if(m.validateSchema==="log")p.logger.error(j);else throw new Error(j)}}return Zs.validateKeywordUsage=d,Zs}var ua={},uk;function YH(){if(uk)return ua;uk=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.extendSubschemaMode=ua.extendSubschemaData=ua.getSubschema=void 0;const t=In(),e=ir();function n(s,{keyword:o,schemaProp:a,schema:l,schemaPath:f,errSchemaPath:c,topSchemaRef:d}){if(o!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const h=s.schema[o];return a===void 0?{schema:h,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${o}`}:{schema:h[a],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(o)}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${o}/${(0,e.escapeFragment)(a)}`}}if(l!==void 0){if(f===void 0||c===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:f,topSchemaRef:d,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}ua.getSubschema=n;function r(s,o,{dataProp:a,dataPropType:l,data:f,dataTypes:c,propertyName:d}){if(f!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:h}=o;if(a!==void 0){const{errorPath:p,dataPathArr:y,opts:g}=o,b=h.let("data",(0,t._)`${o.data}${(0,t.getProperty)(a)}`,!0);m(b),s.errorPath=(0,t.str)`${p}${(0,e.getErrorPath)(a,l,g.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${a}`,s.dataPathArr=[...y,s.parentDataProperty]}if(f!==void 0){const p=f instanceof t.Name?f:h.let("data",f,!0);m(p),d!==void 0&&(s.propertyName=d)}c&&(s.dataTypes=c);function m(p){s.data=p,s.dataLevel=o.dataLevel+1,s.dataTypes=[],o.definedProperties=new Set,s.parentData=o.data,s.dataNames=[...o.dataNames,p]}}ua.extendSubschemaData=r;function i(s,{jtdDiscriminator:o,jtdMetadata:a,compositeRule:l,createErrors:f,allErrors:c}){l!==void 0&&(s.compositeRule=l),f!==void 0&&(s.createErrors=f),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=o,s.jtdMetadata=a}return ua.extendSubschemaMode=i,ua}var Hi={},Fv,ck;function VR(){return ck||(ck=1,Fv=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),Fv}var Uv={exports:{}},fk;function QH(){if(fk)return Uv.exports;fk=1;var t=Uv.exports=function(r,i,s){typeof i=="function"&&(s=i,i={}),s=i.cb||s;var o=typeof s=="function"?s:s.pre||function(){},a=s.post||function(){};e(i,o,a,r,"",r)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(r,i,s,o,a,l,f,c,d,h){if(o&&typeof o=="object"&&!Array.isArray(o)){i(o,a,l,f,c,d,h);for(var m in o){var p=o[m];if(Array.isArray(p)){if(m in t.arrayKeywords)for(var y=0;y<p.length;y++)e(r,i,s,p[y],a+"/"+m+"/"+y,l,a,m,o,y)}else if(m in t.propsKeywords){if(p&&typeof p=="object")for(var g in p)e(r,i,s,p[g],a+"/"+m+"/"+n(g),l,a,m,o,g)}else(m in t.keywords||r.allKeys&&!(m in t.skipKeywords))&&e(r,i,s,p,a+"/"+m,l,a,m,o)}s(o,a,l,f,c,d,h)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return Uv.exports}var dk;function Rg(){if(dk)return Hi;dk=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.getSchemaRefs=Hi.resolveUrl=Hi.normalizeId=Hi._getFullPath=Hi.getFullPath=Hi.inlineRef=void 0;const t=ir(),e=VR(),n=QH(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(y,g=!0){return typeof y=="boolean"?!0:g===!0?!o(y):g?a(y)<=g:!1}Hi.inlineRef=i;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(y){for(const g in y){if(s.has(g))return!0;const b=y[g];if(Array.isArray(b)&&b.some(o)||typeof b=="object"&&o(b))return!0}return!1}function a(y){let g=0;for(const b in y){if(b==="$ref")return 1/0;if(g++,!r.has(b)&&(typeof y[b]=="object"&&(0,t.eachItem)(y[b],v=>g+=a(v)),g===1/0))return 1/0}return g}function l(y,g="",b){b!==!1&&(g=d(g));const v=y.parse(g);return f(y,v)}Hi.getFullPath=l;function f(y,g){return y.serialize(g).split("#")[0]+"#"}Hi._getFullPath=f;const c=/#\/?$/;function d(y){return y?y.replace(c,""):""}Hi.normalizeId=d;function h(y,g,b){return b=d(b),y.resolve(g,b)}Hi.resolveUrl=h;const m=/^[a-z_][-a-z0-9._]*$/i;function p(y,g){if(typeof y=="boolean")return{};const{schemaId:b,uriResolver:v}=this.opts,x=d(y[b]||g),j={"":x},w=l(v,x,!1),k={},S=new Set;return n(y,{allKeys:!0},(J,W,z,K)=>{if(K===void 0)return;const ue=w+W;let ne=j[K];typeof J[b]=="string"&&(ne=re.call(this,J[b])),me.call(this,J.$anchor),me.call(this,J.$dynamicAnchor),j[W]=ne;function re(de){const pe=this.opts.uriResolver.resolve;if(de=d(ne?pe(ne,de):de),S.has(de))throw E(de);S.add(de);let X=this.refs[de];return typeof X=="string"&&(X=this.refs[X]),typeof X=="object"?M(J,X.schema,de):de!==d(ue)&&(de[0]==="#"?(M(J,k[de],de),k[de]=J):this.refs[de]=ue),de}function me(de){if(typeof de=="string"){if(!m.test(de))throw new Error(`invalid anchor "${de}"`);re.call(this,`#${de}`)}}}),k;function M(J,W,z){if(W!==void 0&&!e(J,W))throw E(z)}function E(J){return new Error(`reference "${J}" resolves to more than one schema`)}}return Hi.getSchemaRefs=p,Hi}var hk;function Tg(){if(hk)return aa;hk=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.getData=aa.KeywordCxt=aa.validateFunctionCode=void 0;const t=KH(),e=xm(),n=WR(),r=xm(),i=GH(),s=JH(),o=YH(),a=In(),l=Sl(),f=Rg(),c=ir(),d=Pg();function h(F){if(w(F)&&(S(F),j(F))){g(F);return}m(F,()=>(0,t.topBoolOrEmptySchema)(F))}aa.validateFunctionCode=h;function m({gen:F,validateName:ee,schema:U,schemaEnv:H,opts:B},Te){B.code.es5?F.func(ee,(0,a._)`${l.default.data}, ${l.default.valCxt}`,H.$async,()=>{F.code((0,a._)`"use strict"; ${v(U,B)}`),y(F,B),F.code(Te)}):F.func(ee,(0,a._)`${l.default.data}, ${p(B)}`,H.$async,()=>F.code(v(U,B)).code(Te))}function p(F){return(0,a._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${F.dynamicRef?(0,a._)`, ${l.default.dynamicAnchors}={}`:a.nil}}={}`}function y(F,ee){F.if(l.default.valCxt,()=>{F.var(l.default.instancePath,(0,a._)`${l.default.valCxt}.${l.default.instancePath}`),F.var(l.default.parentData,(0,a._)`${l.default.valCxt}.${l.default.parentData}`),F.var(l.default.parentDataProperty,(0,a._)`${l.default.valCxt}.${l.default.parentDataProperty}`),F.var(l.default.rootData,(0,a._)`${l.default.valCxt}.${l.default.rootData}`),ee.dynamicRef&&F.var(l.default.dynamicAnchors,(0,a._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{F.var(l.default.instancePath,(0,a._)`""`),F.var(l.default.parentData,(0,a._)`undefined`),F.var(l.default.parentDataProperty,(0,a._)`undefined`),F.var(l.default.rootData,l.default.data),ee.dynamicRef&&F.var(l.default.dynamicAnchors,(0,a._)`{}`)})}function g(F){const{schema:ee,opts:U,gen:H}=F;m(F,()=>{U.$comment&&ee.$comment&&K(F),J(F),H.let(l.default.vErrors,null),H.let(l.default.errors,0),U.unevaluated&&b(F),M(F),ue(F)})}function b(F){const{gen:ee,validateName:U}=F;F.evaluated=ee.const("evaluated",(0,a._)`${U}.evaluated`),ee.if((0,a._)`${F.evaluated}.dynamicProps`,()=>ee.assign((0,a._)`${F.evaluated}.props`,(0,a._)`undefined`)),ee.if((0,a._)`${F.evaluated}.dynamicItems`,()=>ee.assign((0,a._)`${F.evaluated}.items`,(0,a._)`undefined`))}function v(F,ee){const U=typeof F=="object"&&F[ee.schemaId];return U&&(ee.code.source||ee.code.process)?(0,a._)`/*# sourceURL=${U} */`:a.nil}function x(F,ee){if(w(F)&&(S(F),j(F))){k(F,ee);return}(0,t.boolOrEmptySchema)(F,ee)}function j({schema:F,self:ee}){if(typeof F=="boolean")return!F;for(const U in F)if(ee.RULES.all[U])return!0;return!1}function w(F){return typeof F.schema!="boolean"}function k(F,ee){const{schema:U,gen:H,opts:B}=F;B.$comment&&U.$comment&&K(F),W(F),z(F);const Te=H.const("_errs",l.default.errors);M(F,Te),H.var(ee,(0,a._)`${Te} === ${l.default.errors}`)}function S(F){(0,c.checkUnknownRules)(F),E(F)}function M(F,ee){if(F.opts.jtd)return re(F,[],!1,ee);const U=(0,e.getSchemaTypes)(F.schema),H=(0,e.coerceAndCheckDataType)(F,U);re(F,U,!H,ee)}function E(F){const{schema:ee,errSchemaPath:U,opts:H,self:B}=F;ee.$ref&&H.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(ee,B.RULES)&&B.logger.warn(`$ref: keywords ignored in schema at path "${U}"`)}function J(F){const{schema:ee,opts:U}=F;ee.default!==void 0&&U.useDefaults&&U.strictSchema&&(0,c.checkStrictMode)(F,"default is ignored in the schema root")}function W(F){const ee=F.schema[F.opts.schemaId];ee&&(F.baseId=(0,f.resolveUrl)(F.opts.uriResolver,F.baseId,ee))}function z(F){if(F.schema.$async&&!F.schemaEnv.$async)throw new Error("async schema in sync schema")}function K({gen:F,schemaEnv:ee,schema:U,errSchemaPath:H,opts:B}){const Te=U.$comment;if(B.$comment===!0)F.code((0,a._)`${l.default.self}.logger.log(${Te})`);else if(typeof B.$comment=="function"){const lt=(0,a.str)`${H}/$comment`,Ze=F.scopeValue("root",{ref:ee.root});F.code((0,a._)`${l.default.self}.opts.$comment(${Te}, ${lt}, ${Ze}.schema)`)}}function ue(F){const{gen:ee,schemaEnv:U,validateName:H,ValidationError:B,opts:Te}=F;U.$async?ee.if((0,a._)`${l.default.errors} === 0`,()=>ee.return(l.default.data),()=>ee.throw((0,a._)`new ${B}(${l.default.vErrors})`)):(ee.assign((0,a._)`${H}.errors`,l.default.vErrors),Te.unevaluated&&ne(F),ee.return((0,a._)`${l.default.errors} === 0`))}function ne({gen:F,evaluated:ee,props:U,items:H}){U instanceof a.Name&&F.assign((0,a._)`${ee}.props`,U),H instanceof a.Name&&F.assign((0,a._)`${ee}.items`,H)}function re(F,ee,U,H){const{gen:B,schema:Te,data:lt,allErrors:Ze,opts:Ce,self:Ve}=F,{RULES:Ie}=Ve;if(Te.$ref&&(Ce.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(Te,Ie))){B.block(()=>te(F,"$ref",Ie.all.$ref.definition));return}Ce.jtd||de(F,ee),B.block(()=>{for(const bt of Ie.rules)pt(bt);pt(Ie.post)});function pt(bt){(0,n.shouldUseGroup)(Te,bt)&&(bt.type?(B.if((0,r.checkDataType)(bt.type,lt,Ce.strictNumbers)),me(F,bt),ee.length===1&&ee[0]===bt.type&&U&&(B.else(),(0,r.reportTypeError)(F)),B.endIf()):me(F,bt),Ze||B.if((0,a._)`${l.default.errors} === ${H||0}`))}}function me(F,ee){const{gen:U,schema:H,opts:{useDefaults:B}}=F;B&&(0,i.assignDefaults)(F,ee.type),U.block(()=>{for(const Te of ee.rules)(0,n.shouldUseRule)(H,Te)&&te(F,Te.keyword,Te.definition,ee.type)})}function de(F,ee){F.schemaEnv.meta||!F.opts.strictTypes||(pe(F,ee),F.opts.allowUnionTypes||X(F,ee),$(F,F.dataTypes))}function pe(F,ee){if(ee.length){if(!F.dataTypes.length){F.dataTypes=ee;return}ee.forEach(U=>{T(F.dataTypes,U)||P(F,`type "${U}" not allowed by context "${F.dataTypes.join(",")}"`)}),A(F,ee)}}function X(F,ee){ee.length>1&&!(ee.length===2&&ee.includes("null"))&&P(F,"use allowUnionTypes to allow union type keyword")}function $(F,ee){const U=F.self.RULES.all;for(const H in U){const B=U[H];if(typeof B=="object"&&(0,n.shouldUseRule)(F.schema,B)){const{type:Te}=B.definition;Te.length&&!Te.some(lt=>ie(ee,lt))&&P(F,`missing type "${Te.join(",")}" for keyword "${H}"`)}}}function ie(F,ee){return F.includes(ee)||ee==="number"&&F.includes("integer")}function T(F,ee){return F.includes(ee)||ee==="integer"&&F.includes("number")}function A(F,ee){const U=[];for(const H of F.dataTypes)T(ee,H)?U.push(H):ee.includes("integer")&&H==="number"&&U.push("integer");F.dataTypes=U}function P(F,ee){const U=F.schemaEnv.baseId+F.errSchemaPath;ee+=` at "${U}" (strictTypes)`,(0,c.checkStrictMode)(F,ee,F.opts.strictTypes)}class se{constructor(ee,U,H){if((0,s.validateKeywordUsage)(ee,U,H),this.gen=ee.gen,this.allErrors=ee.allErrors,this.keyword=H,this.data=ee.data,this.schema=ee.schema[H],this.$data=U.$data&&ee.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(ee,this.schema,H,this.$data),this.schemaType=U.schemaType,this.parentSchema=ee.schema,this.params={},this.it=ee,this.def=U,this.$data)this.schemaCode=ee.gen.const("vSchema",V(this.$data,ee));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,U.schemaType,U.allowUndefined))throw new Error(`${H} value must be ${JSON.stringify(U.schemaType)}`);("code"in U?U.trackErrors:U.errors!==!1)&&(this.errsCount=ee.gen.const("_errs",l.default.errors))}result(ee,U,H){this.failResult((0,a.not)(ee),U,H)}failResult(ee,U,H){this.gen.if(ee),H?H():this.error(),U?(this.gen.else(),U(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(ee,U){this.failResult((0,a.not)(ee),void 0,U)}fail(ee){if(ee===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(ee),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(ee){if(!this.$data)return this.fail(ee);const{schemaCode:U}=this;this.fail((0,a._)`${U} !== undefined && (${(0,a.or)(this.invalid$data(),ee)})`)}error(ee,U,H){if(U){this.setParams(U),this._error(ee,H),this.setParams({});return}this._error(ee,H)}_error(ee,U){(ee?d.reportExtraError:d.reportError)(this,this.def.error,U)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(ee){this.allErrors||this.gen.if(ee)}setParams(ee,U){U?Object.assign(this.params,ee):this.params=ee}block$data(ee,U,H=a.nil){this.gen.block(()=>{this.check$data(ee,H),U()})}check$data(ee=a.nil,U=a.nil){if(!this.$data)return;const{gen:H,schemaCode:B,schemaType:Te,def:lt}=this;H.if((0,a.or)((0,a._)`${B} === undefined`,U)),ee!==a.nil&&H.assign(ee,!0),(Te.length||lt.validateSchema)&&(H.elseIf(this.invalid$data()),this.$dataError(),ee!==a.nil&&H.assign(ee,!1)),H.else()}invalid$data(){const{gen:ee,schemaCode:U,schemaType:H,def:B,it:Te}=this;return(0,a.or)(lt(),Ze());function lt(){if(H.length){if(!(U instanceof a.Name))throw new Error("ajv implementation error");const Ce=Array.isArray(H)?H:[H];return(0,a._)`${(0,r.checkDataTypes)(Ce,U,Te.opts.strictNumbers,r.DataType.Wrong)}`}return a.nil}function Ze(){if(B.validateSchema){const Ce=ee.scopeValue("validate$data",{ref:B.validateSchema});return(0,a._)`!${Ce}(${U})`}return a.nil}}subschema(ee,U){const H=(0,o.getSubschema)(this.it,ee);(0,o.extendSubschemaData)(H,this.it,ee),(0,o.extendSubschemaMode)(H,ee);const B={...this.it,...H,items:void 0,props:void 0};return x(B,U),B}mergeEvaluated(ee,U){const{it:H,gen:B}=this;H.opts.unevaluated&&(H.props!==!0&&ee.props!==void 0&&(H.props=c.mergeEvaluated.props(B,ee.props,H.props,U)),H.items!==!0&&ee.items!==void 0&&(H.items=c.mergeEvaluated.items(B,ee.items,H.items,U)))}mergeValidEvaluated(ee,U){const{it:H,gen:B}=this;if(H.opts.unevaluated&&(H.props!==!0||H.items!==!0))return B.if(U,()=>this.mergeEvaluated(ee,a.Name)),!0}}aa.KeywordCxt=se;function te(F,ee,U,H){const B=new se(F,U,ee);"code"in U?U.code(B,H):B.$data&&U.validate?(0,s.funcKeywordCode)(B,U):"macro"in U?(0,s.macroKeywordCode)(B,U):(U.compile||U.validate)&&(0,s.funcKeywordCode)(B,U)}const q=/^\/(?:[^~]|~0|~1)*$/,ge=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function V(F,{dataLevel:ee,dataNames:U,dataPathArr:H}){let B,Te;if(F==="")return l.default.rootData;if(F[0]==="/"){if(!q.test(F))throw new Error(`Invalid JSON-pointer: ${F}`);B=F,Te=l.default.rootData}else{const Ve=ge.exec(F);if(!Ve)throw new Error(`Invalid JSON-pointer: ${F}`);const Ie=+Ve[1];if(B=Ve[2],B==="#"){if(Ie>=ee)throw new Error(Ce("property/index",Ie));return H[ee-Ie]}if(Ie>ee)throw new Error(Ce("data",Ie));if(Te=U[ee-Ie],!B)return Te}let lt=Te;const Ze=B.split("/");for(const Ve of Ze)Ve&&(Te=(0,a._)`${Te}${(0,a.getProperty)((0,c.unescapeJsonPointer)(Ve))}`,lt=(0,a._)`${lt} && ${Te}`);return lt;function Ce(Ve,Ie){return`Cannot access ${Ve} ${Ie} levels up, current level is ${ee}`}}return aa.getData=V,aa}var kh={},pk;function mx(){if(pk)return kh;pk=1,Object.defineProperty(kh,"__esModule",{value:!0});class t extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return kh.default=t,kh}var Sh={},mk;function $g(){if(mk)return Sh;mk=1,Object.defineProperty(Sh,"__esModule",{value:!0});const t=Rg();class e extends Error{constructor(r,i,s,o){super(o||`can't resolve reference ${s} from id ${i}`),this.missingRef=(0,t.resolveUrl)(r,i,s),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(r,this.missingRef))}}return Sh.default=e,Sh}var ps={},gk;function gx(){if(gk)return ps;gk=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.resolveSchema=ps.getCompilingSchema=ps.resolveRef=ps.compileSchema=ps.SchemaEnv=void 0;const t=In(),e=mx(),n=Sl(),r=Rg(),i=ir(),s=Tg();class o{constructor(b){var v;this.refs={},this.dynamicAnchors={};let x;typeof b.schema=="object"&&(x=b.schema),this.schema=b.schema,this.schemaId=b.schemaId,this.root=b.root||this,this.baseId=(v=b.baseId)!==null&&v!==void 0?v:(0,r.normalizeId)(x==null?void 0:x[b.schemaId||"$id"]),this.schemaPath=b.schemaPath,this.localRefs=b.localRefs,this.meta=b.meta,this.$async=x==null?void 0:x.$async,this.refs={}}}ps.SchemaEnv=o;function a(g){const b=c.call(this,g);if(b)return b;const v=(0,r.getFullPath)(this.opts.uriResolver,g.root.baseId),{es5:x,lines:j}=this.opts.code,{ownProperties:w}=this.opts,k=new t.CodeGen(this.scope,{es5:x,lines:j,ownProperties:w});let S;g.$async&&(S=k.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const M=k.scopeName("validate");g.validateName=M;const E={gen:k,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:k.scopeValue("schema",this.opts.code.source===!0?{ref:g.schema,code:(0,t.stringify)(g.schema)}:{ref:g.schema}),validateName:M,ValidationError:S,schema:g.schema,schemaEnv:g,rootId:v,baseId:g.baseId||v,schemaPath:t.nil,errSchemaPath:g.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let J;try{this._compilations.add(g),(0,s.validateFunctionCode)(E),k.optimize(this.opts.code.optimize);const W=k.toString();J=`${k.scopeRefs(n.default.scope)}return ${W}`,this.opts.code.process&&(J=this.opts.code.process(J,g));const K=new Function(`${n.default.self}`,`${n.default.scope}`,J)(this,this.scope.get());if(this.scope.value(M,{ref:K}),K.errors=null,K.schema=g.schema,K.schemaEnv=g,g.$async&&(K.$async=!0),this.opts.code.source===!0&&(K.source={validateName:M,validateCode:W,scopeValues:k._values}),this.opts.unevaluated){const{props:ue,items:ne}=E;K.evaluated={props:ue instanceof t.Name?void 0:ue,items:ne instanceof t.Name?void 0:ne,dynamicProps:ue instanceof t.Name,dynamicItems:ne instanceof t.Name},K.source&&(K.source.evaluated=(0,t.stringify)(K.evaluated))}return g.validate=K,g}catch(W){throw delete g.validate,delete g.validateName,J&&this.logger.error("Error compiling schema, function code:",J),W}finally{this._compilations.delete(g)}}ps.compileSchema=a;function l(g,b,v){var x;v=(0,r.resolveUrl)(this.opts.uriResolver,b,v);const j=g.refs[v];if(j)return j;let w=h.call(this,g,v);if(w===void 0){const k=(x=g.localRefs)===null||x===void 0?void 0:x[v],{schemaId:S}=this.opts;k&&(w=new o({schema:k,schemaId:S,root:g,baseId:b}))}if(w!==void 0)return g.refs[v]=f.call(this,w)}ps.resolveRef=l;function f(g){return(0,r.inlineRef)(g.schema,this.opts.inlineRefs)?g.schema:g.validate?g:a.call(this,g)}function c(g){for(const b of this._compilations)if(d(b,g))return b}ps.getCompilingSchema=c;function d(g,b){return g.schema===b.schema&&g.root===b.root&&g.baseId===b.baseId}function h(g,b){let v;for(;typeof(v=this.refs[b])=="string";)b=v;return v||this.schemas[b]||m.call(this,g,b)}function m(g,b){const v=this.opts.uriResolver.parse(b),x=(0,r._getFullPath)(this.opts.uriResolver,v);let j=(0,r.getFullPath)(this.opts.uriResolver,g.baseId,void 0);if(Object.keys(g.schema).length>0&&x===j)return y.call(this,v,g);const w=(0,r.normalizeId)(x),k=this.refs[w]||this.schemas[w];if(typeof k=="string"){const S=m.call(this,g,k);return typeof(S==null?void 0:S.schema)!="object"?void 0:y.call(this,v,S)}if(typeof(k==null?void 0:k.schema)=="object"){if(k.validate||a.call(this,k),w===(0,r.normalizeId)(b)){const{schema:S}=k,{schemaId:M}=this.opts,E=S[M];return E&&(j=(0,r.resolveUrl)(this.opts.uriResolver,j,E)),new o({schema:S,schemaId:M,root:g,baseId:j})}return y.call(this,v,k)}}ps.resolveSchema=m;const p=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y(g,{baseId:b,schema:v,root:x}){var j;if(((j=g.fragment)===null||j===void 0?void 0:j[0])!=="/")return;for(const S of g.fragment.slice(1).split("/")){if(typeof v=="boolean")return;const M=v[(0,i.unescapeFragment)(S)];if(M===void 0)return;v=M;const E=typeof v=="object"&&v[this.opts.schemaId];!p.has(S)&&E&&(b=(0,r.resolveUrl)(this.opts.uriResolver,b,E))}let w;if(typeof v!="boolean"&&v.$ref&&!(0,i.schemaHasRulesButRef)(v,this.RULES)){const S=(0,r.resolveUrl)(this.opts.uriResolver,b,v.$ref);w=m.call(this,x,S)}const{schemaId:k}=this.opts;if(w=w||new o({schema:v,schemaId:k,root:x,baseId:b}),w.schema!==w.root.schema)return w}return ps}const XH="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",ZH="Meta-schema for $data reference (JSON AnySchema extension proposal)",eK="object",tK=["$data"],nK={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},rK=!1,iK={$id:XH,description:ZH,type:eK,required:tK,properties:nK,additionalProperties:rK};var Ch={},nf={exports:{}},Wv,vk;function sK(){return vk||(vk=1,Wv={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),Wv}var Vv,bk;function oK(){if(bk)return Vv;bk=1;const{HEX:t}=sK();function e(p){if(o(p,".")<3)return{host:p,isIPV4:!1};const y=p.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[g]=y;return g?{host:s(g,"."),isIPV4:!0}:{host:p,isIPV4:!1}}function n(p,y=!1){let g="",b=!0;for(const v of p){if(t[v]===void 0)return;v!=="0"&&b===!0&&(b=!1),b||(g+=v)}return y&&g.length===0&&(g="0"),g}function r(p){let y=0;const g={error:!1,address:"",zone:""},b=[],v=[];let x=!1,j=!1,w=!1;function k(){if(v.length){if(x===!1){const S=n(v);if(S!==void 0)b.push(S);else return g.error=!0,!1}v.length=0}return!0}for(let S=0;S<p.length;S++){const M=p[S];if(!(M==="["||M==="]"))if(M===":"){if(j===!0&&(w=!0),!k())break;if(y++,b.push(":"),y>7){g.error=!0;break}S-1>=0&&p[S-1]===":"&&(j=!0);continue}else if(M==="%"){if(!k())break;x=!0}else{v.push(M);continue}}return v.length&&(x?g.zone=v.join(""):w?b.push(v.join("")):b.push(n(v))),g.address=b.join(""),g}function i(p,y={}){if(o(p,":")<2)return{host:p,isIPV6:!1};const g=r(p);if(g.error)return{host:p,isIPV6:!1};{let b=g.address,v=g.address;return g.zone&&(b+="%"+g.zone,v+="%25"+g.zone),{host:b,escapedHost:v,isIPV6:!0}}}function s(p,y){let g="",b=!0;const v=p.length;for(let x=0;x<v;x++){const j=p[x];j==="0"&&b?(x+1<=v&&p[x+1]===y||x+1===v)&&(g+=j,b=!1):(j===y?b=!0:b=!1,g+=j)}return g}function o(p,y){let g=0;for(let b=0;b<p.length;b++)p[b]===y&&g++;return g}const a=/^\.\.?\//u,l=/^\/\.(?:\/|$)/u,f=/^\/\.\.(?:\/|$)/u,c=/^\/?(?:.|\n)*?(?=\/|$)/u;function d(p){const y=[];for(;p.length;)if(p.match(a))p=p.replace(a,"");else if(p.match(l))p=p.replace(l,"/");else if(p.match(f))p=p.replace(f,"/"),y.pop();else if(p==="."||p==="..")p="";else{const g=p.match(c);if(g){const b=g[0];p=p.slice(b.length),y.push(b)}else throw new Error("Unexpected dot segment condition")}return y.join("")}function h(p,y){const g=y!==!0?escape:unescape;return p.scheme!==void 0&&(p.scheme=g(p.scheme)),p.userinfo!==void 0&&(p.userinfo=g(p.userinfo)),p.host!==void 0&&(p.host=g(p.host)),p.path!==void 0&&(p.path=g(p.path)),p.query!==void 0&&(p.query=g(p.query)),p.fragment!==void 0&&(p.fragment=g(p.fragment)),p}function m(p,y){const g=[];if(p.userinfo!==void 0&&(g.push(p.userinfo),g.push("@")),p.host!==void 0){let b=unescape(p.host);const v=e(b);if(v.isIPV4)b=v.host;else{const x=i(v.host,{});x.isIPV6===!0?b=`[${x.escapedHost}]`:b=p.host}g.push(b)}return(typeof p.port=="number"||typeof p.port=="string")&&(g.push(":"),g.push(String(p.port))),g.length?g.join(""):void 0}return Vv={recomposeAuthority:m,normalizeComponentEncoding:h,removeDotSegments:d,normalizeIPv4:e,normalizeIPv6:i,stringArrayToHexStripped:n},Vv}var Hv,yk;function aK(){if(yk)return Hv;yk=1;const t=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function n(v){return typeof v.secure=="boolean"?v.secure:String(v.scheme).toLowerCase()==="wss"}function r(v){return v.host||(v.error=v.error||"HTTP URIs must have a host."),v}function i(v){const x=String(v.scheme).toLowerCase()==="https";return(v.port===(x?443:80)||v.port==="")&&(v.port=void 0),v.path||(v.path="/"),v}function s(v){return v.secure=n(v),v.resourceName=(v.path||"/")+(v.query?"?"+v.query:""),v.path=void 0,v.query=void 0,v}function o(v){if((v.port===(n(v)?443:80)||v.port==="")&&(v.port=void 0),typeof v.secure=="boolean"&&(v.scheme=v.secure?"wss":"ws",v.secure=void 0),v.resourceName){const[x,j]=v.resourceName.split("?");v.path=x&&x!=="/"?x:void 0,v.query=j,v.resourceName=void 0}return v.fragment=void 0,v}function a(v,x){if(!v.path)return v.error="URN can not be parsed",v;const j=v.path.match(e);if(j){const w=x.scheme||v.scheme||"urn";v.nid=j[1].toLowerCase(),v.nss=j[2];const k=`${w}:${x.nid||v.nid}`,S=b[k];v.path=void 0,S&&(v=S.parse(v,x))}else v.error=v.error||"URN can not be parsed.";return v}function l(v,x){const j=x.scheme||v.scheme||"urn",w=v.nid.toLowerCase(),k=`${j}:${x.nid||w}`,S=b[k];S&&(v=S.serialize(v,x));const M=v,E=v.nss;return M.path=`${w||x.nid}:${E}`,x.skipEscape=!0,M}function f(v,x){const j=v;return j.uuid=j.nss,j.nss=void 0,!x.tolerant&&(!j.uuid||!t.test(j.uuid))&&(j.error=j.error||"UUID is not valid."),j}function c(v){const x=v;return x.nss=(v.uuid||"").toLowerCase(),x}const d={scheme:"http",domainHost:!0,parse:r,serialize:i},h={scheme:"https",domainHost:d.domainHost,parse:r,serialize:i},m={scheme:"ws",domainHost:!0,parse:s,serialize:o},p={scheme:"wss",domainHost:m.domainHost,parse:m.parse,serialize:m.serialize},b={http:d,https:h,ws:m,wss:p,urn:{scheme:"urn",parse:a,serialize:l,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:f,serialize:c,skipNormalize:!0}};return Hv=b,Hv}var xk;function lK(){if(xk)return nf.exports;xk=1;const{normalizeIPv6:t,normalizeIPv4:e,removeDotSegments:n,recomposeAuthority:r,normalizeComponentEncoding:i}=oK(),s=aK();function o(g,b){return typeof g=="string"?g=c(p(g,b),b):typeof g=="object"&&(g=p(c(g,b),b)),g}function a(g,b,v){const x=Object.assign({scheme:"null"},v),j=l(p(g,x),p(b,x),x,!0);return c(j,{...x,skipEscape:!0})}function l(g,b,v,x){const j={};return x||(g=p(c(g,v),v),b=p(c(b,v),v)),v=v||{},!v.tolerant&&b.scheme?(j.scheme=b.scheme,j.userinfo=b.userinfo,j.host=b.host,j.port=b.port,j.path=n(b.path||""),j.query=b.query):(b.userinfo!==void 0||b.host!==void 0||b.port!==void 0?(j.userinfo=b.userinfo,j.host=b.host,j.port=b.port,j.path=n(b.path||""),j.query=b.query):(b.path?(b.path.charAt(0)==="/"?j.path=n(b.path):((g.userinfo!==void 0||g.host!==void 0||g.port!==void 0)&&!g.path?j.path="/"+b.path:g.path?j.path=g.path.slice(0,g.path.lastIndexOf("/")+1)+b.path:j.path=b.path,j.path=n(j.path)),j.query=b.query):(j.path=g.path,b.query!==void 0?j.query=b.query:j.query=g.query),j.userinfo=g.userinfo,j.host=g.host,j.port=g.port),j.scheme=g.scheme),j.fragment=b.fragment,j}function f(g,b,v){return typeof g=="string"?(g=unescape(g),g=c(i(p(g,v),!0),{...v,skipEscape:!0})):typeof g=="object"&&(g=c(i(g,!0),{...v,skipEscape:!0})),typeof b=="string"?(b=unescape(b),b=c(i(p(b,v),!0),{...v,skipEscape:!0})):typeof b=="object"&&(b=c(i(b,!0),{...v,skipEscape:!0})),g.toLowerCase()===b.toLowerCase()}function c(g,b){const v={host:g.host,scheme:g.scheme,userinfo:g.userinfo,port:g.port,path:g.path,query:g.query,nid:g.nid,nss:g.nss,uuid:g.uuid,fragment:g.fragment,reference:g.reference,resourceName:g.resourceName,secure:g.secure,error:""},x=Object.assign({},b),j=[],w=s[(x.scheme||v.scheme||"").toLowerCase()];w&&w.serialize&&w.serialize(v,x),v.path!==void 0&&(x.skipEscape?v.path=unescape(v.path):(v.path=escape(v.path),v.scheme!==void 0&&(v.path=v.path.split("%3A").join(":")))),x.reference!=="suffix"&&v.scheme&&(j.push(v.scheme),j.push(":"));const k=r(v,x);if(k!==void 0&&(x.reference!=="suffix"&&j.push("//"),j.push(k),v.path&&v.path.charAt(0)!=="/"&&j.push("/")),v.path!==void 0){let S=v.path;!x.absolutePath&&(!w||!w.absolutePath)&&(S=n(S)),k===void 0&&(S=S.replace(/^\/\//u,"/%2F")),j.push(S)}return v.query!==void 0&&(j.push("?"),j.push(v.query)),v.fragment!==void 0&&(j.push("#"),j.push(v.fragment)),j.join("")}const d=Array.from({length:127},(g,b)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(b)));function h(g){let b=0;for(let v=0,x=g.length;v<x;++v)if(b=g.charCodeAt(v),b>126||d[b])return!0;return!1}const m=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function p(g,b){const v=Object.assign({},b),x={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},j=g.indexOf("%")!==-1;let w=!1;v.reference==="suffix"&&(g=(v.scheme?v.scheme+":":"")+"//"+g);const k=g.match(m);if(k){if(x.scheme=k[1],x.userinfo=k[3],x.host=k[4],x.port=parseInt(k[5],10),x.path=k[6]||"",x.query=k[7],x.fragment=k[8],isNaN(x.port)&&(x.port=k[5]),x.host){const M=e(x.host);if(M.isIPV4===!1){const E=t(M.host,{isIPV4:!1});x.host=E.host.toLowerCase(),w=E.isIPV6}else x.host=M.host,w=!0}x.scheme===void 0&&x.userinfo===void 0&&x.host===void 0&&x.port===void 0&&!x.path&&x.query===void 0?x.reference="same-document":x.scheme===void 0?x.reference="relative":x.fragment===void 0?x.reference="absolute":x.reference="uri",v.reference&&v.reference!=="suffix"&&v.reference!==x.reference&&(x.error=x.error||"URI is not a "+v.reference+" reference.");const S=s[(v.scheme||x.scheme||"").toLowerCase()];if(!v.unicodeSupport&&(!S||!S.unicodeSupport)&&x.host&&(v.domainHost||S&&S.domainHost)&&w===!1&&h(x.host))try{x.host=URL.domainToASCII(x.host.toLowerCase())}catch(M){x.error=x.error||"Host's domain name can not be converted to ASCII: "+M}(!S||S&&!S.skipNormalize)&&(j&&x.scheme!==void 0&&(x.scheme=unescape(x.scheme)),j&&x.userinfo!==void 0&&(x.userinfo=unescape(x.userinfo)),j&&x.host!==void 0&&(x.host=unescape(x.host)),x.path!==void 0&&x.path.length&&(x.path=escape(unescape(x.path))),x.fragment!==void 0&&x.fragment.length&&(x.fragment=encodeURI(decodeURIComponent(x.fragment)))),S&&S.parse&&S.parse(x,v)}else x.error=x.error||"URI can not be parsed.";return x}const y={SCHEMES:s,normalize:o,resolve:a,resolveComponents:l,equal:f,serialize:c,parse:p};return nf.exports=y,nf.exports.default=y,nf.exports.fastUri=y,nf.exports}var wk;function uK(){if(wk)return Ch;wk=1,Object.defineProperty(Ch,"__esModule",{value:!0});const t=lK();return t.code='require("ajv/dist/runtime/uri").default',Ch.default=t,Ch}var jk;function cK(){return jk||(jk=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Tg();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=In();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=mx(),i=$g(),s=UR(),o=gx(),a=In(),l=Rg(),f=xm(),c=ir(),d=iK,h=uK(),m=(X,$)=>new RegExp(X,$);m.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function x(X){var $,ie,T,A,P,se,te,q,ge,V,F,ee,U,H,B,Te,lt,Ze,Ce,Ve,Ie,pt,bt,nt,Ne;const O=X.strict,I=($=X.code)===null||$===void 0?void 0:$.optimize,D=I===!0||I===void 0?1:I||0,ae=(T=(ie=X.code)===null||ie===void 0?void 0:ie.regExp)!==null&&T!==void 0?T:m,he=(A=X.uriResolver)!==null&&A!==void 0?A:h.default;return{strictSchema:(se=(P=X.strictSchema)!==null&&P!==void 0?P:O)!==null&&se!==void 0?se:!0,strictNumbers:(q=(te=X.strictNumbers)!==null&&te!==void 0?te:O)!==null&&q!==void 0?q:!0,strictTypes:(V=(ge=X.strictTypes)!==null&&ge!==void 0?ge:O)!==null&&V!==void 0?V:"log",strictTuples:(ee=(F=X.strictTuples)!==null&&F!==void 0?F:O)!==null&&ee!==void 0?ee:"log",strictRequired:(H=(U=X.strictRequired)!==null&&U!==void 0?U:O)!==null&&H!==void 0?H:!1,code:X.code?{...X.code,optimize:D,regExp:ae}:{optimize:D,regExp:ae},loopRequired:(B=X.loopRequired)!==null&&B!==void 0?B:v,loopEnum:(Te=X.loopEnum)!==null&&Te!==void 0?Te:v,meta:(lt=X.meta)!==null&&lt!==void 0?lt:!0,messages:(Ze=X.messages)!==null&&Ze!==void 0?Ze:!0,inlineRefs:(Ce=X.inlineRefs)!==null&&Ce!==void 0?Ce:!0,schemaId:(Ve=X.schemaId)!==null&&Ve!==void 0?Ve:"$id",addUsedSchema:(Ie=X.addUsedSchema)!==null&&Ie!==void 0?Ie:!0,validateSchema:(pt=X.validateSchema)!==null&&pt!==void 0?pt:!0,validateFormats:(bt=X.validateFormats)!==null&&bt!==void 0?bt:!0,unicodeRegExp:(nt=X.unicodeRegExp)!==null&&nt!==void 0?nt:!0,int32range:(Ne=X.int32range)!==null&&Ne!==void 0?Ne:!0,uriResolver:he}}class j{constructor($={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,$=this.opts={...$,...x($)};const{es5:ie,lines:T}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:y,es5:ie,lines:T}),this.logger=z($.logger);const A=$.validateFormats;$.validateFormats=!1,this.RULES=(0,s.getRules)(),w.call(this,g,$,"NOT SUPPORTED"),w.call(this,b,$,"DEPRECATED","warn"),this._metaOpts=J.call(this),$.formats&&M.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),$.keywords&&E.call(this,$.keywords),typeof $.meta=="object"&&this.addMetaSchema($.meta),S.call(this),$.validateFormats=A}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:$,meta:ie,schemaId:T}=this.opts;let A=d;T==="id"&&(A={...d},A.id=A.$id,delete A.$id),ie&&$&&this.addMetaSchema(A,A[T],!1)}defaultMeta(){const{meta:$,schemaId:ie}=this.opts;return this.opts.defaultMeta=typeof $=="object"?$[ie]||$:void 0}validate($,ie){let T;if(typeof $=="string"){if(T=this.getSchema($),!T)throw new Error(`no schema with key or ref "${$}"`)}else T=this.compile($);const A=T(ie);return"$async"in T||(this.errors=T.errors),A}compile($,ie){const T=this._addSchema($,ie);return T.validate||this._compileSchemaEnv(T)}compileAsync($,ie){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:T}=this.opts;return A.call(this,$,ie);async function A(V,F){await P.call(this,V.$schema);const ee=this._addSchema(V,F);return ee.validate||se.call(this,ee)}async function P(V){V&&!this.getSchema(V)&&await A.call(this,{$ref:V},!0)}async function se(V){try{return this._compileSchemaEnv(V)}catch(F){if(!(F instanceof i.default))throw F;return te.call(this,F),await q.call(this,F.missingSchema),se.call(this,V)}}function te({missingSchema:V,missingRef:F}){if(this.refs[V])throw new Error(`AnySchema ${V} is loaded but ${F} cannot be resolved`)}async function q(V){const F=await ge.call(this,V);this.refs[V]||await P.call(this,F.$schema),this.refs[V]||this.addSchema(F,V,ie)}async function ge(V){const F=this._loading[V];if(F)return F;try{return await(this._loading[V]=T(V))}finally{delete this._loading[V]}}}addSchema($,ie,T,A=this.opts.validateSchema){if(Array.isArray($)){for(const se of $)this.addSchema(se,void 0,T,A);return this}let P;if(typeof $=="object"){const{schemaId:se}=this.opts;if(P=$[se],P!==void 0&&typeof P!="string")throw new Error(`schema ${se} must be string`)}return ie=(0,l.normalizeId)(ie||P),this._checkUnique(ie),this.schemas[ie]=this._addSchema($,T,ie,A,!0),this}addMetaSchema($,ie,T=this.opts.validateSchema){return this.addSchema($,ie,!0,T),this}validateSchema($,ie){if(typeof $=="boolean")return!0;let T;if(T=$.$schema,T!==void 0&&typeof T!="string")throw new Error("$schema must be a string");if(T=T||this.opts.defaultMeta||this.defaultMeta(),!T)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const A=this.validate(T,$);if(!A&&ie){const P="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(P);else throw new Error(P)}return A}getSchema($){let ie;for(;typeof(ie=k.call(this,$))=="string";)$=ie;if(ie===void 0){const{schemaId:T}=this.opts,A=new o.SchemaEnv({schema:{},schemaId:T});if(ie=o.resolveSchema.call(this,A,$),!ie)return;this.refs[$]=ie}return ie.validate||this._compileSchemaEnv(ie)}removeSchema($){if($ instanceof RegExp)return this._removeAllSchemas(this.schemas,$),this._removeAllSchemas(this.refs,$),this;switch(typeof $){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const ie=k.call(this,$);return typeof ie=="object"&&this._cache.delete(ie.schema),delete this.schemas[$],delete this.refs[$],this}case"object":{const ie=$;this._cache.delete(ie);let T=$[this.opts.schemaId];return T&&(T=(0,l.normalizeId)(T),delete this.schemas[T],delete this.refs[T]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary($){for(const ie of $)this.addKeyword(ie);return this}addKeyword($,ie){let T;if(typeof $=="string")T=$,typeof ie=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),ie.keyword=T);else if(typeof $=="object"&&ie===void 0){if(ie=$,T=ie.keyword,Array.isArray(T)&&!T.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ue.call(this,T,ie),!ie)return(0,c.eachItem)(T,P=>ne.call(this,P)),this;me.call(this,ie);const A={...ie,type:(0,f.getJSONTypes)(ie.type),schemaType:(0,f.getJSONTypes)(ie.schemaType)};return(0,c.eachItem)(T,A.type.length===0?P=>ne.call(this,P,A):P=>A.type.forEach(se=>ne.call(this,P,A,se))),this}getKeyword($){const ie=this.RULES.all[$];return typeof ie=="object"?ie.definition:!!ie}removeKeyword($){const{RULES:ie}=this;delete ie.keywords[$],delete ie.all[$];for(const T of ie.rules){const A=T.rules.findIndex(P=>P.keyword===$);A>=0&&T.rules.splice(A,1)}return this}addFormat($,ie){return typeof ie=="string"&&(ie=new RegExp(ie)),this.formats[$]=ie,this}errorsText($=this.errors,{separator:ie=", ",dataVar:T="data"}={}){return!$||$.length===0?"No errors":$.map(A=>`${T}${A.instancePath} ${A.message}`).reduce((A,P)=>A+ie+P)}$dataMetaSchema($,ie){const T=this.RULES.all;$=JSON.parse(JSON.stringify($));for(const A of ie){const P=A.split("/").slice(1);let se=$;for(const te of P)se=se[te];for(const te in T){const q=T[te];if(typeof q!="object")continue;const{$data:ge}=q.definition,V=se[te];ge&&V&&(se[te]=pe(V))}}return $}_removeAllSchemas($,ie){for(const T in $){const A=$[T];(!ie||ie.test(T))&&(typeof A=="string"?delete $[T]:A&&!A.meta&&(this._cache.delete(A.schema),delete $[T]))}}_addSchema($,ie,T,A=this.opts.validateSchema,P=this.opts.addUsedSchema){let se;const{schemaId:te}=this.opts;if(typeof $=="object")se=$[te];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof $!="boolean")throw new Error("schema must be object or boolean")}let q=this._cache.get($);if(q!==void 0)return q;T=(0,l.normalizeId)(se||T);const ge=l.getSchemaRefs.call(this,$,T);return q=new o.SchemaEnv({schema:$,schemaId:te,meta:ie,baseId:T,localRefs:ge}),this._cache.set(q.schema,q),P&&!T.startsWith("#")&&(T&&this._checkUnique(T),this.refs[T]=q),A&&this.validateSchema($,!0),q}_checkUnique($){if(this.schemas[$]||this.refs[$])throw new Error(`schema with key or id "${$}" already exists`)}_compileSchemaEnv($){if($.meta?this._compileMetaSchema($):o.compileSchema.call(this,$),!$.validate)throw new Error("ajv implementation error");return $.validate}_compileMetaSchema($){const ie=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,$)}finally{this.opts=ie}}}j.ValidationError=r.default,j.MissingRefError=i.default,t.default=j;function w(X,$,ie,T="error"){for(const A in X){const P=A;P in $&&this.logger[T](`${ie}: option ${A}. ${X[P]}`)}}function k(X){return X=(0,l.normalizeId)(X),this.schemas[X]||this.refs[X]}function S(){const X=this.opts.schemas;if(X)if(Array.isArray(X))this.addSchema(X);else for(const $ in X)this.addSchema(X[$],$)}function M(){for(const X in this.opts.formats){const $=this.opts.formats[X];$&&this.addFormat(X,$)}}function E(X){if(Array.isArray(X)){this.addVocabulary(X);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const $ in X){const ie=X[$];ie.keyword||(ie.keyword=$),this.addKeyword(ie)}}function J(){const X={...this.opts};for(const $ of p)delete X[$];return X}const W={log(){},warn(){},error(){}};function z(X){if(X===!1)return W;if(X===void 0)return console;if(X.log&&X.warn&&X.error)return X;throw new Error("logger must implement log, warn and error methods")}const K=/^[a-z_$][a-z0-9_$:-]*$/i;function ue(X,$){const{RULES:ie}=this;if((0,c.eachItem)(X,T=>{if(ie.keywords[T])throw new Error(`Keyword ${T} is already defined`);if(!K.test(T))throw new Error(`Keyword ${T} has invalid name`)}),!!$&&$.$data&&!("code"in $||"validate"in $))throw new Error('$data keyword must have "code" or "validate" function')}function ne(X,$,ie){var T;const A=$==null?void 0:$.post;if(ie&&A)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:P}=this;let se=A?P.post:P.rules.find(({type:q})=>q===ie);if(se||(se={type:ie,rules:[]},P.rules.push(se)),P.keywords[X]=!0,!$)return;const te={keyword:X,definition:{...$,type:(0,f.getJSONTypes)($.type),schemaType:(0,f.getJSONTypes)($.schemaType)}};$.before?re.call(this,se,te,$.before):se.rules.push(te),P.all[X]=te,(T=$.implements)===null||T===void 0||T.forEach(q=>this.addKeyword(q))}function re(X,$,ie){const T=X.rules.findIndex(A=>A.keyword===ie);T>=0?X.rules.splice(T,0,$):(X.rules.push($),this.logger.warn(`rule ${ie} is not defined`))}function me(X){let{metaSchema:$}=X;$!==void 0&&(X.$data&&this.opts.$data&&($=pe($)),X.validateSchema=this.compile($,!0))}const de={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function pe(X){return{anyOf:[X,de]}}}(Dv)),Dv}var _h={},Ah={},Oh={},kk;function fK(){if(kk)return Oh;kk=1,Object.defineProperty(Oh,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Oh.default=t,Oh}var Na={},Sk;function dK(){if(Sk)return Na;Sk=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.callRef=Na.getValidate=void 0;const t=$g(),e=wo(),n=In(),r=Sl(),i=gx(),s=ir(),o={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:d,it:h}=f,{baseId:m,schemaEnv:p,validateName:y,opts:g,self:b}=h,{root:v}=p;if((d==="#"||d==="#/")&&m===v.baseId)return j();const x=i.resolveRef.call(b,v,m,d);if(x===void 0)throw new t.default(h.opts.uriResolver,m,d);if(x instanceof i.SchemaEnv)return w(x);return k(x);function j(){if(p===v)return l(f,y,p,p.$async);const S=c.scopeValue("root",{ref:v});return l(f,(0,n._)`${S}.validate`,v,v.$async)}function w(S){const M=a(f,S);l(f,M,S,S.$async)}function k(S){const M=c.scopeValue("schema",g.code.source===!0?{ref:S,code:(0,n.stringify)(S)}:{ref:S}),E=c.name("valid"),J=f.subschema({schema:S,dataTypes:[],schemaPath:n.nil,topSchemaRef:M,errSchemaPath:d},E);f.mergeEvaluated(J),f.ok(E)}}};function a(f,c){const{gen:d}=f;return c.validate?d.scopeValue("validate",{ref:c.validate}):(0,n._)`${d.scopeValue("wrapper",{ref:c})}.validate`}Na.getValidate=a;function l(f,c,d,h){const{gen:m,it:p}=f,{allErrors:y,schemaEnv:g,opts:b}=p,v=b.passContext?r.default.this:n.nil;h?x():j();function x(){if(!g.$async)throw new Error("async schema referenced by sync schema");const S=m.let("valid");m.try(()=>{m.code((0,n._)`await ${(0,e.callValidateCode)(f,c,v)}`),k(c),y||m.assign(S,!0)},M=>{m.if((0,n._)`!(${M} instanceof ${p.ValidationError})`,()=>m.throw(M)),w(M),y||m.assign(S,!1)}),f.ok(S)}function j(){f.result((0,e.callValidateCode)(f,c,v),()=>k(c),()=>w(c))}function w(S){const M=(0,n._)`${S}.errors`;m.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${M} : ${r.default.vErrors}.concat(${M})`),m.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function k(S){var M;if(!p.opts.unevaluated)return;const E=(M=d==null?void 0:d.validate)===null||M===void 0?void 0:M.evaluated;if(p.props!==!0)if(E&&!E.dynamicProps)E.props!==void 0&&(p.props=s.mergeEvaluated.props(m,E.props,p.props));else{const J=m.var("props",(0,n._)`${S}.evaluated.props`);p.props=s.mergeEvaluated.props(m,J,p.props,n.Name)}if(p.items!==!0)if(E&&!E.dynamicItems)E.items!==void 0&&(p.items=s.mergeEvaluated.items(m,E.items,p.items));else{const J=m.var("items",(0,n._)`${S}.evaluated.items`);p.items=s.mergeEvaluated.items(m,J,p.items,n.Name)}}}return Na.callRef=l,Na.default=o,Na}var Ck;function hK(){if(Ck)return Ah;Ck=1,Object.defineProperty(Ah,"__esModule",{value:!0});const t=fK(),e=dK(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return Ah.default=n,Ah}var Eh={},Mh={},_k;function pK(){if(_k)return Mh;_k=1,Object.defineProperty(Mh,"__esModule",{value:!0});const t=In(),e=t.operators,n={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},r={message:({keyword:s,schemaCode:o})=>(0,t.str)`must be ${n[s].okStr} ${o}`,params:({keyword:s,schemaCode:o})=>(0,t._)`{comparison: ${n[s].okStr}, limit: ${o}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(s){const{keyword:o,data:a,schemaCode:l}=s;s.fail$data((0,t._)`${a} ${n[o].fail} ${l} || isNaN(${a})`)}};return Mh.default=i,Mh}var Ph={},Ak;function mK(){if(Ak)return Ph;Ak=1,Object.defineProperty(Ph,"__esModule",{value:!0});const t=In(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,t._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:s,schemaCode:o,it:a}=r,l=a.opts.multipleOfPrecision,f=i.let("res"),c=l?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${l}`:(0,t._)`${f} !== parseInt(${f})`;r.fail$data((0,t._)`(${o} === 0 || (${f} = ${s}/${o}, ${c}))`)}};return Ph.default=n,Ph}var Rh={},Th={},Ok;function gK(){if(Ok)return Th;Ok=1,Object.defineProperty(Th,"__esModule",{value:!0});function t(e){const n=e.length;let r=0,i=0,s;for(;i<n;)r++,s=e.charCodeAt(i++),s>=55296&&s<=56319&&i<n&&(s=e.charCodeAt(i),(s&64512)===56320&&i++);return r}return Th.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',Th}var Ek;function vK(){if(Ek)return Rh;Ek=1,Object.defineProperty(Rh,"__esModule",{value:!0});const t=In(),e=ir(),n=gK(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:o}){const a=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},code(s){const{keyword:o,data:a,schemaCode:l,it:f}=s,c=o==="maxLength"?t.operators.GT:t.operators.LT,d=f.opts.unicode===!1?(0,t._)`${a}.length`:(0,t._)`${(0,e.useFunc)(s.gen,n.default)}(${a})`;s.fail$data((0,t._)`${d} ${c} ${l}`)}};return Rh.default=i,Rh}var $h={},Mk;function bK(){if(Mk)return $h;Mk=1,Object.defineProperty($h,"__esModule",{value:!0});const t=wo(),e=In(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,e._)`{pattern: ${i}}`},code(i){const{data:s,$data:o,schema:a,schemaCode:l,it:f}=i,c=f.opts.unicodeRegExp?"u":"",d=o?(0,e._)`(new RegExp(${l}, ${c}))`:(0,t.usePattern)(i,a);i.fail$data((0,e._)`!${d}.test(${s})`)}};return $h.default=r,$h}var Nh={},Pk;function yK(){if(Pk)return Nh;Pk=1,Object.defineProperty(Nh,"__esModule",{value:!0});const t=In(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const s=r==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${i} properties`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:s,schemaCode:o}=r,a=i==="maxProperties"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`Object.keys(${s}).length ${a} ${o}`)}};return Nh.default=n,Nh}var Ih={},Rk;function xK(){if(Rk)return Ih;Rk=1,Object.defineProperty(Ih,"__esModule",{value:!0});const t=wo(),e=In(),n=ir(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,e.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,e._)`{missingProperty: ${s}}`},code(s){const{gen:o,schema:a,schemaCode:l,data:f,$data:c,it:d}=s,{opts:h}=d;if(!c&&a.length===0)return;const m=a.length>=h.loopRequired;if(d.allErrors?p():y(),h.strictRequired){const v=s.parentSchema.properties,{definedProperties:x}=s.it;for(const j of a)if((v==null?void 0:v[j])===void 0&&!x.has(j)){const w=d.schemaEnv.baseId+d.errSchemaPath,k=`required property "${j}" is not defined at "${w}" (strictRequired)`;(0,n.checkStrictMode)(d,k,d.opts.strictRequired)}}function p(){if(m||c)s.block$data(e.nil,g);else for(const v of a)(0,t.checkReportMissingProp)(s,v)}function y(){const v=o.let("missing");if(m||c){const x=o.let("valid",!0);s.block$data(x,()=>b(v,x)),s.ok(x)}else o.if((0,t.checkMissingProp)(s,a,v)),(0,t.reportMissingProp)(s,v),o.else()}function g(){o.forOf("prop",l,v=>{s.setParams({missingProperty:v}),o.if((0,t.noPropertyInData)(o,f,v,h.ownProperties),()=>s.error())})}function b(v,x){s.setParams({missingProperty:v}),o.forOf(v,l,()=>{o.assign(x,(0,t.propertyInData)(o,f,v,h.ownProperties)),o.if((0,e.not)(x),()=>{s.error(),o.break()})},e.nil)}}};return Ih.default=i,Ih}var Dh={},Tk;function wK(){if(Tk)return Dh;Tk=1,Object.defineProperty(Dh,"__esModule",{value:!0});const t=In(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const s=r==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${i} items`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:s,schemaCode:o}=r,a=i==="maxItems"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`${s}.length ${a} ${o}`)}};return Dh.default=n,Dh}var Lh={},zh={},$k;function vx(){if($k)return zh;$k=1,Object.defineProperty(zh,"__esModule",{value:!0});const t=VR();return t.code='require("ajv/dist/runtime/equal").default',zh.default=t,zh}var Nk;function jK(){if(Nk)return Lh;Nk=1,Object.defineProperty(Lh,"__esModule",{value:!0});const t=xm(),e=In(),n=ir(),r=vx(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:a}})=>(0,e.str)`must NOT have duplicate items (items ## ${a} and ${o} are identical)`,params:({params:{i:o,j:a}})=>(0,e._)`{i: ${o}, j: ${a}}`},code(o){const{gen:a,data:l,$data:f,schema:c,parentSchema:d,schemaCode:h,it:m}=o;if(!f&&!c)return;const p=a.let("valid"),y=d.items?(0,t.getSchemaTypes)(d.items):[];o.block$data(p,g,(0,e._)`${h} === false`),o.ok(p);function g(){const j=a.let("i",(0,e._)`${l}.length`),w=a.let("j");o.setParams({i:j,j:w}),a.assign(p,!0),a.if((0,e._)`${j} > 1`,()=>(b()?v:x)(j,w))}function b(){return y.length>0&&!y.some(j=>j==="object"||j==="array")}function v(j,w){const k=a.name("item"),S=(0,t.checkDataTypes)(y,k,m.opts.strictNumbers,t.DataType.Wrong),M=a.const("indices",(0,e._)`{}`);a.for((0,e._)`;${j}--;`,()=>{a.let(k,(0,e._)`${l}[${j}]`),a.if(S,(0,e._)`continue`),y.length>1&&a.if((0,e._)`typeof ${k} == "string"`,(0,e._)`${k} += "_"`),a.if((0,e._)`typeof ${M}[${k}] == "number"`,()=>{a.assign(w,(0,e._)`${M}[${k}]`),o.error(),a.assign(p,!1).break()}).code((0,e._)`${M}[${k}] = ${j}`)})}function x(j,w){const k=(0,n.useFunc)(a,r.default),S=a.name("outer");a.label(S).for((0,e._)`;${j}--;`,()=>a.for((0,e._)`${w} = ${j}; ${w}--;`,()=>a.if((0,e._)`${k}(${l}[${j}], ${l}[${w}])`,()=>{o.error(),a.assign(p,!1).break(S)})))}}};return Lh.default=s,Lh}var Bh={},Ik;function kK(){if(Ik)return Bh;Ik=1,Object.defineProperty(Bh,"__esModule",{value:!0});const t=In(),e=ir(),n=vx(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},code(s){const{gen:o,data:a,$data:l,schemaCode:f,schema:c}=s;l||c&&typeof c=="object"?s.fail$data((0,t._)`!${(0,e.useFunc)(o,n.default)}(${a}, ${f})`):s.fail((0,t._)`${c} !== ${a}`)}};return Bh.default=i,Bh}var qh={},Dk;function SK(){if(Dk)return qh;Dk=1,Object.defineProperty(qh,"__esModule",{value:!0});const t=In(),e=ir(),n=vx(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},code(s){const{gen:o,data:a,$data:l,schema:f,schemaCode:c,it:d}=s;if(!l&&f.length===0)throw new Error("enum must have non-empty array");const h=f.length>=d.opts.loopEnum;let m;const p=()=>m??(m=(0,e.useFunc)(o,n.default));let y;if(h||l)y=o.let("valid"),s.block$data(y,g);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const v=o.const("vSchema",c);y=(0,t.or)(...f.map((x,j)=>b(v,j)))}s.pass(y);function g(){o.assign(y,!1),o.forOf("v",c,v=>o.if((0,t._)`${p()}(${a}, ${v})`,()=>o.assign(y,!0).break()))}function b(v,x){const j=f[x];return typeof j=="object"&&j!==null?(0,t._)`${p()}(${a}, ${v}[${x}])`:(0,t._)`${a} === ${j}`}}};return qh.default=i,qh}var Lk;function CK(){if(Lk)return Eh;Lk=1,Object.defineProperty(Eh,"__esModule",{value:!0});const t=pK(),e=mK(),n=vK(),r=bK(),i=yK(),s=xK(),o=wK(),a=jK(),l=kK(),f=SK(),c=[t.default,e.default,n.default,r.default,i.default,s.default,o.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,f.default];return Eh.default=c,Eh}var Fh={},yu={},zk;function HR(){if(zk)return yu;zk=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.validateAdditionalItems=void 0;const t=In(),e=ir(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},code(s){const{parentSchema:o,it:a}=s,{items:l}=o;if(!Array.isArray(l)){(0,e.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(s,l)}};function i(s,o){const{gen:a,schema:l,data:f,keyword:c,it:d}=s;d.items=!0;const h=a.const("len",(0,t._)`${f}.length`);if(l===!1)s.setParams({len:o.length}),s.pass((0,t._)`${h} <= ${o.length}`);else if(typeof l=="object"&&!(0,e.alwaysValidSchema)(d,l)){const p=a.var("valid",(0,t._)`${h} <= ${o.length}`);a.if((0,t.not)(p),()=>m(p)),s.ok(p)}function m(p){a.forRange("i",o.length,h,y=>{s.subschema({keyword:c,dataProp:y,dataPropType:e.Type.Num},p),d.allErrors||a.if((0,t.not)(p),()=>a.break())})}}return yu.validateAdditionalItems=i,yu.default=r,yu}var Uh={},xu={},Bk;function KR(){if(Bk)return xu;Bk=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.validateTuple=void 0;const t=In(),e=ir(),n=wo(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:o,it:a}=s;if(Array.isArray(o))return i(s,"additionalItems",o);a.items=!0,!(0,e.alwaysValidSchema)(a,o)&&s.ok((0,n.validateArray)(s))}};function i(s,o,a=s.schema){const{gen:l,parentSchema:f,data:c,keyword:d,it:h}=s;y(f),h.opts.unevaluated&&a.length&&h.items!==!0&&(h.items=e.mergeEvaluated.items(l,a.length,h.items));const m=l.name("valid"),p=l.const("len",(0,t._)`${c}.length`);a.forEach((g,b)=>{(0,e.alwaysValidSchema)(h,g)||(l.if((0,t._)`${p} > ${b}`,()=>s.subschema({keyword:d,schemaProp:b,dataProp:b},m)),s.ok(m))});function y(g){const{opts:b,errSchemaPath:v}=h,x=a.length,j=x===g.minItems&&(x===g.maxItems||g[o]===!1);if(b.strictTuples&&!j){const w=`"${d}" is ${x}-tuple, but minItems or maxItems/${o} are not specified or different at path "${v}"`;(0,e.checkStrictMode)(h,w,b.strictTuples)}}}return xu.validateTuple=i,xu.default=r,xu}var qk;function _K(){if(qk)return Uh;qk=1,Object.defineProperty(Uh,"__esModule",{value:!0});const t=KR(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};return Uh.default=e,Uh}var Wh={},Fk;function AK(){if(Fk)return Wh;Fk=1,Object.defineProperty(Wh,"__esModule",{value:!0});const t=In(),e=ir(),n=wo(),r=HR(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,t.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,t._)`{limit: ${o}}`},code(o){const{schema:a,parentSchema:l,it:f}=o,{prefixItems:c}=l;f.items=!0,!(0,e.alwaysValidSchema)(f,a)&&(c?(0,r.validateAdditionalItems)(o,c):o.ok((0,n.validateArray)(o)))}};return Wh.default=s,Wh}var Vh={},Uk;function OK(){if(Uk)return Vh;Uk=1,Object.defineProperty(Vh,"__esModule",{value:!0});const t=In(),e=ir(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:s}})=>s===void 0?(0,t.str)`must contain at least ${i} valid item(s)`:(0,t.str)`must contain at least ${i} and no more than ${s} valid item(s)`,params:({params:{min:i,max:s}})=>s===void 0?(0,t._)`{minContains: ${i}}`:(0,t._)`{minContains: ${i}, maxContains: ${s}}`},code(i){const{gen:s,schema:o,parentSchema:a,data:l,it:f}=i;let c,d;const{minContains:h,maxContains:m}=a;f.opts.next?(c=h===void 0?1:h,d=m):c=1;const p=s.const("len",(0,t._)`${l}.length`);if(i.setParams({min:c,max:d}),d===void 0&&c===0){(0,e.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(d!==void 0&&c>d){(0,e.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,e.alwaysValidSchema)(f,o)){let x=(0,t._)`${p} >= ${c}`;d!==void 0&&(x=(0,t._)`${x} && ${p} <= ${d}`),i.pass(x);return}f.items=!0;const y=s.name("valid");d===void 0&&c===1?b(y,()=>s.if(y,()=>s.break())):c===0?(s.let(y,!0),d!==void 0&&s.if((0,t._)`${l}.length > 0`,g)):(s.let(y,!1),g()),i.result(y,()=>i.reset());function g(){const x=s.name("_valid"),j=s.let("count",0);b(x,()=>s.if(x,()=>v(j)))}function b(x,j){s.forRange("i",0,p,w=>{i.subschema({keyword:"contains",dataProp:w,dataPropType:e.Type.Num,compositeRule:!0},x),j()})}function v(x){s.code((0,t._)`${x}++`),d===void 0?s.if((0,t._)`${x} >= ${c}`,()=>s.assign(y,!0).break()):(s.if((0,t._)`${x} > ${d}`,()=>s.assign(y,!1).break()),c===1?s.assign(y,!0):s.if((0,t._)`${x} >= ${c}`,()=>s.assign(y,!0)))}}};return Vh.default=r,Vh}var Kv={},Wk;function EK(){return Wk||(Wk=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=In(),n=ir(),r=wo();t.error={message:({params:{property:l,depsCount:f,deps:c}})=>{const d=f===1?"property":"properties";return(0,e.str)`must have ${d} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:f,deps:c,missingProperty:d}})=>(0,e._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${f},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[f,c]=s(l);o(l,f),a(l,c)}};function s({schema:l}){const f={},c={};for(const d in l){if(d==="__proto__")continue;const h=Array.isArray(l[d])?f:c;h[d]=l[d]}return[f,c]}function o(l,f=l.schema){const{gen:c,data:d,it:h}=l;if(Object.keys(f).length===0)return;const m=c.let("missing");for(const p in f){const y=f[p];if(y.length===0)continue;const g=(0,r.propertyInData)(c,d,p,h.opts.ownProperties);l.setParams({property:p,depsCount:y.length,deps:y.join(", ")}),h.allErrors?c.if(g,()=>{for(const b of y)(0,r.checkReportMissingProp)(l,b)}):(c.if((0,e._)`${g} && (${(0,r.checkMissingProp)(l,y,m)})`),(0,r.reportMissingProp)(l,m),c.else())}}t.validatePropertyDeps=o;function a(l,f=l.schema){const{gen:c,data:d,keyword:h,it:m}=l,p=c.name("valid");for(const y in f)(0,n.alwaysValidSchema)(m,f[y])||(c.if((0,r.propertyInData)(c,d,y,m.opts.ownProperties),()=>{const g=l.subschema({keyword:h,schemaProp:y},p);l.mergeValidEvaluated(g,p)},()=>c.var(p,!0)),l.ok(p))}t.validateSchemaDeps=a,t.default=i}(Kv)),Kv}var Hh={},Vk;function MK(){if(Vk)return Hh;Vk=1,Object.defineProperty(Hh,"__esModule",{value:!0});const t=In(),e=ir(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,t._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:s,schema:o,data:a,it:l}=i;if((0,e.alwaysValidSchema)(l,o))return;const f=s.name("valid");s.forIn("key",a,c=>{i.setParams({propertyName:c}),i.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),s.if((0,t.not)(f),()=>{i.error(!0),l.allErrors||s.break()})}),i.ok(f)}};return Hh.default=r,Hh}var Kh={},Hk;function GR(){if(Hk)return Kh;Hk=1,Object.defineProperty(Kh,"__esModule",{value:!0});const t=wo(),e=In(),n=Sl(),r=ir(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,e._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:a,schema:l,parentSchema:f,data:c,errsCount:d,it:h}=o;if(!d)throw new Error("ajv implementation error");const{allErrors:m,opts:p}=h;if(h.props=!0,p.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(h,l))return;const y=(0,t.allSchemaProperties)(f.properties),g=(0,t.allSchemaProperties)(f.patternProperties);b(),o.ok((0,e._)`${d} === ${n.default.errors}`);function b(){a.forIn("key",c,k=>{!y.length&&!g.length?j(k):a.if(v(k),()=>j(k))})}function v(k){let S;if(y.length>8){const M=(0,r.schemaRefOrVal)(h,f.properties,"properties");S=(0,t.isOwnProperty)(a,M,k)}else y.length?S=(0,e.or)(...y.map(M=>(0,e._)`${k} === ${M}`)):S=e.nil;return g.length&&(S=(0,e.or)(S,...g.map(M=>(0,e._)`${(0,t.usePattern)(o,M)}.test(${k})`))),(0,e.not)(S)}function x(k){a.code((0,e._)`delete ${c}[${k}]`)}function j(k){if(p.removeAdditional==="all"||p.removeAdditional&&l===!1){x(k);return}if(l===!1){o.setParams({additionalProperty:k}),o.error(),m||a.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(h,l)){const S=a.name("valid");p.removeAdditional==="failing"?(w(k,S,!1),a.if((0,e.not)(S),()=>{o.reset(),x(k)})):(w(k,S),m||a.if((0,e.not)(S),()=>a.break()))}}function w(k,S,M){const E={keyword:"additionalProperties",dataProp:k,dataPropType:r.Type.Str};M===!1&&Object.assign(E,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(E,S)}}};return Kh.default=s,Kh}var Gh={},Kk;function PK(){if(Kk)return Gh;Kk=1,Object.defineProperty(Gh,"__esModule",{value:!0});const t=Tg(),e=wo(),n=ir(),r=GR(),i={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:o,schema:a,parentSchema:l,data:f,it:c}=s;c.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new t.KeywordCxt(c,r.default,"additionalProperties"));const d=(0,e.allSchemaProperties)(a);for(const g of d)c.definedProperties.add(g);c.opts.unevaluated&&d.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(o,(0,n.toHash)(d),c.props));const h=d.filter(g=>!(0,n.alwaysValidSchema)(c,a[g]));if(h.length===0)return;const m=o.name("valid");for(const g of h)p(g)?y(g):(o.if((0,e.propertyInData)(o,f,g,c.opts.ownProperties)),y(g),c.allErrors||o.else().var(m,!0),o.endIf()),s.it.definedProperties.add(g),s.ok(m);function p(g){return c.opts.useDefaults&&!c.compositeRule&&a[g].default!==void 0}function y(g){s.subschema({keyword:"properties",schemaProp:g,dataProp:g},m)}}};return Gh.default=i,Gh}var Jh={},Gk;function RK(){if(Gk)return Jh;Gk=1,Object.defineProperty(Jh,"__esModule",{value:!0});const t=wo(),e=In(),n=ir(),r=ir(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:o,schema:a,data:l,parentSchema:f,it:c}=s,{opts:d}=c,h=(0,t.allSchemaProperties)(a),m=h.filter(j=>(0,n.alwaysValidSchema)(c,a[j]));if(h.length===0||m.length===h.length&&(!c.opts.unevaluated||c.props===!0))return;const p=d.strictSchema&&!d.allowMatchingProperties&&f.properties,y=o.name("valid");c.props!==!0&&!(c.props instanceof e.Name)&&(c.props=(0,r.evaluatedPropsToName)(o,c.props));const{props:g}=c;b();function b(){for(const j of h)p&&v(j),c.allErrors?x(j):(o.var(y,!0),x(j),o.if(y))}function v(j){for(const w in p)new RegExp(j).test(w)&&(0,n.checkStrictMode)(c,`property ${w} matches pattern ${j} (use allowMatchingProperties)`)}function x(j){o.forIn("key",l,w=>{o.if((0,e._)`${(0,t.usePattern)(s,j)}.test(${w})`,()=>{const k=m.includes(j);k||s.subschema({keyword:"patternProperties",schemaProp:j,dataProp:w,dataPropType:r.Type.Str},y),c.opts.unevaluated&&g!==!0?o.assign((0,e._)`${g}[${w}]`,!0):!k&&!c.allErrors&&o.if((0,e.not)(y),()=>o.break())})})}}};return Jh.default=i,Jh}var Yh={},Jk;function TK(){if(Jk)return Yh;Jk=1,Object.defineProperty(Yh,"__esModule",{value:!0});const t=ir(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:s}=n;if((0,t.alwaysValidSchema)(s,i)){n.fail();return}const o=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),n.failResult(o,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return Yh.default=e,Yh}var Qh={},Yk;function $K(){if(Yk)return Qh;Yk=1,Object.defineProperty(Qh,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:wo().validateUnion,error:{message:"must match a schema in anyOf"}};return Qh.default=e,Qh}var Xh={},Qk;function NK(){if(Qk)return Xh;Qk=1,Object.defineProperty(Xh,"__esModule",{value:!0});const t=In(),e=ir(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,t._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:s,schema:o,parentSchema:a,it:l}=i;if(!Array.isArray(o))throw new Error("ajv implementation error");if(l.opts.discriminator&&a.discriminator)return;const f=o,c=s.let("valid",!1),d=s.let("passing",null),h=s.name("_valid");i.setParams({passing:d}),s.block(m),i.result(c,()=>i.reset(),()=>i.error(!0));function m(){f.forEach((p,y)=>{let g;(0,e.alwaysValidSchema)(l,p)?s.var(h,!0):g=i.subschema({keyword:"oneOf",schemaProp:y,compositeRule:!0},h),y>0&&s.if((0,t._)`${h} && ${c}`).assign(c,!1).assign(d,(0,t._)`[${d}, ${y}]`).else(),s.if(h,()=>{s.assign(c,!0),s.assign(d,y),g&&i.mergeEvaluated(g,t.Name)})})}}};return Xh.default=r,Xh}var Zh={},Xk;function IK(){if(Xk)return Zh;Xk=1,Object.defineProperty(Zh,"__esModule",{value:!0});const t=ir(),e={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:s}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const o=r.name("valid");i.forEach((a,l)=>{if((0,t.alwaysValidSchema)(s,a))return;const f=n.subschema({keyword:"allOf",schemaProp:l},o);n.ok(o),n.mergeEvaluated(f)})}};return Zh.default=e,Zh}var ep={},Zk;function DK(){if(Zk)return ep;Zk=1,Object.defineProperty(ep,"__esModule",{value:!0});const t=In(),e=ir(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:o,parentSchema:a,it:l}=s;a.then===void 0&&a.else===void 0&&(0,e.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const f=i(l,"then"),c=i(l,"else");if(!f&&!c)return;const d=o.let("valid",!0),h=o.name("_valid");if(m(),s.reset(),f&&c){const y=o.let("ifClause");s.setParams({ifClause:y}),o.if(h,p("then",y),p("else",y))}else f?o.if(h,p("then")):o.if((0,t.not)(h),p("else"));s.pass(d,()=>s.error(!0));function m(){const y=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},h);s.mergeEvaluated(y)}function p(y,g){return()=>{const b=s.subschema({keyword:y},h);o.assign(d,h),s.mergeValidEvaluated(b,d),g?o.assign(g,(0,t._)`${y}`):s.setParams({ifClause:y})}}}};function i(s,o){const a=s.schema[o];return a!==void 0&&!(0,e.alwaysValidSchema)(s,a)}return ep.default=r,ep}var tp={},eS;function LK(){if(eS)return tp;eS=1,Object.defineProperty(tp,"__esModule",{value:!0});const t=ir(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,t.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return tp.default=e,tp}var tS;function zK(){if(tS)return Fh;tS=1,Object.defineProperty(Fh,"__esModule",{value:!0});const t=HR(),e=_K(),n=KR(),r=AK(),i=OK(),s=EK(),o=MK(),a=GR(),l=PK(),f=RK(),c=TK(),d=$K(),h=NK(),m=IK(),p=DK(),y=LK();function g(b=!1){const v=[c.default,d.default,h.default,m.default,p.default,y.default,o.default,a.default,s.default,l.default,f.default];return b?v.push(e.default,r.default):v.push(t.default,n.default),v.push(i.default),v}return Fh.default=g,Fh}var np={},rp={},nS;function BK(){if(nS)return rp;nS=1,Object.defineProperty(rp,"__esModule",{value:!0});const t=In(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,t._)`{format: ${r}}`},code(r,i){const{gen:s,data:o,$data:a,schema:l,schemaCode:f,it:c}=r,{opts:d,errSchemaPath:h,schemaEnv:m,self:p}=c;if(!d.validateFormats)return;a?y():g();function y(){const b=s.scopeValue("formats",{ref:p.formats,code:d.code.formats}),v=s.const("fDef",(0,t._)`${b}[${f}]`),x=s.let("fType"),j=s.let("format");s.if((0,t._)`typeof ${v} == "object" && !(${v} instanceof RegExp)`,()=>s.assign(x,(0,t._)`${v}.type || "string"`).assign(j,(0,t._)`${v}.validate`),()=>s.assign(x,(0,t._)`"string"`).assign(j,v)),r.fail$data((0,t.or)(w(),k()));function w(){return d.strictSchema===!1?t.nil:(0,t._)`${f} && !${j}`}function k(){const S=m.$async?(0,t._)`(${v}.async ? await ${j}(${o}) : ${j}(${o}))`:(0,t._)`${j}(${o})`,M=(0,t._)`(typeof ${j} == "function" ? ${S} : ${j}.test(${o}))`;return(0,t._)`${j} && ${j} !== true && ${x} === ${i} && !${M}`}}function g(){const b=p.formats[l];if(!b){w();return}if(b===!0)return;const[v,x,j]=k(b);v===i&&r.pass(S());function w(){if(d.strictSchema===!1){p.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${l}" ignored in schema at path "${h}"`}}function k(M){const E=M instanceof RegExp?(0,t.regexpCode)(M):d.code.formats?(0,t._)`${d.code.formats}${(0,t.getProperty)(l)}`:void 0,J=s.scopeValue("formats",{key:l,ref:M,code:E});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,t._)`${J}.validate`]:["string",M,J]}function S(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!m.$async)throw new Error("async format in sync schema");return(0,t._)`await ${j}(${o})`}return typeof x=="function"?(0,t._)`${j}(${o})`:(0,t._)`${j}.test(${o})`}}}};return rp.default=n,rp}var rS;function qK(){if(rS)return np;rS=1,Object.defineProperty(np,"__esModule",{value:!0});const e=[BK().default];return np.default=e,np}var Tl={},iS;function FK(){return iS||(iS=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.contentVocabulary=Tl.metadataVocabulary=void 0,Tl.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Tl.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Tl}var sS;function UK(){if(sS)return _h;sS=1,Object.defineProperty(_h,"__esModule",{value:!0});const t=hK(),e=CK(),n=zK(),r=qK(),i=FK(),s=[t.default,e.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return _h.default=s,_h}var ip={},rf={},oS;function WK(){if(oS)return rf;oS=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.DiscrError=void 0;var t;return function(e){e.Tag="tag",e.Mapping="mapping"}(t||(rf.DiscrError=t={})),rf}var aS;function VK(){if(aS)return ip;aS=1,Object.defineProperty(ip,"__esModule",{value:!0});const t=In(),e=WK(),n=gx(),r=$g(),i=ir(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:l}})=>a===e.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:f}})=>(0,t._)`{error: ${a}, tag: ${f}, tagValue: ${l}}`},code(a){const{gen:l,data:f,schema:c,parentSchema:d,it:h}=a,{oneOf:m}=d;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const p=c.propertyName;if(typeof p!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const y=l.let("valid",!1),g=l.const("tag",(0,t._)`${f}${(0,t.getProperty)(p)}`);l.if((0,t._)`typeof ${g} == "string"`,()=>b(),()=>a.error(!1,{discrError:e.DiscrError.Tag,tag:g,tagName:p})),a.ok(y);function b(){const j=x();l.if(!1);for(const w in j)l.elseIf((0,t._)`${g} === ${w}`),l.assign(y,v(j[w]));l.else(),a.error(!1,{discrError:e.DiscrError.Mapping,tag:g,tagName:p}),l.endIf()}function v(j){const w=l.name("valid"),k=a.subschema({keyword:"oneOf",schemaProp:j},w);return a.mergeEvaluated(k,t.Name),w}function x(){var j;const w={},k=M(d);let S=!0;for(let W=0;W<m.length;W++){let z=m[W];if(z!=null&&z.$ref&&!(0,i.schemaHasRulesButRef)(z,h.self.RULES)){const ue=z.$ref;if(z=n.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,ue),z instanceof n.SchemaEnv&&(z=z.schema),z===void 0)throw new r.default(h.opts.uriResolver,h.baseId,ue)}const K=(j=z==null?void 0:z.properties)===null||j===void 0?void 0:j[p];if(typeof K!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);S=S&&(k||M(z)),E(K,W)}if(!S)throw new Error(`discriminator: "${p}" must be required`);return w;function M({required:W}){return Array.isArray(W)&&W.includes(p)}function E(W,z){if(W.const)J(W.const,z);else if(W.enum)for(const K of W.enum)J(K,z);else throw new Error(`discriminator: "properties/${p}" must have "const" or "enum"`)}function J(W,z){if(typeof W!="string"||W in w)throw new Error(`discriminator: "${p}" values must be unique strings`);w[W]=z}}}};return ip.default=o,ip}const HK="http://json-schema.org/draft-07/schema#",KK="http://json-schema.org/draft-07/schema#",GK="Core schema meta-schema",JK={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},YK=["object","boolean"],QK={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},XK={$schema:HK,$id:KK,title:GK,definitions:JK,type:YK,properties:QK,default:!0};var lS;function ZK(){return lS||(lS=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const n=cK(),r=UK(),i=VK(),s=XK,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var f=Tg();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var c=In();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var d=mx();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return d.default}});var h=$g();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}(wh,wh.exports)),wh.exports}ZK();var Gv={},uS;function eG(){return uS||(uS=1,function(t){(function(e){function n(O){return O!==null?Object.prototype.toString.call(O)==="[object Array]":!1}function r(O){return O!==null?Object.prototype.toString.call(O)==="[object Object]":!1}function i(O,I){if(O===I)return!0;var D=Object.prototype.toString.call(O);if(D!==Object.prototype.toString.call(I))return!1;if(n(O)===!0){if(O.length!==I.length)return!1;for(var ae=0;ae<O.length;ae++)if(i(O[ae],I[ae])===!1)return!1;return!0}if(r(O)===!0){var he={};for(var ke in O)if(hasOwnProperty.call(O,ke)){if(i(O[ke],I[ke])===!1)return!1;he[ke]=!0}for(var oe in I)if(hasOwnProperty.call(I,oe)&&he[oe]!==!0)return!1;return!0}return!1}function s(O){if(O===""||O===!1||O===null)return!0;if(n(O)&&O.length===0)return!0;if(r(O)){for(var I in O)if(O.hasOwnProperty(I))return!1;return!0}else return!1}function o(O){for(var I=Object.keys(O),D=[],ae=0;ae<I.length;ae++)D.push(O[I[ae]]);return D}var a;typeof String.prototype.trimLeft=="function"?a=function(O){return O.trimLeft()}:a=function(O){return O.match(/^\s*(.*)/)[1]};var l=0,f=1,c=2,d=3,h=4,m=5,p=6,y=7,g=8,b=9,v={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},x="EOF",j="UnquotedIdentifier",w="QuotedIdentifier",k="Rbracket",S="Rparen",M="Comma",E="Colon",J="Rbrace",W="Number",z="Current",K="Expref",ue="Pipe",ne="Or",re="And",me="EQ",de="GT",pe="LT",X="GTE",$="LTE",ie="NE",T="Flatten",A="Star",P="Filter",se="Dot",te="Not",q="Lbrace",ge="Lbracket",V="Lparen",F="Literal",ee={".":se,"*":A,",":M,":":E,"{":q,"}":J,"]":k,"(":V,")":S,"@":z},U={"<":!0,">":!0,"=":!0,"!":!0},H={" ":!0,"	":!0,"\n":!0};function B(O){return O>="a"&&O<="z"||O>="A"&&O<="Z"||O==="_"}function Te(O){return O>="0"&&O<="9"||O==="-"}function lt(O){return O>="a"&&O<="z"||O>="A"&&O<="Z"||O>="0"&&O<="9"||O==="_"}function Ze(){}Ze.prototype={tokenize:function(O){var I=[];this._current=0;for(var D,ae,he;this._current<O.length;)if(B(O[this._current]))D=this._current,ae=this._consumeUnquotedIdentifier(O),I.push({type:j,value:ae,start:D});else if(ee[O[this._current]]!==void 0)I.push({type:ee[O[this._current]],value:O[this._current],start:this._current}),this._current++;else if(Te(O[this._current]))he=this._consumeNumber(O),I.push(he);else if(O[this._current]==="[")he=this._consumeLBracket(O),I.push(he);else if(O[this._current]==='"')D=this._current,ae=this._consumeQuotedIdentifier(O),I.push({type:w,value:ae,start:D});else if(O[this._current]==="'")D=this._current,ae=this._consumeRawStringLiteral(O),I.push({type:F,value:ae,start:D});else if(O[this._current]==="`"){D=this._current;var ke=this._consumeLiteral(O);I.push({type:F,value:ke,start:D})}else if(U[O[this._current]]!==void 0)I.push(this._consumeOperator(O));else if(H[O[this._current]]!==void 0)this._current++;else if(O[this._current]==="&")D=this._current,this._current++,O[this._current]==="&"?(this._current++,I.push({type:re,value:"&&",start:D})):I.push({type:K,value:"&",start:D});else if(O[this._current]==="|")D=this._current,this._current++,O[this._current]==="|"?(this._current++,I.push({type:ne,value:"||",start:D})):I.push({type:ue,value:"|",start:D});else{var oe=new Error("Unknown character:"+O[this._current]);throw oe.name="LexerError",oe}return I},_consumeUnquotedIdentifier:function(O){var I=this._current;for(this._current++;this._current<O.length&&lt(O[this._current]);)this._current++;return O.slice(I,this._current)},_consumeQuotedIdentifier:function(O){var I=this._current;this._current++;for(var D=O.length;O[this._current]!=='"'&&this._current<D;){var ae=this._current;O[ae]==="\\"&&(O[ae+1]==="\\"||O[ae+1]==='"')?ae+=2:ae++,this._current=ae}return this._current++,JSON.parse(O.slice(I,this._current))},_consumeRawStringLiteral:function(O){var I=this._current;this._current++;for(var D=O.length;O[this._current]!=="'"&&this._current<D;){var ae=this._current;O[ae]==="\\"&&(O[ae+1]==="\\"||O[ae+1]==="'")?ae+=2:ae++,this._current=ae}this._current++;var he=O.slice(I+1,this._current-1);return he.replace("\\'","'")},_consumeNumber:function(O){var I=this._current;this._current++;for(var D=O.length;Te(O[this._current])&&this._current<D;)this._current++;var ae=parseInt(O.slice(I,this._current));return{type:W,value:ae,start:I}},_consumeLBracket:function(O){var I=this._current;return this._current++,O[this._current]==="?"?(this._current++,{type:P,value:"[?",start:I}):O[this._current]==="]"?(this._current++,{type:T,value:"[]",start:I}):{type:ge,value:"[",start:I}},_consumeOperator:function(O){var I=this._current,D=O[I];if(this._current++,D==="!")return O[this._current]==="="?(this._current++,{type:ie,value:"!=",start:I}):{type:te,value:"!",start:I};if(D==="<")return O[this._current]==="="?(this._current++,{type:$,value:"<=",start:I}):{type:pe,value:"<",start:I};if(D===">")return O[this._current]==="="?(this._current++,{type:X,value:">=",start:I}):{type:de,value:">",start:I};if(D==="="&&O[this._current]==="=")return this._current++,{type:me,value:"==",start:I}},_consumeLiteral:function(O){this._current++;for(var I=this._current,D=O.length,ae;O[this._current]!=="`"&&this._current<D;){var he=this._current;O[he]==="\\"&&(O[he+1]==="\\"||O[he+1]==="`")?he+=2:he++,this._current=he}var ke=a(O.slice(I,this._current));return ke=ke.replace("\\`","`"),this._looksLikeJSON(ke)?ae=JSON.parse(ke):ae=JSON.parse('"'+ke+'"'),this._current++,ae},_looksLikeJSON:function(O){var I='[{"',D=["true","false","null"],ae="-0123456789";if(O==="")return!1;if(I.indexOf(O[0])>=0)return!0;if(D.indexOf(O)>=0)return!0;if(ae.indexOf(O[0])>=0)try{return JSON.parse(O),!0}catch{return!1}else return!1}};var Ce={};Ce[x]=0,Ce[j]=0,Ce[w]=0,Ce[k]=0,Ce[S]=0,Ce[M]=0,Ce[J]=0,Ce[W]=0,Ce[z]=0,Ce[K]=0,Ce[ue]=1,Ce[ne]=2,Ce[re]=3,Ce[me]=5,Ce[de]=5,Ce[pe]=5,Ce[X]=5,Ce[$]=5,Ce[ie]=5,Ce[T]=9,Ce[A]=20,Ce[P]=21,Ce[se]=40,Ce[te]=45,Ce[q]=50,Ce[ge]=55,Ce[V]=60;function Ve(){}Ve.prototype={parse:function(O){this._loadTokens(O),this.index=0;var I=this.expression(0);if(this._lookahead(0)!==x){var D=this._lookaheadToken(0),ae=new Error("Unexpected token type: "+D.type+", value: "+D.value);throw ae.name="ParserError",ae}return I},_loadTokens:function(O){var I=new Ze,D=I.tokenize(O);D.push({type:x,value:"",start:O.length}),this.tokens=D},expression:function(O){var I=this._lookaheadToken(0);this._advance();for(var D=this.nud(I),ae=this._lookahead(0);O<Ce[ae];)this._advance(),D=this.led(ae,D),ae=this._lookahead(0);return D},_lookahead:function(O){return this.tokens[this.index+O].type},_lookaheadToken:function(O){return this.tokens[this.index+O]},_advance:function(){this.index++},nud:function(O){var I,D,ae;switch(O.type){case F:return{type:"Literal",value:O.value};case j:return{type:"Field",name:O.value};case w:var he={type:"Field",name:O.value};if(this._lookahead(0)===V)throw new Error("Quoted identifier not allowed for function names.");return he;case te:return D=this.expression(Ce.Not),{type:"NotExpression",children:[D]};case A:return I={type:"Identity"},D=null,this._lookahead(0)===k?D={type:"Identity"}:D=this._parseProjectionRHS(Ce.Star),{type:"ValueProjection",children:[I,D]};case P:return this.led(O.type,{type:"Identity"});case q:return this._parseMultiselectHash();case T:return I={type:T,children:[{type:"Identity"}]},D=this._parseProjectionRHS(Ce.Flatten),{type:"Projection",children:[I,D]};case ge:return this._lookahead(0)===W||this._lookahead(0)===E?(D=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},D)):this._lookahead(0)===A&&this._lookahead(1)===k?(this._advance(),this._advance(),D=this._parseProjectionRHS(Ce.Star),{type:"Projection",children:[{type:"Identity"},D]}):this._parseMultiselectList();case z:return{type:z};case K:return ae=this.expression(Ce.Expref),{type:"ExpressionReference",children:[ae]};case V:for(var ke=[];this._lookahead(0)!==S;)this._lookahead(0)===z?(ae={type:z},this._advance()):ae=this.expression(0),ke.push(ae);return this._match(S),ke[0];default:this._errorToken(O)}},led:function(O,I){var D;switch(O){case se:var ae=Ce.Dot;return this._lookahead(0)!==A?(D=this._parseDotRHS(ae),{type:"Subexpression",children:[I,D]}):(this._advance(),D=this._parseProjectionRHS(ae),{type:"ValueProjection",children:[I,D]});case ue:return D=this.expression(Ce.Pipe),{type:ue,children:[I,D]};case ne:return D=this.expression(Ce.Or),{type:"OrExpression",children:[I,D]};case re:return D=this.expression(Ce.And),{type:"AndExpression",children:[I,D]};case V:for(var he=I.name,ke=[],oe,Me;this._lookahead(0)!==S;)this._lookahead(0)===z?(oe={type:z},this._advance()):oe=this.expression(0),this._lookahead(0)===M&&this._match(M),ke.push(oe);return this._match(S),Me={type:"Function",name:he,children:ke},Me;case P:var Ye=this.expression(0);return this._match(k),this._lookahead(0)===T?D={type:"Identity"}:D=this._parseProjectionRHS(Ce.Filter),{type:"FilterProjection",children:[I,D,Ye]};case T:var Tt={type:T,children:[I]},kt=this._parseProjectionRHS(Ce.Flatten);return{type:"Projection",children:[Tt,kt]};case me:case ie:case de:case X:case pe:case $:return this._parseComparator(I,O);case ge:var Ee=this._lookaheadToken(0);return Ee.type===W||Ee.type===E?(D=this._parseIndexExpression(),this._projectIfSlice(I,D)):(this._match(A),this._match(k),D=this._parseProjectionRHS(Ce.Star),{type:"Projection",children:[I,D]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(O){if(this._lookahead(0)===O)this._advance();else{var I=this._lookaheadToken(0),D=new Error("Expected "+O+", got: "+I.type);throw D.name="ParserError",D}},_errorToken:function(O){var I=new Error("Invalid token ("+O.type+'): "'+O.value+'"');throw I.name="ParserError",I},_parseIndexExpression:function(){if(this._lookahead(0)===E||this._lookahead(1)===E)return this._parseSliceExpression();var O={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(k),O},_projectIfSlice:function(O,I){var D={type:"IndexExpression",children:[O,I]};return I.type==="Slice"?{type:"Projection",children:[D,this._parseProjectionRHS(Ce.Star)]}:D},_parseSliceExpression:function(){for(var O=[null,null,null],I=0,D=this._lookahead(0);D!==k&&I<3;){if(D===E)I++,this._advance();else if(D===W)O[I]=this._lookaheadToken(0).value,this._advance();else{var ae=this._lookahead(0),he=new Error("Syntax error, unexpected token: "+ae.value+"("+ae.type+")");throw he.name="Parsererror",he}D=this._lookahead(0)}return this._match(k),{type:"Slice",children:O}},_parseComparator:function(O,I){var D=this.expression(Ce[I]);return{type:"Comparator",name:I,children:[O,D]}},_parseDotRHS:function(O){var I=this._lookahead(0),D=[j,w,A];if(D.indexOf(I)>=0)return this.expression(O);if(I===ge)return this._match(ge),this._parseMultiselectList();if(I===q)return this._match(q),this._parseMultiselectHash()},_parseProjectionRHS:function(O){var I;if(Ce[this._lookahead(0)]<10)I={type:"Identity"};else if(this._lookahead(0)===ge)I=this.expression(O);else if(this._lookahead(0)===P)I=this.expression(O);else if(this._lookahead(0)===se)this._match(se),I=this._parseDotRHS(O);else{var D=this._lookaheadToken(0),ae=new Error("Sytanx error, unexpected token: "+D.value+"("+D.type+")");throw ae.name="ParserError",ae}return I},_parseMultiselectList:function(){for(var O=[];this._lookahead(0)!==k;){var I=this.expression(0);if(O.push(I),this._lookahead(0)===M&&(this._match(M),this._lookahead(0)===k))throw new Error("Unexpected token Rbracket")}return this._match(k),{type:"MultiSelectList",children:O}},_parseMultiselectHash:function(){for(var O=[],I=[j,w],D,ae,he,ke;;){if(D=this._lookaheadToken(0),I.indexOf(D.type)<0)throw new Error("Expecting an identifier token, got: "+D.type);if(ae=D.value,this._advance(),this._match(E),he=this.expression(0),ke={type:"KeyValuePair",name:ae,value:he},O.push(ke),this._lookahead(0)===M)this._match(M);else if(this._lookahead(0)===J){this._match(J);break}}return{type:"MultiSelectHash",children:O}}};function Ie(O){this.runtime=O}Ie.prototype={search:function(O,I){return this.visit(O,I)},visit:function(O,I){var D,ae,he,ke,oe,Me,Ye,Tt,kt,Ee;switch(O.type){case"Field":return I!==null&&r(I)?(Me=I[O.name],Me===void 0?null:Me):null;case"Subexpression":for(he=this.visit(O.children[0],I),Ee=1;Ee<O.children.length;Ee++)if(he=this.visit(O.children[1],he),he===null)return null;return he;case"IndexExpression":return Ye=this.visit(O.children[0],I),Tt=this.visit(O.children[1],Ye),Tt;case"Index":if(!n(I))return null;var It=O.value;return It<0&&(It=I.length+It),he=I[It],he===void 0&&(he=null),he;case"Slice":if(!n(I))return null;var Hn=O.children.slice(0),On=this.computeSliceParams(I.length,Hn),en=On[0],Vt=On[1],mn=On[2];if(he=[],mn>0)for(Ee=en;Ee<Vt;Ee+=mn)he.push(I[Ee]);else for(Ee=en;Ee>Vt;Ee+=mn)he.push(I[Ee]);return he;case"Projection":var En=this.visit(O.children[0],I);if(!n(En))return null;for(kt=[],Ee=0;Ee<En.length;Ee++)ae=this.visit(O.children[1],En[Ee]),ae!==null&&kt.push(ae);return kt;case"ValueProjection":if(En=this.visit(O.children[0],I),!r(En))return null;kt=[];var Zn=o(En);for(Ee=0;Ee<Zn.length;Ee++)ae=this.visit(O.children[1],Zn[Ee]),ae!==null&&kt.push(ae);return kt;case"FilterProjection":if(En=this.visit(O.children[0],I),!n(En))return null;var cn=[],ot=[];for(Ee=0;Ee<En.length;Ee++)D=this.visit(O.children[2],En[Ee]),s(D)||cn.push(En[Ee]);for(var gn=0;gn<cn.length;gn++)ae=this.visit(O.children[1],cn[gn]),ae!==null&&ot.push(ae);return ot;case"Comparator":switch(ke=this.visit(O.children[0],I),oe=this.visit(O.children[1],I),O.name){case me:he=i(ke,oe);break;case ie:he=!i(ke,oe);break;case de:he=ke>oe;break;case X:he=ke>=oe;break;case pe:he=ke<oe;break;case $:he=ke<=oe;break;default:throw new Error("Unknown comparator: "+O.name)}return he;case T:var mt=this.visit(O.children[0],I);if(!n(mt))return null;var Yt=[];for(Ee=0;Ee<mt.length;Ee++)ae=mt[Ee],n(ae)?Yt.push.apply(Yt,ae):Yt.push(ae);return Yt;case"Identity":return I;case"MultiSelectList":if(I===null)return null;for(kt=[],Ee=0;Ee<O.children.length;Ee++)kt.push(this.visit(O.children[Ee],I));return kt;case"MultiSelectHash":if(I===null)return null;kt={};var xn;for(Ee=0;Ee<O.children.length;Ee++)xn=O.children[Ee],kt[xn.name]=this.visit(xn.value,I);return kt;case"OrExpression":return D=this.visit(O.children[0],I),s(D)&&(D=this.visit(O.children[1],I)),D;case"AndExpression":return ke=this.visit(O.children[0],I),s(ke)===!0?ke:this.visit(O.children[1],I);case"NotExpression":return ke=this.visit(O.children[0],I),s(ke);case"Literal":return O.value;case ue:return Ye=this.visit(O.children[0],I),this.visit(O.children[1],Ye);case z:return I;case"Function":var Dn=[];for(Ee=0;Ee<O.children.length;Ee++)Dn.push(this.visit(O.children[Ee],I));return this.runtime.callFunction(O.name,Dn);case"ExpressionReference":var Mn=O.children[0];return Mn.jmespathType=K,Mn;default:throw new Error("Unknown node type: "+O.type)}},computeSliceParams:function(O,I){var D=I[0],ae=I[1],he=I[2],ke=[null,null,null];if(he===null)he=1;else if(he===0){var oe=new Error("Invalid slice, step cannot be 0");throw oe.name="RuntimeError",oe}var Me=he<0;return D===null?D=Me?O-1:0:D=this.capSliceRange(O,D,he),ae===null?ae=Me?-1:O:ae=this.capSliceRange(O,ae,he),ke[0]=D,ke[1]=ae,ke[2]=he,ke},capSliceRange:function(O,I,D){return I<0?(I+=O,I<0&&(I=D<0?-1:0)):I>=O&&(I=D<0?O-1:O),I}};function pt(O){this._interpreter=O,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[l]}]},avg:{_func:this._functionAvg,_signature:[{types:[g]}]},ceil:{_func:this._functionCeil,_signature:[{types:[l]}]},contains:{_func:this._functionContains,_signature:[{types:[c,d]},{types:[f]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[c]},{types:[c]}]},floor:{_func:this._functionFloor,_signature:[{types:[l]}]},length:{_func:this._functionLength,_signature:[{types:[c,d,h]}]},map:{_func:this._functionMap,_signature:[{types:[p]},{types:[d]}]},max:{_func:this._functionMax,_signature:[{types:[g,b]}]},merge:{_func:this._functionMerge,_signature:[{types:[h],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[d]},{types:[p]}]},sum:{_func:this._functionSum,_signature:[{types:[g]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[c]},{types:[c]}]},min:{_func:this._functionMin,_signature:[{types:[g,b]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[d]},{types:[p]}]},type:{_func:this._functionType,_signature:[{types:[f]}]},keys:{_func:this._functionKeys,_signature:[{types:[h]}]},values:{_func:this._functionValues,_signature:[{types:[h]}]},sort:{_func:this._functionSort,_signature:[{types:[b,g]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[d]},{types:[p]}]},join:{_func:this._functionJoin,_signature:[{types:[c]},{types:[b]}]},reverse:{_func:this._functionReverse,_signature:[{types:[c,d]}]},to_array:{_func:this._functionToArray,_signature:[{types:[f]}]},to_string:{_func:this._functionToString,_signature:[{types:[f]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[f]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[f],variadic:!0}]}}}pt.prototype={callFunction:function(O,I){var D=this.functionTable[O];if(D===void 0)throw new Error("Unknown function: "+O+"()");return this._validateArgs(O,I,D._signature),D._func.call(this,I)},_validateArgs:function(O,I,D){var ae;if(D[D.length-1].variadic){if(I.length<D.length)throw ae=D.length===1?" argument":" arguments",new Error("ArgumentError: "+O+"() takes at least"+D.length+ae+" but received "+I.length)}else if(I.length!==D.length)throw ae=D.length===1?" argument":" arguments",new Error("ArgumentError: "+O+"() takes "+D.length+ae+" but received "+I.length);for(var he,ke,oe,Me=0;Me<D.length;Me++){oe=!1,he=D[Me].types,ke=this._getTypeName(I[Me]);for(var Ye=0;Ye<he.length;Ye++)if(this._typeMatches(ke,he[Ye],I[Me])){oe=!0;break}if(!oe){var Tt=he.map(function(kt){return v[kt]}).join(",");throw new Error("TypeError: "+O+"() expected argument "+(Me+1)+" to be type "+Tt+" but received type "+v[ke]+" instead.")}}},_typeMatches:function(O,I,D){if(I===f)return!0;if(I===b||I===g||I===d){if(I===d)return O===d;if(O===d){var ae;I===g?ae=l:I===b&&(ae=c);for(var he=0;he<D.length;he++)if(!this._typeMatches(this._getTypeName(D[he]),ae,D[he]))return!1;return!0}}else return O===I},_getTypeName:function(O){switch(Object.prototype.toString.call(O)){case"[object String]":return c;case"[object Number]":return l;case"[object Array]":return d;case"[object Boolean]":return m;case"[object Null]":return y;case"[object Object]":return O.jmespathType===K?p:h}},_functionStartsWith:function(O){return O[0].lastIndexOf(O[1])===0},_functionEndsWith:function(O){var I=O[0],D=O[1];return I.indexOf(D,I.length-D.length)!==-1},_functionReverse:function(O){var I=this._getTypeName(O[0]);if(I===c){for(var D=O[0],ae="",he=D.length-1;he>=0;he--)ae+=D[he];return ae}else{var ke=O[0].slice(0);return ke.reverse(),ke}},_functionAbs:function(O){return Math.abs(O[0])},_functionCeil:function(O){return Math.ceil(O[0])},_functionAvg:function(O){for(var I=0,D=O[0],ae=0;ae<D.length;ae++)I+=D[ae];return I/D.length},_functionContains:function(O){return O[0].indexOf(O[1])>=0},_functionFloor:function(O){return Math.floor(O[0])},_functionLength:function(O){return r(O[0])?Object.keys(O[0]).length:O[0].length},_functionMap:function(O){for(var I=[],D=this._interpreter,ae=O[0],he=O[1],ke=0;ke<he.length;ke++)I.push(D.visit(ae,he[ke]));return I},_functionMerge:function(O){for(var I={},D=0;D<O.length;D++){var ae=O[D];for(var he in ae)I[he]=ae[he]}return I},_functionMax:function(O){if(O[0].length>0){var I=this._getTypeName(O[0][0]);if(I===l)return Math.max.apply(Math,O[0]);for(var D=O[0],ae=D[0],he=1;he<D.length;he++)ae.localeCompare(D[he])<0&&(ae=D[he]);return ae}else return null},_functionMin:function(O){if(O[0].length>0){var I=this._getTypeName(O[0][0]);if(I===l)return Math.min.apply(Math,O[0]);for(var D=O[0],ae=D[0],he=1;he<D.length;he++)D[he].localeCompare(ae)<0&&(ae=D[he]);return ae}else return null},_functionSum:function(O){for(var I=0,D=O[0],ae=0;ae<D.length;ae++)I+=D[ae];return I},_functionType:function(O){switch(this._getTypeName(O[0])){case l:return"number";case c:return"string";case d:return"array";case h:return"object";case m:return"boolean";case p:return"expref";case y:return"null"}},_functionKeys:function(O){return Object.keys(O[0])},_functionValues:function(O){for(var I=O[0],D=Object.keys(I),ae=[],he=0;he<D.length;he++)ae.push(I[D[he]]);return ae},_functionJoin:function(O){var I=O[0],D=O[1];return D.join(I)},_functionToArray:function(O){return this._getTypeName(O[0])===d?O[0]:[O[0]]},_functionToString:function(O){return this._getTypeName(O[0])===c?O[0]:JSON.stringify(O[0])},_functionToNumber:function(O){var I=this._getTypeName(O[0]),D;return I===l?O[0]:I===c&&(D=+O[0],!isNaN(D))?D:null},_functionNotNull:function(O){for(var I=0;I<O.length;I++)if(this._getTypeName(O[I])!==y)return O[I];return null},_functionSort:function(O){var I=O[0].slice(0);return I.sort(),I},_functionSortBy:function(O){var I=O[0].slice(0);if(I.length===0)return I;var D=this._interpreter,ae=O[1],he=this._getTypeName(D.visit(ae,I[0]));if([l,c].indexOf(he)<0)throw new Error("TypeError");for(var ke=this,oe=[],Me=0;Me<I.length;Me++)oe.push([Me,I[Me]]);oe.sort(function(Tt,kt){var Ee=D.visit(ae,Tt[1]),It=D.visit(ae,kt[1]);if(ke._getTypeName(Ee)!==he)throw new Error("TypeError: expected "+he+", received "+ke._getTypeName(Ee));if(ke._getTypeName(It)!==he)throw new Error("TypeError: expected "+he+", received "+ke._getTypeName(It));return Ee>It?1:Ee<It?-1:Tt[0]-kt[0]});for(var Ye=0;Ye<oe.length;Ye++)I[Ye]=oe[Ye][1];return I},_functionMaxBy:function(O){for(var I=O[1],D=O[0],ae=this.createKeyFunction(I,[l,c]),he=-1/0,ke,oe,Me=0;Me<D.length;Me++)oe=ae(D[Me]),oe>he&&(he=oe,ke=D[Me]);return ke},_functionMinBy:function(O){for(var I=O[1],D=O[0],ae=this.createKeyFunction(I,[l,c]),he=1/0,ke,oe,Me=0;Me<D.length;Me++)oe=ae(D[Me]),oe<he&&(he=oe,ke=D[Me]);return ke},createKeyFunction:function(O,I){var D=this,ae=this._interpreter,he=function(ke){var oe=ae.visit(O,ke);if(I.indexOf(D._getTypeName(oe))<0){var Me="TypeError: expected one of "+I+", received "+D._getTypeName(oe);throw new Error(Me)}return oe};return he}};function bt(O){var I=new Ve,D=I.parse(O);return D}function nt(O){var I=new Ze;return I.tokenize(O)}function Ne(O,I){var D=new Ve,ae=new pt,he=new Ie(ae);ae._interpreter=he;var ke=D.parse(I);return he.search(ke,O)}e.tokenize=nt,e.compile=bt,e.search=Ne,e.strictDeepEqual=i})(t)}(Gv)),Gv}eG();class tG{add(e,n,r){if(typeof arguments[0]!="string")for(let i in arguments[0])this.add(i,arguments[0][i],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(i){this[i]=this[i]||[],n&&this[i][r?"unshift":"push"](n)},this)}run(e,n){this[e]=this[e]||[],this[e].forEach(function(r){r.call(n&&n.context?n.context:n,n)})}}class nG{constructor(e){this.jsep=e,this.registered={}}register(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(i=>{if(typeof i!="object"||!i.name||!i.init)throw new Error("Invalid JSEP plugin format");this.registered[i.name]||(i.init(this.jsep),this.registered[i.name]=i)})}}class Se{static get version(){return"1.4.0"}static toString(){return"JavaScript Expression Parser (JSEP) v"+Se.version}static addUnaryOp(e){return Se.max_unop_len=Math.max(e.length,Se.max_unop_len),Se.unary_ops[e]=1,Se}static addBinaryOp(e,n,r){return Se.max_binop_len=Math.max(e.length,Se.max_binop_len),Se.binary_ops[e]=n,r?Se.right_associative.add(e):Se.right_associative.delete(e),Se}static addIdentifierChar(e){return Se.additional_identifier_chars.add(e),Se}static addLiteral(e,n){return Se.literals[e]=n,Se}static removeUnaryOp(e){return delete Se.unary_ops[e],e.length===Se.max_unop_len&&(Se.max_unop_len=Se.getMaxKeyLen(Se.unary_ops)),Se}static removeAllUnaryOps(){return Se.unary_ops={},Se.max_unop_len=0,Se}static removeIdentifierChar(e){return Se.additional_identifier_chars.delete(e),Se}static removeBinaryOp(e){return delete Se.binary_ops[e],e.length===Se.max_binop_len&&(Se.max_binop_len=Se.getMaxKeyLen(Se.binary_ops)),Se.right_associative.delete(e),Se}static removeAllBinaryOps(){return Se.binary_ops={},Se.max_binop_len=0,Se}static removeLiteral(e){return delete Se.literals[e],Se}static removeAllLiterals(){return Se.literals={},Se}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(e){this.expr=e,this.index=0}static parse(e){return new Se(e).parse()}static getMaxKeyLen(e){return Math.max(0,...Object.keys(e).map(n=>n.length))}static isDecimalDigit(e){return e>=48&&e<=57}static binaryPrecedence(e){return Se.binary_ops[e]||0}static isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||e>=128&&!Se.binary_ops[String.fromCharCode(e)]||Se.additional_identifier_chars.has(String.fromCharCode(e))}static isIdentifierPart(e){return Se.isIdentifierStart(e)||Se.isDecimalDigit(e)}throwError(e){const n=new Error(e+" at character "+this.index);throw n.index=this.index,n.description=e,n}runHook(e,n){if(Se.hooks[e]){const r={context:this,node:n};return Se.hooks.run(e,r),r.node}return n}searchHook(e){if(Se.hooks[e]){const n={context:this};return Se.hooks[e].find(function(r){return r.call(n.context,n),n.node}),n.node}}gobbleSpaces(){let e=this.code;for(;e===Se.SPACE_CODE||e===Se.TAB_CODE||e===Se.LF_CODE||e===Se.CR_CODE;)e=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");const e=this.gobbleExpressions(),n=e.length===1?e[0]:{type:Se.COMPOUND,body:e};return this.runHook("after-all",n)}gobbleExpressions(e){let n=[],r,i;for(;this.index<this.expr.length;)if(r=this.code,r===Se.SEMCOL_CODE||r===Se.COMMA_CODE)this.index++;else if(i=this.gobbleExpression())n.push(i);else if(this.index<this.expr.length){if(r===e)break;this.throwError('Unexpected "'+this.char+'"')}return n}gobbleExpression(){const e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}gobbleBinaryOp(){this.gobbleSpaces();let e=this.expr.substr(this.index,Se.max_binop_len),n=e.length;for(;n>0;){if(Se.binary_ops.hasOwnProperty(e)&&(!Se.isIdentifierStart(this.code)||this.index+e.length<this.expr.length&&!Se.isIdentifierPart(this.expr.charCodeAt(this.index+e.length))))return this.index+=n,e;e=e.substr(0,--n)}return!1}gobbleBinaryExpression(){let e,n,r,i,s,o,a,l,f;if(o=this.gobbleToken(),!o||(n=this.gobbleBinaryOp(),!n))return o;for(s={value:n,prec:Se.binaryPrecedence(n),right_a:Se.right_associative.has(n)},a=this.gobbleToken(),a||this.throwError("Expected expression after "+n),i=[o,s,a];n=this.gobbleBinaryOp();){if(r=Se.binaryPrecedence(n),r===0){this.index-=n.length;break}s={value:n,prec:r,right_a:Se.right_associative.has(n)},f=n;const c=d=>s.right_a&&d.right_a?r>d.prec:r<=d.prec;for(;i.length>2&&c(i[i.length-2]);)a=i.pop(),n=i.pop().value,o=i.pop(),e={type:Se.BINARY_EXP,operator:n,left:o,right:a},i.push(e);e=this.gobbleToken(),e||this.throwError("Expected expression after "+f),i.push(s,e)}for(l=i.length-1,e=i[l];l>1;)e={type:Se.BINARY_EXP,operator:i[l-1].value,left:i[l-2],right:e},l-=2;return e}gobbleToken(){let e,n,r,i;if(this.gobbleSpaces(),i=this.searchHook("gobble-token"),i)return this.runHook("after-token",i);if(e=this.code,Se.isDecimalDigit(e)||e===Se.PERIOD_CODE)return this.gobbleNumericLiteral();if(e===Se.SQUOTE_CODE||e===Se.DQUOTE_CODE)i=this.gobbleStringLiteral();else if(e===Se.OBRACK_CODE)i=this.gobbleArray();else{for(n=this.expr.substr(this.index,Se.max_unop_len),r=n.length;r>0;){if(Se.unary_ops.hasOwnProperty(n)&&(!Se.isIdentifierStart(this.code)||this.index+n.length<this.expr.length&&!Se.isIdentifierPart(this.expr.charCodeAt(this.index+n.length)))){this.index+=r;const s=this.gobbleToken();return s||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:Se.UNARY_EXP,operator:n,argument:s,prefix:!0})}n=n.substr(0,--r)}Se.isIdentifierStart(e)?(i=this.gobbleIdentifier(),Se.literals.hasOwnProperty(i.name)?i={type:Se.LITERAL,value:Se.literals[i.name],raw:i.name}:i.name===Se.this_str&&(i={type:Se.THIS_EXP})):e===Se.OPAREN_CODE&&(i=this.gobbleGroup())}return i?(i=this.gobbleTokenProperty(i),this.runHook("after-token",i)):this.runHook("after-token",!1)}gobbleTokenProperty(e){this.gobbleSpaces();let n=this.code;for(;n===Se.PERIOD_CODE||n===Se.OBRACK_CODE||n===Se.OPAREN_CODE||n===Se.QUMARK_CODE;){let r;if(n===Se.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==Se.PERIOD_CODE)break;r=!0,this.index+=2,this.gobbleSpaces(),n=this.code}this.index++,n===Se.OBRACK_CODE?(e={type:Se.MEMBER_EXP,computed:!0,object:e,property:this.gobbleExpression()},e.property||this.throwError('Unexpected "'+this.char+'"'),this.gobbleSpaces(),n=this.code,n!==Se.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):n===Se.OPAREN_CODE?e={type:Se.CALL_EXP,arguments:this.gobbleArguments(Se.CPAREN_CODE),callee:e}:(n===Se.PERIOD_CODE||r)&&(r&&this.index--,this.gobbleSpaces(),e={type:Se.MEMBER_EXP,computed:!1,object:e,property:this.gobbleIdentifier()}),r&&(e.optional=!0),this.gobbleSpaces(),n=this.code}return e}gobbleNumericLiteral(){let e="",n,r;for(;Se.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(this.code===Se.PERIOD_CODE)for(e+=this.expr.charAt(this.index++);Se.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(n=this.char,n==="e"||n==="E"){for(e+=this.expr.charAt(this.index++),n=this.char,(n==="+"||n==="-")&&(e+=this.expr.charAt(this.index++));Se.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);Se.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+e+this.char+")")}return r=this.code,Se.isIdentifierStart(r)?this.throwError("Variable names cannot start with a number ("+e+this.char+")"):(r===Se.PERIOD_CODE||e.length===1&&e.charCodeAt(0)===Se.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:Se.LITERAL,value:parseFloat(e),raw:e}}gobbleStringLiteral(){let e="";const n=this.index,r=this.expr.charAt(this.index++);let i=!1;for(;this.index<this.expr.length;){let s=this.expr.charAt(this.index++);if(s===r){i=!0;break}else if(s==="\\")switch(s=this.expr.charAt(this.index++),s){case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=s}else e+=s}return i||this.throwError('Unclosed quote after "'+e+'"'),{type:Se.LITERAL,value:e,raw:this.expr.substring(n,this.index)}}gobbleIdentifier(){let e=this.code,n=this.index;for(Se.isIdentifierStart(e)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(e=this.code,Se.isIdentifierPart(e));)this.index++;return{type:Se.IDENTIFIER,name:this.expr.slice(n,this.index)}}gobbleArguments(e){const n=[];let r=!1,i=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let s=this.code;if(s===e){r=!0,this.index++,e===Se.CPAREN_CODE&&i&&i>=n.length&&this.throwError("Unexpected token "+String.fromCharCode(e));break}else if(s===Se.COMMA_CODE){if(this.index++,i++,i!==n.length){if(e===Se.CPAREN_CODE)this.throwError("Unexpected token ,");else if(e===Se.CBRACK_CODE)for(let o=n.length;o<i;o++)n.push(null)}}else if(n.length!==i&&i!==0)this.throwError("Expected comma");else{const o=this.gobbleExpression();(!o||o.type===Se.COMPOUND)&&this.throwError("Expected comma"),n.push(o)}}return r||this.throwError("Expected "+String.fromCharCode(e)),n}gobbleGroup(){this.index++;let e=this.gobbleExpressions(Se.CPAREN_CODE);if(this.code===Se.CPAREN_CODE)return this.index++,e.length===1?e[0]:e.length?{type:Se.SEQUENCE_EXP,expressions:e}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:Se.ARRAY_EXP,elements:this.gobbleArguments(Se.CBRACK_CODE)}}}const rG=new tG;Object.assign(Se,{hooks:rG,plugins:new nG(Se),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"??":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10,"**":11},right_associative:new Set(["**"]),additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});Se.max_unop_len=Se.getMaxKeyLen(Se.unary_ops);Se.max_binop_len=Se.getMaxKeyLen(Se.binary_ops);const hl=t=>new Se(t).parse(),iG=Object.getOwnPropertyNames(class{});Object.getOwnPropertyNames(Se).filter(t=>!iG.includes(t)&&hl[t]===void 0).forEach(t=>{hl[t]=Se[t]});hl.Jsep=Se;const sG="ConditionalExpression";var oG={name:"ternary",init(t){t.hooks.add("after-expression",function(n){if(n.node&&this.code===t.QUMARK_CODE){this.index++;const r=n.node,i=this.gobbleExpression();if(i||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===t.COLON_CODE){this.index++;const s=this.gobbleExpression();if(s||this.throwError("Expected expression"),n.node={type:sG,test:r,consequent:i,alternate:s},r.operator&&t.binary_ops[r.operator]<=.9){let o=r;for(;o.right.operator&&t.binary_ops[o.right.operator]<=.9;)o=o.right;n.node.test=o.right,o.right=n.node,n.node=r}}else this.throwError("Expected :")}})}};hl.plugins.register(oG);const cS=47,aG=92;var lG={name:"regex",init(t){t.hooks.add("gobble-token",function(n){if(this.code===cS){const r=++this.index;let i=!1;for(;this.index<this.expr.length;){if(this.code===cS&&!i){const s=this.expr.slice(r,this.index);let o="";for(;++this.index<this.expr.length;){const l=this.code;if(l>=97&&l<=122||l>=65&&l<=90||l>=48&&l<=57)o+=this.char;else break}let a;try{a=new RegExp(s,o)}catch(l){this.throwError(l.message)}return n.node={type:t.LITERAL,value:a,raw:this.expr.slice(r-1,this.index)},n.node=this.gobbleTokenProperty(n.node),n.node}this.code===t.OBRACK_CODE?i=!0:i&&this.code===t.CBRACK_CODE&&(i=!1),this.index+=this.code===aG?2:1}this.throwError("Unclosed Regex")}})}};const Jv=43,uG=45,Ou={name:"assignment",assignmentOperators:new Set(["=","*=","**=","/=","%=","+=","-=","<<=",">>=",">>>=","&=","^=","|=","||=","&&=","??="]),updateOperators:[Jv,uG],assignmentPrecedence:.9,init(t){const e=[t.IDENTIFIER,t.MEMBER_EXP];Ou.assignmentOperators.forEach(r=>t.addBinaryOp(r,Ou.assignmentPrecedence,!0)),t.hooks.add("gobble-token",function(i){const s=this.code;Ou.updateOperators.some(o=>o===s&&o===this.expr.charCodeAt(this.index+1))&&(this.index+=2,i.node={type:"UpdateExpression",operator:s===Jv?"++":"--",argument:this.gobbleTokenProperty(this.gobbleIdentifier()),prefix:!0},(!i.node.argument||!e.includes(i.node.argument.type))&&this.throwError(`Unexpected ${i.node.operator}`))}),t.hooks.add("after-token",function(i){if(i.node){const s=this.code;Ou.updateOperators.some(o=>o===s&&o===this.expr.charCodeAt(this.index+1))&&(e.includes(i.node.type)||this.throwError(`Unexpected ${i.node.operator}`),this.index+=2,i.node={type:"UpdateExpression",operator:s===Jv?"++":"--",argument:i.node,prefix:!1})}}),t.hooks.add("after-expression",function(i){i.node&&n(i.node)});function n(r){Ou.assignmentOperators.has(r.operator)?(r.type="AssignmentExpression",n(r.left),n(r.right)):r.operator||Object.values(r).forEach(i=>{i&&typeof i=="object"&&n(i)})}}};hl.plugins.register(lG,Ou);hl.addUnaryOp("typeof");hl.addLiteral("null",null);hl.addLiteral("undefined",void 0);const cG=o3({String:Ge.string,Number:Ge.number,"True False":Ge.bool,PropertyName:Ge.propertyName,Null:Ge.null,",":Ge.separator,"[ ]":Ge.squareBracket,"{ }":Ge.brace}),fG=pm.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[cG],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),dG=()=>t=>{try{JSON.parse(t.state.doc.toString())}catch(e){if(!(e instanceof SyntaxError))throw e;const n=hG(e,t.state.doc);return[{from:n,message:e.message,severity:"error",to:n}]}return[]};function hG(t,e){let n;return(n=t.message.match(/at position (\d+)/))?Math.min(+n[1],e.length):(n=t.message.match(/at line (\d+) column (\d+)/))?Math.min(e.line(+n[1]).from+ +n[2]-1,e.length):0}const JR=em.define({name:"json",parser:fG.configure({props:[BM.add({Object:Q2({except:/^\s*\}/}),Array:Q2({except:/^\s*\]/})}),UM.add({"Object Array":uq})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function YR(){return new ZB(JR)}const see=Object.freeze(Object.defineProperty({__proto__:null,json:YR,jsonLanguage:JR,jsonParseLinter:dG},Symbol.toStringTag,{value:"Module"}));function pG(t,e=t.state){const n=new Set;for(const{from:r,to:i}of t.visibleRanges){let s=r;for(;s<=i;){const o=e.doc.lineAt(s);n.has(o)||n.add(o),s=o.to+1}}return n}function $b(t){const e=t.selection.main.head;return t.doc.lineAt(e)}function fS(t,e){let n=0;e:for(let r=0;r<t.length;r++)switch(t[r]){case" ":case" ":{n+=1;continue e}case"	":{n+=e-n%e;continue e}case"\r":continue e;default:break e}return n}const wm=at.define({combine(t){return Js(t,{highlightActiveBlock:!0,hideFirstIndent:!1,markerType:"fullScope",thickness:1})}});class mG{constructor(e,n,r,i){this.lines=e,this.state=n,this.map=new Map,this.unitWidth=r,this.markerType=i;for(const s of this.lines)this.add(s);this.state.facet(wm).highlightActiveBlock&&this.findAndSetActiveLines()}has(e){return this.map.has(typeof e=="number"?e:e.number)}get(e){const n=this.map.get(typeof e=="number"?e:e.number);if(!n)throw new Error("Line not found in indentation map");return n}set(e,n,r){const i=!e.text.trim().length,s={line:e,col:n,level:r,empty:i};return this.map.set(s.line.number,s),s}add(e){if(this.has(e))return this.get(e);if(!e.length||!e.text.trim().length){if(e.number===1)return this.set(e,0,0);if(e.number===this.state.doc.lines){const o=this.closestNonEmpty(e,-1);return this.set(e,0,o.level)}const i=this.closestNonEmpty(e,-1),s=this.closestNonEmpty(e,1);return i.level>=s.level&&this.markerType!=="codeOnly"?this.set(e,0,i.level):i.empty&&i.level===0&&s.level!==0?this.set(e,0,0):s.level>i.level?this.set(e,0,i.level+1):this.set(e,0,s.level)}const n=fS(e.text,this.state.tabSize),r=Math.floor(n/this.unitWidth);return this.set(e,n,r)}closestNonEmpty(e,n){let r=e.number+n;for(;n===-1?r>=1:r<=this.state.doc.lines;){if(this.has(r)){const o=this.get(r);if(!o.empty)return o}const s=this.state.doc.line(r);if(s.text.trim().length){const o=fS(s.text,this.state.tabSize),a=Math.floor(o/this.unitWidth);return this.set(s,o,a)}r+=n}const i=this.state.doc.line(n===-1?1:this.state.doc.lines);return this.set(i,0,0)}findAndSetActiveLines(){const e=$b(this.state);if(!this.has(e))return;let n=this.get(e);if(this.has(n.line.number+1)){const s=this.get(n.line.number+1);s.level>n.level&&(n=s)}if(this.has(n.line.number-1)){const s=this.get(n.line.number-1);s.level>n.level&&(n=s)}if(n.level===0)return;n.active=n.level;let r,i;for(r=n.line.number;r>1;r--){if(!this.has(r-1))continue;const s=this.get(r-1);if(s.level<n.level)break;s.active=n.level}for(i=n.line.number;i<this.state.doc.lines;i++){if(!this.has(i+1))continue;const s=this.get(i+1);if(s.level<n.level)break;s.active=n.level}}}function gG(t){const e={light:"#F0F1F2",dark:"#2B3245",activeLight:"#E4E5E6",activeDark:"#3C445C"};let n=e;return t&&(n=Object.assign(Object.assign({},e),t)),tt.baseTheme({"&light":{"--indent-marker-bg-color":n.light,"--indent-marker-active-bg-color":n.activeLight},"&dark":{"--indent-marker-bg-color":n.dark,"--indent-marker-active-bg-color":n.activeDark},".cm-line":{position:"relative"},".cm-indent-markers::before":{content:'""',position:"absolute",top:0,left:"2px",right:0,bottom:0,background:"var(--indent-markers)",pointerEvents:"none",zIndex:"-1"}})}function sp(t,e,n,r,i){return`${`repeating-linear-gradient(to right, var(${t}) 0 ${e}px, transparent ${e}px ${n}ch)`} ${r*n}.5ch/calc(${n*i}ch - 1px) no-repeat`}function vG(t,e,n,r,i){const{level:s,active:o}=t;if(i=i??r,n&&s===0)return[];const a=n?1:0,l=[];if(o!==void 0){const f=o-a-1;f>0&&l.push(sp("--indent-marker-bg-color",r,e,a,f)),l.push(sp("--indent-marker-active-bg-color",i,e,o-1,1)),o!==s&&l.push(sp("--indent-marker-bg-color",r,e,o,s-o))}else l.push(sp("--indent-marker-bg-color",r,e,a,s-a));return l.join(",")}class bG{constructor(e){this.view=e,this.unitWidth=bo(e.state),this.currentLineNumber=$b(e.state).number,this.generate(e.state)}update(e){const n=bo(e.state),r=n!==this.unitWidth;r&&(this.unitWidth=n);const i=$b(e.state).number,s=i!==this.currentLineNumber;this.currentLineNumber=i;const o=e.state.facet(wm).highlightActiveBlock&&s;(e.docChanged||e.viewportChanged||r||o)&&this.generate(e.state)}generate(e){const n=new Ho,r=pG(this.view,e),{hideFirstIndent:i,markerType:s,thickness:o,activeThickness:a}=e.facet(wm),l=new mG(r,e,this.unitWidth,s);for(const f of r){const c=l.get(f.number);if(!(c!=null&&c.level))continue;const d=vG(c,this.unitWidth,i,o,a);n.add(f.from,f.from,xt.line({class:"cm-indent-markers",attributes:{style:`--indent-markers: ${d}`}}))}this.decorations=n.finish()}}function yG(t={}){return[wm.of(t),gG(t.colors),Jr.fromClass(bG,{decorations:e=>e.decorations})]}var dS,xG=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],wG=["mainAxis","crossAxis","limiter"];function QR(t,e){if(t==null)return{};var n,r,i=function(o,a){if(o==null)return{};var l={};for(var f in o)if({}.hasOwnProperty.call(o,f)){if(a.indexOf(f)!==-1)continue;l[f]=o[f]}return l}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(n),!0).forEach(function(r){jG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jG(t,e,n){return(e=function(r){var i=function(s,o){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var l=a.call(s,o);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(s)}(r,"string");return typeof i=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pS(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(f){return void n(f)}a.done?e(l):Promise.resolve(l).then(r,i)}function Lt(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){pS(s,r,i,o,a,"next",l)}function a(l){pS(s,r,i,o,a,"throw",l)}o(void 0)})}}typeof window<"u"&&((dS=window).__svelte||(dS.__svelte={v:new Set})).v.add("5");var Ec=!1;Ec=!0;var Ki=Symbol(),kG=!1,$d=32,Yv=128,Bo=256,Nb=512,Zi=1024,Mc=2048,Pc=4096,Xa=8192,bx=16384,Ng=65536,SG=1<<17,CG=1<<20,Za=Symbol("$state"),XR=Symbol("legacy props"),_G=Symbol(""),Nd=Array.isArray,AG=Array.prototype.indexOf,Ib=Array.from,OG=Object.defineProperty,ya=Object.getOwnPropertyDescriptor,ZR=Object.getOwnPropertyDescriptors,EG=Object.prototype,MG=Array.prototype,yx=Object.getPrototypeOf;function sf(t){return typeof t=="function"}function PG(t){return t()}function jm(t){for(var e=0;e<t.length;e++)t[e]()}var Qf=[],Qv=[];function eT(){var t=Qf;Qf=[],jm(t)}function Ig(t){Qf.length===0&&queueMicrotask(eT),Qf.push(t)}function mS(){var t;Qf.length>0&&eT(),Qv.length>0&&(t=Qv,Qv=[],jm(t))}function tT(t){return t===this.v}function xx(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function RG(t,e){return t!==e}function wx(t){return!xx(t,this.v)}function rs(t,e){return{f:0,v:t,reactions:null,equals:tT,rv:0,wv:0}}function jx(t){var e,n,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=rs(t);return r||(i.equals=wx),Ec&&Xn!==null&&Xn.l!==null&&((n=(e=Xn.l).s)!==null&&n!==void 0?n:e.s=[]).push(i),i}function Y(t){return function(e){return wr!==null&&!ro&&2&wr.f&&(qo===null?qo=[e]:qo.push(e)),e}(jx(t,arguments.length>1&&arguments[1]!==void 0&&arguments[1]))}function xs(t,e){return _(t,Jo(()=>u(t))),e}function _(t,e){return wr!==null&&!ro&&Ic()&&18&wr.f&&(qo===null||!qo.includes(t))&&function(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}(),Db(t,e)}function Db(t,e){return t.equals(e)||(t.v,t.v=e,t.wv=uT(),nT(t,Mc),Ic()&&Er!==null&&Er.f&Zi&&!(96&Er.f)&&(fa===null?function(n){fa=n}([t]):fa.push(t))),e}function gS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=u(t),r=e===1?n++:n--;return _(t,n),r}function nT(t,e){var n=t.reactions;if(n!==null)for(var r=Ic(),i=n.length,s=0;s<i;s++){var o=n[s],a=o.f;a&Mc||(r||o!==Er)&&(yo(o,e),1280&a&&(2&a?nT(o,Pc):qg(o)))}}function Xf(t){var e=2050,n=wr!==null&&2&wr.f?wr:null;return Er===null||n!==null&&n.f&Bo?e|=Bo:Er.f|=CG,{ctx:Xn,deps:null,effects:null,equals:tT,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:n??Er}}function $e(t){var e=Xf(t);return e.equals=wx,e}function rT(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)Ca(e[n])}}function iT(t){var e=function(n){var r,i=Er;ml(function(s){for(var o=s.parent;o!==null;){if(!(2&o.f))return o;o=o.parent}return null}(n));try{rT(n),r=fT(n)}finally{ml(i)}return r}(t);yo(t,(Ka||t.f&Bo)&&t.deps!==null?Pc:Zi),t.equals(e)||(t.v=e,t.wv=uT())}var xa,sT,oT,aT;function Eu(t){if(typeof t!="object"||t===null||Za in t)return t;var e=yx(t);if(e!==EG&&e!==MG)return t;var n=new Map,r=Nd(t),i=rs(0);return r&&n.set("length",rs(t.length)),new Proxy(t,{defineProperty(s,o,a){"value"in a&&a.configurable!==!1&&a.enumerable!==!1&&a.writable!==!1||function(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}();var l=n.get(o);return l===void 0?(l=rs(a.value),n.set(o,l)):_(l,Eu(a.value)),!0},deleteProperty(s,o){var a=n.get(o);if(a===void 0)o in s&&n.set(o,rs(Ki));else{if(r&&typeof o=="string"){var l=n.get("length"),f=Number(o);Number.isInteger(f)&&f<l.v&&_(l,f)}_(a,Ki),vS(i)}return!0},get(s,o,a){var l;if(o===Za)return t;var f=n.get(o),c=o in s;if(f===void 0&&(!c||(l=ya(s,o))!==null&&l!==void 0&&l.writable)&&(f=rs(Eu(c?s[o]:Ki)),n.set(o,f)),f!==void 0){var d=u(f);return d===Ki?void 0:d}return Reflect.get(s,o,a)},getOwnPropertyDescriptor(s,o){var a=Reflect.getOwnPropertyDescriptor(s,o);if(a&&"value"in a){var l=n.get(o);l&&(a.value=u(l))}else if(a===void 0){var f=n.get(o),c=f==null?void 0:f.v;if(f!==void 0&&c!==Ki)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return a},has(s,o){var a;if(o===Za)return!0;var l=n.get(o),f=l!==void 0&&l.v!==Ki||Reflect.has(s,o);return(l!==void 0||Er!==null&&(!f||(a=ya(s,o))!==null&&a!==void 0&&a.writable))&&(l===void 0&&(l=rs(f?Eu(s[o]):Ki),n.set(o,l)),u(l)===Ki)?!1:f},set(s,o,a,l){var f,c=n.get(o),d=o in s;if(r&&o==="length")for(var h=a;h<c.v;h+=1){var m=n.get(h+"");m!==void 0?_(m,Ki):h in s&&(m=rs(Ki),n.set(h+"",m))}c===void 0?(!d||(f=ya(s,o))!==null&&f!==void 0&&f.writable)&&(_(c=rs(void 0),Eu(a)),n.set(o,c)):(d=c.v!==Ki,_(c,Eu(a)));var p=Reflect.getOwnPropertyDescriptor(s,o);if(p!=null&&p.set&&p.set.call(l,a),!d){if(r&&typeof o=="string"){var y=n.get("length"),g=Number(o);Number.isInteger(g)&&g>=y.v&&_(y,g+1)}vS(i)}return!0},ownKeys(s){u(i);var o=Reflect.ownKeys(s).filter(f=>{var c=n.get(f);return c===void 0||c.v!==Ki});for(var[a,l]of n)l.v===Ki||a in s||o.push(a);return o},setPrototypeOf(){(function(){throw new Error("https://svelte.dev/e/state_prototype_fixed")})()}})}function vS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;_(t,t.v+e)}function Dg(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return document.createTextNode(t)}function ws(t){return oT.call(t)}function Lg(t){return aT.call(t)}function Q(t,e){return ws(t)}function st(t,e){var n=ws(t);return n instanceof Comment&&n.data===""?Lg(n):n}function le(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=t;e--;)n=Lg(n);return n}var op=!1,km=!1,Sm=null,Tp=!1,kx=!1;function bS(t){kx=t}var Cf=[],wr=null,ro=!1;function pl(t){wr=t}var Er=null;function ml(t){Er=t}var qo=null,Gi=null,gs=0,fa=null,lT=1,Cm=0,Ka=!1;function uT(){return++lT}function Rc(t){var e=t.f;if(e&Mc)return!0;if(e&Pc){var n=t.deps,r=!!(e&Bo);if(n!==null){var i,s,o=!!(e&Nb),a=r&&Er!==null&&!Ka,l=n.length;if(o||a){var f=t,c=f.parent;for(i=0;i<l;i++){var d,h,m;s=n[i],(o||(d=s)===null||d===void 0||(d=d.reactions)===null||d===void 0||!d.includes(f))&&((m=(h=s).reactions)!==null&&m!==void 0?m:h.reactions=[]).push(f)}o&&(f.f^=Nb),!a||c===null||c.f&Bo||(f.f^=Bo)}for(i=0;i<l;i++)if(Rc(s=n[i])&&iT(s),s.wv>t.wv)return!0}r&&(Er===null||Ka)||yo(t,Zi)}return!1}function zg(t,e,n,r){if(op){if(n===null&&(op=!1),function(i){return!(i.f&bx||i.parent!==null&&i.parent.f&Yv)}(e))throw t}else n!==null&&(op=!0),function(i,s){for(var o=s;o!==null;){if(o.f&Yv)try{return void o.fn(i)}catch{o.f^=Yv}o=o.parent}throw op=!1,i}(t,e)}function cT(t,e){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=t.reactions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];2&s.f?cT(s,e,!1):e===s&&(n?yo(s,Mc):s.f&Zi&&yo(s,Pc),qg(s))}}function fT(t){var e=Gi,n=gs,r=fa,i=wr,s=Ka,o=qo,a=Xn,l=ro,f=t.f;Gi=null,gs=0,fa=null,Ka=!!(f&Bo)&&(ro||!Tp||wr===null),wr=96&f?null:t,qo=null,yS(t.ctx),ro=!1,Cm++;try{var c=(0,t.fn)(),d=t.deps;if(Gi!==null){var h;if(_m(t,gs),d!==null&&gs>0)for(d.length=gs+Gi.length,h=0;h<Gi.length;h++)d[gs+h]=Gi[h];else t.deps=d=Gi;if(!Ka)for(h=gs;h<d.length;h++){var m,p;((p=(m=d[h]).reactions)!==null&&p!==void 0?p:m.reactions=[]).push(t)}}else d!==null&&gs<d.length&&(_m(t,gs),d.length=gs);if(Ic()&&fa!==null&&!ro&&d!==null&&!(6146&t.f))for(h=0;h<fa.length;h++)cT(fa[h],t);return i!==null&&Cm++,c}finally{Gi=e,gs=n,fa=r,wr=i,Ka=s,qo=o,yS(a),ro=l}}function TG(t,e){var n=e.reactions;if(n!==null){var r=AG.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&2&e.f&&(Gi===null||!Gi.includes(e))&&(yo(e,Pc),768&e.f||(e.f^=Nb),rT(e),_m(e,0))}function _m(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)TG(t,n[r])}function Bg(t){var e=t.f;if(!(e&bx)){yo(t,Zi);var n=Er,r=Xn,i=Tp;Er=t,Tp=!0;try{16&e?function(o){for(var a=o.first;a!==null;){var l=a.next;a.f&$d||Ca(a),a=l}}(t):vT(t),gT(t);var s=fT(t);t.teardown=typeof s=="function"?s:null,t.wv=lT,t.deps}catch(o){zg(o,t,n,r||t.ctx)}finally{Tp=i,Er=n}}}function $G(){try{(function(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")})()}catch(t){if(Sm===null)throw t;zg(t,Sm,null)}}function dT(){try{for(var t=0;Cf.length>0;){t++>1e3&&$G();var e=Cf,n=e.length;Cf=[];for(var r=0;r<n;r++){var i=e[r];i.f&Zi||(i.f^=Zi),NG(IG(i))}}}finally{km=!1,Sm=null}}function NG(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];if(!(24576&r.f))try{Rc(r)&&(Bg(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?bT(r):r.fn=null))}catch(i){zg(i,r,null,r.ctx)}}}function qg(t){km||(km=!0,queueMicrotask(dT));for(var e=Sm=t;e.parent!==null;){var n=(e=e.parent).f;if(96&n){if(!(n&Zi))return;e.f^=Zi}}Cf.push(e)}function IG(t){for(var e=[],n=t.first;n!==null;){var r=n.f,i=!!(r&$d);if(!(i&&r&Zi||r&Xa)){if(4&r)e.push(n);else if(i)n.f^=Zi;else{var s=wr;try{wr=n,Rc(n)&&Bg(n)}catch(l){zg(l,n,null,n.ctx)}finally{wr=s}}var o=n.first;if(o!==null){n=o;continue}}var a=n.parent;for(n=n.next;n===null&&a!==null;)n=a.next,a=a.parent}return e}function Nr(t){for(mS();Cf.length>0;)km=!0,dT(),mS()}function hT(){return(hT=Lt(function*(){yield Promise.resolve(),Nr()})).apply(this,arguments)}function u(t){var e=!!(2&t.f);if(wr===null||ro){if(e&&t.deps===null&&t.effects===null){var n=t,r=n.parent;r===null||r.f&Bo||(n.f^=Bo)}}else{qo!==null&&qo.includes(t)&&function(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}();var i=wr.deps;t.rv<Cm&&(t.rv=Cm,Gi===null&&i!==null&&i[gs]===t?gs++:Gi===null?Gi=[t]:Ka&&Gi.includes(t)||Gi.push(t))}return e&&Rc(n=t)&&iT(n),t.v}function Jo(t){var e=ro;try{return ro=!0,t()}finally{ro=e}}var DG=-7169;function yo(t,e){t.f=t.f&DG|e}function G(t){if(typeof t=="object"&&t&&!(t instanceof EventTarget)){if(Za in t)Lb(t);else if(!Array.isArray(t))for(var e in t){var n=t[e];typeof n=="object"&&n&&Za in n&&Lb(n)}}}function Lb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;if(!(typeof t!="object"||t===null||t instanceof EventTarget||e.has(t))){for(var n in e.add(t),t instanceof Date&&t.getTime(),t)try{Lb(t[n],e)}catch{}var r=yx(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){var i=ZR(r);for(var s in i){var o=i[s].get;if(o)try{o.call(t)}catch{}}}}}function pT(t){Er===null&&wr===null&&function(){throw new Error("https://svelte.dev/e/effect_orphan")}(),wr!==null&&wr.f&Bo&&Er===null&&function(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}(),kx&&function(){throw new Error("https://svelte.dev/e/effect_in_teardown")}()}function Tc(t,e,n){var r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],i=!!(64&t),s=Er,o={ctx:Xn,deps:null,nodes_start:null,nodes_end:null,f:t|Mc,first:null,fn:e,last:null,next:null,parent:i?null:s,prev:null,teardown:null,transitions:null,wv:0};if(n)try{Bg(o),o.f|=32768}catch(f){throw Ca(o),f}else e!==null&&qg(o);if(!(n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&!(1048704&o.f))&&!i&&r&&(s!==null&&function(f,c){var d=c.last;d===null?c.last=c.first=f:(d.next=f,f.prev=d,c.last=f)}(o,s),wr!==null&&2&wr.f)){var a,l=wr;((a=l.effects)!==null&&a!==void 0?a:l.effects=[]).push(o)}return o}function mT(t){var e=Tc(8,null,!1);return yo(e,Zi),e.teardown=t,e}function zb(t){if(pT(),!(Er!==null&&Er.f&$d&&Xn!==null&&!Xn.m))return vi(t);var e,n=Xn;((e=n.e)!==null&&e!==void 0?e:n.e=[]).push({fn:t,effect:Er,reaction:wr})}function vi(t){return Tc(4,t,!1)}function fe(t,e){var n=Xn,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=$c(()=>{t(),r.ran||(r.ran=!0,_(n.l.r2,!0),Jo(e))})}function _n(){var t=Xn;$c(()=>{if(u(t.l.r2)){for(var e of t.l.r1){var n=e.effect;n.f&Zi&&yo(n,Pc),Rc(n)&&Bg(n),e.ran=!1}t.l.r2.v=!1}})}function $c(t){return Tc(8,t,!0)}function qe(t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xf,n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).map(e);return Nc(()=>t(...n.map(u)))}function Nc(t){return Tc(24|(arguments.length>1&&arguments[1]!==void 0?arguments[1]:0),t,!0)}function gl(t){return Tc(40,t,!0,!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])}function gT(t){var e=t.teardown;if(e!==null){var n=kx,r=wr;bS(!0),pl(null);try{e.call(null)}finally{bS(n),pl(r)}}}function vT(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;Ca(n,e),n=r}}function Ca(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!1;if((e||524288&t.f)&&t.nodes_start!==null){for(var r=t.nodes_start,i=t.nodes_end;r!==null;){var s=r===i?null:Lg(r);r.remove(),r=s}n=!0}vT(t,e&&!n),_m(t,0),yo(t,bx);var o=t.transitions;if(o!==null)for(var a of o)a.stop();gT(t);var l=t.parent;l!==null&&l.first!==null&&bT(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function bT(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function dc(t,e){var n=[];Sx(t,n,!0),yT(n,()=>{Ca(t),e&&e()})}function yT(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function Sx(t,e,n){if(!(t.f&Xa)){if(t.f^=Xa,t.transitions!==null)for(var r of t.transitions)(r.is_global||n)&&e.push(r);for(var i=t.first;i!==null;){var s=i.next;Sx(i,e,!!(i.f&Ng||i.f&$d)&&n),i=s}}}function Am(t){xT(t,!0)}function xT(t,e){if(t.f&Xa){t.f^=Xa,t.f&Zi||(t.f^=Zi),Rc(t)&&(yo(t,Mc),qg(t));for(var n=t.first;n!==null;){var r=n.next;xT(n,!!(n.f&Ng||n.f&$d)&&e),n=r}if(t.transitions!==null)for(var i of t.transitions)(i.is_global||e)&&i.in()}}function Id(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}var Xn=null;function yS(t){Xn=t}function Cl(t){return wT().get(t)}function Ct(t){Xn={p:Xn,c:null,e:null,m:!1,s:t,x:null,l:null},Ec&&!(arguments.length>1&&arguments[1]!==void 0&&arguments[1])&&(Xn.l={s:null,u:null,r1:[],r2:rs(!1)})}function _t(t){var e=Xn;if(e!==null){t!==void 0&&(e.x=t);var n=e.e;if(n!==null){var r=Er,i=wr;e.e=null;try{for(var s=0;s<n.length;s++){var o=n[s];ml(o.effect),pl(o.reaction),vi(o.fn)}}finally{ml(r),pl(i)}}Xn=e.p,e.m=!0}return t||{}}function Ic(){return!Ec||Xn!==null&&Xn.l===null}function wT(t){var e,n;return Xn===null&&Id(),(n=(e=Xn).c)!==null&&n!==void 0?n:e.c=new Map(function(r){for(var i=r.p;i!==null;){var s=i.c;if(s!==null)return s;i=i.p}return null}(Xn)||void 0)}var LG=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"],zG={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"},BG=["touchstart","touchmove"];function qG(t){return BG.includes(t)}var xS=!1;function jT(t){var e=wr,n=Er;pl(null),ml(null);try{return t()}finally{pl(e),ml(n)}}function FG(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;t.addEventListener(e,()=>jT(n));var i=t.__on_r;t.__on_r=i?()=>{i(),r(!0)}:()=>r(!0),xS||(xS=!0,document.addEventListener("reset",s=>{Promise.resolve().then(()=>{if(!s.defaultPrevented)for(var o of s.target.elements){var a;(a=o.__on_r)===null||a===void 0||a.call(o)}})},{capture:!0}))}var kT=new Set,Bb=new Set;function ST(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};function i(s){if(r.capture||mf.call(e,s),!s.cancelBubble)return jT(()=>n==null?void 0:n.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Ig(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function Ae(t,e,n,r,i){var s={capture:r,passive:i},o=ST(t,e,n,s);e!==document.body&&e!==window&&e!==document||mT(()=>{e.removeEventListener(t,o,s)})}function mf(t){var e,n=this,r=n.ownerDocument,i=t.type,s=((e=t.composedPath)===null||e===void 0?void 0:e.call(t))||[],o=s[0]||t.target,a=0,l=t.__root;if(l){var f=s.indexOf(l);if(f!==-1&&(n===document||n===window))return void(t.__root=n);var c=s.indexOf(n);if(c===-1)return;f<=c&&(a=f)}if((o=s[a]||t.target)!==n){OG(t,"currentTarget",{configurable:!0,get:()=>o||r});var d=wr,h=Er;pl(null),ml(null);try{for(var m,p=[];o!==null;){var y=o.assignedSlot||o.parentNode||o.host||null;try{var g=o["__"+i];if(g!==void 0&&(!o.disabled||t.target===o))if(Nd(g)){var[b,...v]=g;b.apply(o,[t,...v])}else g.call(o,t)}catch(w){m?p.push(w):m=w}if(t.cancelBubble||y===n||y===null)break;o=y}if(m){var x=function(w){queueMicrotask(()=>{throw w})};for(var j of p)x(j);throw m}}finally{t.__root=n,delete t.currentTarget,pl(d),ml(h)}}}function Cx(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function Zl(t,e){var n=Er;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function be(t,e){var n,r=!!(1&e),i=!!(2&e),s=!t.startsWith("<!>");return()=>{n===void 0&&(n=Cx(s?t:"<!>"+t),r||(n=ws(n)));var o=i||sT?document.importNode(n,!0):n.cloneNode(!0);return r?Zl(ws(o),o.lastChild):Zl(o,o),o}}function _l(t,e){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"svg",i=!t.startsWith("<!>"),s=!!(1&e),o="<".concat(r,">").concat(i?t:"<!>"+t,"</").concat(r,">");return()=>{if(!n){var a=ws(Cx(o));if(s)for(n=document.createDocumentFragment();ws(a);)n.appendChild(ws(a));else n=ws(a)}var l=n.cloneNode(!0);return s?Zl(ws(l),l.lastChild):Zl(l,l),l}}function Bi(){var t=Dg((arguments.length>0&&arguments[0]!==void 0?arguments[0]:"")+"");return Zl(t,t),t}function on(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Dg();return t.append(e,n),Zl(e,n),t}function Z(t,e){t!==null&&t.before(e)}function Rt(t,e){var n,r=e==null?"":typeof e=="object"?e+"":e;r!==((n=t.__t)!==null&&n!==void 0?n:t.__t=t.nodeValue)&&(t.__t=r,t.nodeValue=r+"")}function UG(t,e){return function(n,r){var{target:i,anchor:s,props:o={},events:a,context:l}=r;(function(){if(xa===void 0){xa=window,sT=/Firefox/.test(navigator.userAgent);var m=Element.prototype,p=Node.prototype;oT=ya(p,"firstChild").get,aT=ya(p,"nextSibling").get,m.__click=void 0,m.__className=void 0,m.__attributes=null,m.__styles=null,m.__e=void 0,Text.prototype.__t=void 0}})();var f=new Set,c=m=>{for(var p=0;p<m.length;p++){var y=m[p];if(!f.has(y)){f.add(y);var g=qG(y);i.addEventListener(y,mf,{passive:g});var b=wu.get(y);b===void 0?(document.addEventListener(y,mf,{passive:g}),wu.set(y,1)):wu.set(y,b+1)}}};c(Ib(kT)),Bb.add(c);var d=void 0,h=function(m){var p=Tc(64,m,!0);return function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(g=>{y.outro?dc(p,()=>{Ca(p),g(void 0)}):(Ca(p),g(void 0))})}}(()=>{var m=s??i.appendChild(Dg());return gl(()=>{l&&(Ct({}),Xn.c=l),a&&(o.$$events=a),d=n(m,o)||{},l&&_t()}),()=>{for(var p of f){i.removeEventListener(p,mf);var y=wu.get(p);--y==0?(document.removeEventListener(p,mf),wu.delete(p)):wu.set(p,y)}var g;Bb.delete(c),m!==s&&((g=m.parentNode)===null||g===void 0||g.removeChild(m))}});return qb.set(d,h),d}(t,e)}var wu=new Map,qb=new WeakMap;function we(t,e){var n=t,r=null,i=null,s=Ki,o=!1,a=function(f){o=!0,l(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],f)},l=(f,c)=>{s!==(s=f)&&(s?(r?Am(r):c&&(r=gl(()=>c(n))),i&&dc(i,()=>{i=null})):(i?Am(i):c&&(i=gl(()=>c(n))),r&&dc(r,()=>{r=null})))};Nc(()=>{o=!1,e(a),o||l(null,null)},arguments.length>2&&arguments[2]!==void 0&&arguments[2]?Ng:0)}function CT(t,e,n){var r,i=t,s=Ki,o=Ic()?RG:xx;Nc(()=>{o(s,s=e())&&(r&&dc(r),r=gl(()=>n(i)))})}function ei(t,e){return e}function Ur(t,e,n,r,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,o=t,a={items:new Map,first:null};!(4&e)||(o=t.appendChild(Dg()));var l=null,f=!1,c=$e(()=>{var d=n();return Nd(d)?d:d==null?[]:Ib(d)});Nc(()=>{var d=u(c),h=d.length;f&&h===0||(f=h===0,function(m,p,y,g,b,v,x){var j,w,k,S,M,E,J=!!(8&b),W=!!(3&b),z=m.length,K=p.items,ue=p.first,ne=ue,re=null,me=[],de=[];if(J)for(E=0;E<z;E+=1){var pe;S=v(k=m[E],E),(M=K.get(S))!==void 0&&((pe=M.a)===null||pe===void 0||pe.measure(),(w??(w=new Set)).add(M))}for(E=0;E<z;E+=1)if(S=v(k=m[E],E),(M=K.get(S))!==void 0){var X;if(W&&WG(M,k,E,b),M.e.f&Xa&&(Am(M.e),J&&((X=M.a)===null||X===void 0||X.unfix(),(w??(w=new Set)).delete(M))),M!==ne){if(j!==void 0&&j.has(M)){if(me.length<de.length){var $,ie=de[0];re=ie.prev;var T=me[0],A=me[me.length-1];for($=0;$<me.length;$+=1)wS(me[$],ie,y);for($=0;$<de.length;$+=1)j.delete(de[$]);Ia(p,T.prev,A.next),Ia(p,re,T),Ia(p,A,ie),ne=ie,re=A,E-=1,me=[],de=[]}else j.delete(M),wS(M,ne,y),Ia(p,M.prev,M.next),Ia(p,M,re===null?p.first:re.next),Ia(p,re,M),re=M;continue}for(me=[],de=[];ne!==null&&ne.k!==S;)ne.e.f&Xa||(j??(j=new Set)).add(ne),de.push(ne),ne=ne.next;if(ne===null)continue;M=ne}me.push(M),re=M,ne=M.next}else re=VG(ne?ne.e.nodes_start:y,p,re,re===null?p.first:re.next,k,S,E,g,b,x),K.set(S,re),me=[],de=[],ne=re.next;if(ne!==null||j!==void 0){for(var P=j===void 0?[]:Ib(j);ne!==null;)ne.e.f&Xa||P.push(ne),ne=ne.next;var se=P.length;if(se>0){var te=4&b&&z===0?y:null;if(J){for(E=0;E<se;E+=1){var q;(q=P[E].a)===null||q===void 0||q.measure()}for(E=0;E<se;E+=1){var ge;(ge=P[E].a)===null||ge===void 0||ge.fix()}}(function(V,F,ee,U){for(var H=[],B=F.length,Te=0;Te<B;Te++)Sx(F[Te].e,H,!0);var lt=B>0&&H.length===0&&ee!==null;if(lt){var Ze=ee.parentNode;Ze.textContent="",Ze.append(ee),U.clear(),Ia(V,F[0].prev,F[B-1].next)}yT(H,()=>{for(var Ce=0;Ce<B;Ce++){var Ve=F[Ce];lt||(U.delete(Ve.k),Ia(V,Ve.prev,Ve.next)),Ca(Ve.e,!lt)}})})(p,P,te,K)}}J&&Ig(()=>{if(w!==void 0)for(M of w){var V;(V=M.a)===null||V===void 0||V.apply()}}),Er.first=p.first&&p.first.e,Er.last=re&&re.e}(d,a,o,i,e,r,n),s!==null&&(h===0?l?Am(l):l=gl(()=>s(o)):l!==null&&dc(l,()=>{l=null})),u(c))})}function WG(t,e,n,r){1&r&&Db(t.v,e),2&r?Db(t.i,n):t.i=n}function VG(t,e,n,r,i,s,o,a,l,f){var c=1&l?16&l?rs(i):jx(i):i,d=2&l?rs(o):o,h={i:d,v:c,k:s,a:null,e:null,prev:n,next:r};try{return h.e=gl(()=>a(t,c,d,f),!1),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?e.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function wS(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==r;){var o=Lg(s);i.before(s),s=o}}function Ia(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function _T(t,e,n,r,i){var s,o=t,a="";Nc(()=>{var l;a!==(a=(l=e())!==null&&l!==void 0?l:"")&&(s!==void 0&&(Ca(s),s=void 0),a!==""&&(s=gl(()=>{var f=a+"";n&&(f="<svg>".concat(f,"</svg>"));var c=Cx(f);if((n||r)&&(c=ws(c)),Zl(ws(c),c.lastChild),n||r)for(;ws(c);)o.before(ws(c));else o.before(c)})))})}function zr(t,e,n,r,i){var s,o=(s=e.$$slots)===null||s===void 0?void 0:s[n],a=!1;o===!0&&(o=e[n==="default"?"children":n],a=!0),o===void 0?i!==null&&i(t):o(t,a?()=>r:r)}function AT(t,e,n){var r,i,s=t;Nc(()=>{r!==(r=e())&&(i&&(dc(i),i=null),r&&(i=gl(()=>n(s,r))))},Ng)}function Li(t,e,n){vi(()=>{var r=Jo(()=>e(t,n==null?void 0:n())||{});if(n&&r!=null&&r.update){var i=!1,s={};$c(()=>{var o=n();G(o),i&&xx(s,o)&&(s=o,r.update(o))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function OT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=OT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vl(t){return typeof t=="object"?function(){for(var e,n,r=0,i="",s=arguments.length;r<s;r++)(e=arguments[r])&&(n=OT(e))&&(i&&(i+=" "),i+=n);return i}(t):t??""}var jS=[...` 	
\r\f \v\uFEFF`];function qt(t,e,n,r,i,s){if(t.__className!==n){var o=function(f,c,d){var h=f==null?"":""+f;if(c&&(h=h?h+" "+c:c),d){for(var m in d)if(d[m])h=h?h+" "+m:m;else if(h.length)for(var p=m.length,y=0;(y=h.indexOf(m,y))>=0;){var g=y+p;y!==0&&!jS.includes(h[y-1])||g!==h.length&&!jS.includes(h[g])?y=g:h=(y===0?"":h.substring(0,y))+h.substring(g+1)}}return h===""?null:h}(n,r,s);o==null?t.removeAttribute("class"):e?t.className=o:t.setAttribute("class",o),t.__className=n}else if(s)for(var a in s){var l=!!s[a];i!=null&&l===!!i[a]||t.classList.toggle(a,l)}return s}var Mu=Symbol("class");function eu(t,e){var n,r=(n=t.__attributes)!==null&&n!==void 0?n:t.__attributes={};r.value!==(r.value=e??void 0)&&(t.value!==e||e===0&&t.nodeName==="PROGRESS")&&(t.value=e??"")}function $n(t,e,n,r){var i,s=(i=t.__attributes)!==null&&i!==void 0?i:t.__attributes={};s[e]!==(s[e]=n)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[_G]=n),n==null?t.removeAttribute(e):typeof n!="string"&&ET(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function $p(t,e,n,r){var i,s=arguments.length>4&&arguments[4]!==void 0&&arguments[4],o=arguments.length>5&&arguments[5]!==void 0&&arguments[5],a=e||{},l=t.tagName==="OPTION";for(var f in e)f in n||(n[f]=null);n.class?n.class=vl(n.class):(r||n[Mu])&&(n.class=null);var c,d,h,m,p,y,g=ET(t),b=(i=t.__attributes)!==null&&i!==void 0?i:t.__attributes={},v=function(j){var w=n[j];if(l&&j==="value"&&w==null)return t.value=t.__value="",a[j]=w,0;if(j==="class")return c=t.namespaceURI==="http://www.w3.org/1999/xhtml",qt(t,c,w,r,e==null?void 0:e[Mu],n[Mu]),a[j]=w,a[Mu]=n[Mu],0;if(w===(d=a[j])||(a[j]=w,(h=j[0]+j[1])==="$$"))return 0;if(h==="on"){var k={},S="$$"+j,M=j.slice(2);if(m=function(K){return LG.includes(K)}(M),function(K){return K.endsWith("capture")&&K!=="gotpointercapture"&&K!=="lostpointercapture"}(M)&&(M=M.slice(0,-7),k.capture=!0),!m&&d){if(w!=null)return 0;t.removeEventListener(M,a[S],k),a[S]=null}if(w!=null)if(m)t["__".concat(M)]=w,function(K){for(var ue=0;ue<K.length;ue++)kT.add(K[ue]);for(var ne of Bb)ne(K)}([M]);else{let K=function(ue){a[j].call(this,ue)};a[S]=ST(M,t,K,k)}else m&&(t["__".concat(M)]=void 0)}else if(j==="style"&&w!=null)t.style.cssText=w+"";else if(j==="autofocus")(function(K,ue){if(ue){var ne=document.body;K.autofocus=!0,Ig(()=>{document.activeElement===ne&&K.focus()})}})(t,!!w);else if(o||j!=="__value"&&(j!=="value"||w==null))if(j==="selected"&&l)(function(K,ue){ue?K.hasAttribute("selected")||K.setAttribute("selected",""):K.removeAttribute("selected")})(t,w);else if(p=j,s||(p=function(K){var ue;return K=K.toLowerCase(),(ue=zG[K])!==null&&ue!==void 0?ue:K}(p)),y=p==="defaultValue"||p==="defaultChecked",w!=null||o||y)y||g.includes(p)&&(o||typeof w!="string")?t[p]=w:typeof w!="function"&&$n(t,p,w);else if(b[j]=null,p==="value"||p==="checked"){var E=t,J=e===void 0;if(p==="value"){var W=E.defaultValue;E.removeAttribute(p),E.defaultValue=W,E.value=E.__value=J?W:null}else{var z=E.defaultChecked;E.removeAttribute(p),E.defaultChecked=z,E.checked=!!J&&z}}else t.removeAttribute(j);else t.value=t.__value=w;j==="style"&&"__styles"in t&&(t.__styles={})};for(var x in n)v(x);return a}var kS=new Map;function ET(t){var e,n=kS.get(t.nodeName);if(n)return n;kS.set(t.nodeName,n=[]);for(var r=t,i=Element.prototype;i!==r;){for(var s in e=ZR(r))e[s].set&&n.push(s);r=yx(r)}return n}function Qu(t,e,n,r){var i,s=(i=t.__styles)!==null&&i!==void 0?i:t.__styles={};s[e]!==n&&(s[e]=n,n==null?t.style.removeProperty(e):t.style.setProperty(e,n,""))}function Om(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,r=Ic();FG(t,"input",i=>{var s=i?t.defaultValue:t.value;if(s=Xv(t)?Zv(s):s,n(s),r&&s!==(s=e())){var o=t.selectionStart,a=t.selectionEnd;t.value=s??"",a!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(a,t.value.length))}}),Jo(e)==null&&t.value&&n(Xv(t)?Zv(t.value):t.value),$c(()=>{var i=e();Xv(t)&&i===Zv(t.value)||(t.type!=="date"||i||t.value)&&i!==t.value&&(t.value=i??"")})}function Xv(t){var e=t.type;return e==="number"||e==="range"}function Zv(t){return t===""?null:+t}function Dt(t,e,n){var r=ya(t,e);r&&r.set&&(t[e]=n,mT(()=>{t[e]=null}))}function SS(t,e){return t===e||(t==null?void 0:t[Za])===e}function jr(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return vi(()=>{var r,i;return $c(()=>{r=i,i=[],Jo(()=>{t!==n(...i)&&(e(t,...i),r&&SS(n(...r),t)&&e(null,...r))})}),()=>{Ig(()=>{i&&SS(n(...i),t)&&e(null,...i)})}}),t}function no(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n[0].stopPropagation(),t==null?void 0:t.apply(this,n)}}function Da(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n[0].preventDefault(),t==null?void 0:t.apply(this,n)}}function Mt(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=Xn,n=e.l.u;if(n){var r,i=()=>G(e.s);if(t){var s=0,o={},a=Xf(()=>{var l=!1,f=e.s;for(var c in f)f[c]!==o[c]&&(o[c]=f[c],l=!0);return l&&s++,s});i=()=>u(a)}n.b.length&&(r=()=>{CS(e,i),jm(n.b)},pT(),$c(r)),zb(()=>{var l=Jo(()=>n.m.map(PG));return()=>{for(var f of l)typeof f=="function"&&f()}}),n.a.length&&zb(()=>{CS(e,i),jm(n.a)})}}function CS(t,e){if(t.l.s)for(var n of t.l.s)u(n);e()}function Fg(t){var e=rs(0);return function(){return arguments.length===1?(_(e,u(e)+1),arguments[0]):(u(e),t())}}function gf(t,e){var n,r=(n=t.$$events)===null||n===void 0?void 0:n[e.type],i=Nd(r)?r.slice():r==null?[]:[r];for(var s of i)s.call(this,e)}function Pi(t){Xn===null&&Id(),Ec&&Xn.l!==null?MT(Xn).m.push(t):zb(()=>{var e=Jo(t);if(typeof e=="function")return e})}function Ks(t){Xn===null&&Id(),Pi(()=>()=>Jo(t))}function HG(){var t=Xn;return t===null&&Id(),(e,n,r)=>{var i,s=(i=t.s.$$events)===null||i===void 0?void 0:i[e];if(s){var o=Nd(s)?s.slice():[s],a=function(f,c){var{bubbles:d=!1,cancelable:h=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new CustomEvent(f,{detail:c,bubbles:d,cancelable:h})}(e,n,r);for(var l of o)l.call(t.x,a);return!a.defaultPrevented}return!0}}function KG(t){Xn===null&&Id(),Xn.l===null&&function(){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}(),MT(Xn).b.push(t)}function MT(t){var e,n=t.l;return(e=n.u)!==null&&e!==void 0?e:n.u={a:[],b:[],m:[]}}var ap=!1,GG={get(t,e){if(!t.exclude.includes(e))return u(t.version),e in t.special?t.special[e]():t.props[e]},set:(t,e,n)=>(e in t.special||(t.special[e]=C({get[e](){return t.props[e]}},e,4)),t.special[e](n),gS(t.version),!0),getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e))return e in t.props?{enumerable:!0,configurable:!0,value:t.props[e]}:void 0},deleteProperty:(t,e)=>(t.exclude.includes(e)||(t.exclude.push(e),gS(t.version)),!0),has:(t,e)=>!t.exclude.includes(e)&&e in t.props,ownKeys:t=>Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))};function lp(t,e){return new Proxy({props:t,exclude:e,special:{},version:rs(0)},GG)}var JG={get(t,e){for(var n=t.props.length;n--;){var r=t.props[n];if(sf(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,n){for(var r=t.props.length;r--;){var i=t.props[r];sf(i)&&(i=i());var s=ya(i,e);if(s&&s.set)return s.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){for(var n=t.props.length;n--;){var r=t.props[n];if(sf(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){var i=ya(r,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(t,e){if(e===Za||e===XR)return!1;for(var n of t.props)if(sf(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){var e=[];for(var n of t.props)for(var r in sf(n)&&(n=n()),n)e.includes(r)||e.push(r);return e}};function el(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Proxy({props:e},JG)}function C(t,e,n,r){var i,s,o,a=!!(1&n),l=!Ec||!!(2&n),f=!!(8&n),c=!!(16&n),d=!1;f?[o,d]=function(M){var E=ap;try{return ap=!1,[M(),ap]}finally{ap=E}}(()=>t[e]):o=t[e];var h,m=Za in t||XR in t,p=f&&((i=(s=ya(t,e))===null||s===void 0?void 0:s.set)!==null&&i!==void 0?i:m&&e in t&&(M=>t[e]=M))||void 0,y=r,g=!0,b=!1,v=()=>(b=!0,g&&(g=!1,y=c?Jo(r):r),y);if(o===void 0&&r!==void 0&&(p&&l&&function(){throw new Error("https://svelte.dev/e/props_invalid_value")}(),o=v(),p&&p(o)),l)h=()=>{var M=t[e];return M===void 0?v():(g=!0,b=!1,M)};else{var x=(a?Xf:$e)(()=>t[e]);x.f|=SG,h=()=>{var M=u(x);return M!==void 0&&(y=void 0),M===void 0?y:M}}if(!(4&n))return h;if(p){var j=t.$$legacy;return function(M,E){return arguments.length>0?(l&&E&&!j&&!d||p(E?h():M),M):h()}}var w=!1,k=jx(o),S=Xf(()=>{var M=h(),E=u(k);return w?(w=!1,E):k.v=M});return a||(S.equals=wx),function(M,E){if(arguments.length>0){var J=E?u(S):l&&f?Eu(M):M;return S.equals(J)||(w=!0,_(k,J),b&&y!==void 0&&(y=J),Jo(()=>u(S))),M}return u(S)}}function fi(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r){var i=function(s){try{if(typeof window<"u"&&window.localStorage!==void 0)return window.localStorage[s]}catch{}}("debug");return i!=null&&i.endsWith("*")?r.startsWith(i.slice(0,-1)):r===i}(t);if(!e)return YG;var n=function(r){for(var i=0,s=0;s<r.length;s++)i=(i<<5)-i+r.charCodeAt(s),i|=0;return _S[Math.abs(i)%_S.length]}(t);return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];console.log("%c".concat(t),"color:".concat(n),...i)}}function YG(){}var _S=["#0000CC","#0099FF","#009400","#8dd200","#CCCC00","#CC9933","#ae04e7","#ff35d7","#FF3333","#FF6600","#FF9933","#FFCC33"],QG=0;function Du(){return++QG}function bi(t){return parseInt(t,10)}function _x(t){return XG.test(t)}var XG=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function Vn(t){return typeof t=="object"&&t!==null&&(t.constructor===void 0||t.constructor.name==="Object")}function Xr(t){return typeof t=="object"&&t!==null&&(t.constructor===void 0||t.constructor.name==="Object"||t.constructor.name==="Array")}function ZG(t){return t===!0||t===!1}function Fb(t){if(typeof t=="number")return t>9466848e5&&isFinite(t)&&Math.floor(t)===t&&!isNaN(new Date(t).valueOf());if(typeof t=="bigint")return Fb(Number(t));try{var e=t&&t.valueOf();if(e!==t)return Fb(e)}catch{return!1}return!1}function PT(t){(up=up||window.document.createElement("div")).style.color="",up.style.color=t;var e=up.style.color;return e!==""?e.replace(/\s+/g,"").toLowerCase():void 0}var up=void 0;function eJ(t){return typeof t=="string"&&t.length<99&&!!PT(t)}function Ax(t,e){if(typeof t=="number"||typeof t=="string"||typeof t=="boolean"||t===void 0)return typeof t;if(typeof t=="bigint")return"number";if(t===null)return"null";if(Array.isArray(t))return"array";if(Vn(t))return"object";var n=e.stringify(t);return n&&_x(n)?"number":n==="true"||n==="false"?"boolean":n==="null"?"null":"unknown"}var tJ=/^https?:\/\/\S+$/;function Ug(t){return typeof t=="string"&&tJ.test(t)}function Dc(t,e){if(t==="")return"";var n=t.trim();return n==="null"?null:n==="true"||n!=="false"&&(_x(n)?e.parse(n):t)}function RT(t){return nJ.test(t)}var nJ=/^-?[0-9]+$/,rJ=[];function AS(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Ub(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n={};if(!Array.isArray(t))throw new TypeError("Array expected");function r(o,a){(!Array.isArray(o)&&!Vn(o)||e&&a.length>0)&&(n[jt(a)]=!0),Vn(o)&&Object.keys(o).forEach(l=>{r(o[l],a.concat(l))})}for(var i=Math.min(t.length,1e4),s=0;s<i;s++)r(t[s],rJ);return Object.keys(n).sort().map(qs)}function TT(t,e,n){if(!(e<=t))for(var r=t;r<e;r++)n(r)}function $T(t,e){return t.length>e?t.slice(0,e):t}function OS(t){return Le({},t)}function ES(t){return Object.values(t)}function MS(t,e,n,r){var i=t.slice(0),s=i.splice(e,n);return i.splice.apply(i,[e+r,0,...s]),i}function iJ(t,e,n){return t.slice(0,e).concat(n).concat(t.slice(e))}function Dd(t,e){try{return e.parse(t)}catch{return e.parse(zo(t))}}function NT(t,e){try{return Dd(t,e)}catch{return}}function Wg(t,e){t=t.replace(DT,"");try{return e(t)}catch{}try{return e("{"+t+"}")}catch{}try{return e("["+t+"]")}catch{}throw new Error("Failed to parse partial JSON")}function IT(t){t=t.replace(DT,"");try{return zo(t)}catch{}try{var e=zo("["+t+"]");return e.substring(1,e.length-1)}catch{}try{var n=zo("{"+t+"}");return n.substring(1,n.length-1)}catch{}throw new Error("Failed to repair partial JSON")}var DT=/,\s*$/;function hc(t,e){var n=RS.exec(e);if(n){var r=bi(n[2]),i=function(m,p){for(var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:m.length,b=0,v=y;v<g;v++)m.charAt(v)===p&&b++;return b}(t,`
`,0,r),s=r-t.lastIndexOf(`
`,r)-1;return{position:r,line:i,column:s,message:e.replace(RS,()=>"line ".concat(i+1," column ").concat(s+1))}}var o=lJ.exec(e),a=o?bi(o[1]):void 0,l=a!==void 0?a-1:void 0,f=uJ.exec(e),c=f?bi(f[1]):void 0,d=c!==void 0?c-1:void 0,h=l!==void 0&&d!==void 0?function(m,p,y){for(var g=m.indexOf(`
`),b=1;b<p&&g!==-1;)g=m.indexOf(`
`,g+1),b++;return g!==-1?g+y+1:void 0}(t,l,d):void 0;return{position:h,line:l,column:d,message:e.replace(/^JSON.parse: /,"").replace(/ of the JSON data$/,"")}}function e0(t){return Vn(t)?t.json!==void 0?t.text!==void 0?'Content must contain either a property "json" or a property "text" but not both':void 0:t.text===void 0?'Content must contain either a property "json" or a property "text"':typeof t.text!="string"?'Content "text" property must be a string containing a JSON document. Did you mean to use the "json" property instead?':void 0:"Content must be an object"}function Zf(t){return Vn(t)&&typeof t.text=="string"}function ed(t){return Vn(t)&&t.json!==void 0}function sJ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:JSON;return Zf(t)?t:{text:n.stringify(t.json,null,e)}}function PS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JSON;return ed(t)?t:{json:e.parse(t.text)}}function Wb(t,e,n){return sJ(t,e,n).text}function oJ(t,e){return aJ(t,e)>e}function aJ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;if(Zf(t))return t.text.length;var n=t.json,r=0;return function i(s){if(Array.isArray(s)){if((r+=s.length-1+2)>e)return;for(var o=0;o<s.length;o++)if(i(s[o]),r>e)return}else if(Vn(s)){var a=Object.keys(s);r+=2+a.length+(a.length-1);for(var l=0;l<a.length;l++){var f=a[l],c=s[f];r+=f.length+2,i(c)}}else r+=typeof s=="string"?s.length+2:String(s).length}(n),r}var RS=/(position|char) (\d+)/,lJ=/line (\d+)/,uJ=/column (\d+)/;function cJ(t,e){return t.parse===e.parse&&t.stringify===e.stringify}var li,rr,io,lo,uo,eo,tl,fJ=/[,:]\S/;function Ox(t){var{escapeControlCharacters:e,escapeUnicodeCharacters:n}=t;return e?n?dJ:hJ:n?pJ:mJ}(function(t){t.text="text",t.tree="tree",t.table="table"})(li||(li={})),function(t){t.after="after",t.inside="inside",t.key="key",t.value="value",t.multi="multi",t.text="text"}(rr||(rr={})),function(t){t.after="after",t.key="key",t.value="value",t.inside="inside"}(io||(io={})),function(t){t.info="info",t.warning="warning",t.error="error"}(lo||(lo={})),function(t){t.key="key",t.value="value"}(uo||(uo={})),function(t){t.asc="asc",t.desc="desc"}(eo||(eo={})),function(t){t.no="no",t.self="self",t.nextInside="nextInside"}(tl||(tl={}));var dJ={escapeValue:t=>LT(qT(String(t))),unescapeValue:t=>FT(zT(t))},hJ={escapeValue:t=>qT(String(t)),unescapeValue:t=>FT(t)},pJ={escapeValue:t=>LT(String(t)),unescapeValue:t=>zT(t)},mJ={escapeValue:t=>String(t),unescapeValue:t=>t};function LT(t){return t.replace(/[^\x20-\x7F]/g,e=>{var n;return e==="\b"||e==="\f"||e===`
`||e==="\r"||e==="	"?e:"\\u"+("000"+((n=e.codePointAt(0))===null||n===void 0?void 0:n.toString(16))).slice(-4)})}function zT(t){return t.replace(/\\u[a-fA-F0-9]{4}/g,e=>{try{var n=JSON.parse('"'+e+'"');return BT[n]||n}catch{return e}})}var BT={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},gJ={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"};function qT(t){return t.replace(/["\b\f\n\r\t\\]/g,e=>BT[e]||e)}function FT(t){return t.replace(/\\["bfnrt\\]/g,e=>gJ[e]||e)}function Vg(t){return typeof t!="string"?String(t):t.endsWith(`
`)?t+`
`:t}function UT(t,e){return Lc(t,n=>n.nodeName.toUpperCase()===e.toUpperCase())}function Ga(t,e,n){return Lc(t,r=>function(i,s,o){return typeof i.getAttribute=="function"&&i.getAttribute(s)===o}(r,e,n))}function Lc(t,e){return!!Ex(t,e)}function Ex(t,e){for(var n=t;n&&!e(n);)n=n.parentNode;return n}function Ld(t){var e,n;return(e=t==null||(n=t.ownerDocument)===null||n===void 0?void 0:n.defaultView)!==null&&e!==void 0?e:void 0}function Mx(t){var e=Ld(t),n=e==null?void 0:e.document.activeElement;return!!n&&Lc(n,r=>r===t)}function WT(t,e){return Ex(t,n=>n.nodeName===e)}function t0(t){return Ga(t,"data-type","selectable-key")?rr.key:Ga(t,"data-type","selectable-value")?rr.value:Ga(t,"data-type","insert-selection-area-inside")?rr.inside:Ga(t,"data-type","insert-selection-area-after")?rr.after:rr.multi}function Vb(t){return encodeURIComponent(jt(t))}function VT(t){var e,n=Ex(t,i=>!(i==null||!i.hasAttribute)&&i.hasAttribute("data-path")),r=(e=n==null?void 0:n.getAttribute("data-path"))!==null&&e!==void 0?e:void 0;return r?qs(decodeURIComponent(r)):void 0}function vJ(t){var{allElements:e,currentElement:n,direction:r,hasPrio:i=()=>!0,margin:s=10}=t,o=Sc(e.filter(function(b){var v=b.getBoundingClientRect();return v.width>0&&v.height>0}),l),a=l(n);function l(b){var v=b.getBoundingClientRect();return{x:v.left+v.width/2,y:v.top+v.height/2,rect:v,element:b}}function f(b,v){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=b.x-v.x,w=(b.y-v.y)*x;return Math.sqrt(j*j+w*w)}var c=b=>f(b,a);if(r==="Left"||r==="Right"){var d=r==="Left"?o.filter(b=>{return v=a,b.rect.left+s<v.rect.left;var v}):o.filter(b=>{return v=a,b.rect.right>v.rect.right+s;var v}),h=d.filter(b=>{return v=b,x=a,Math.abs(v.y-x.y)<s;var v,x}),m=Ru(h,c)||Ru(d,b=>f(b,a,10));return m==null?void 0:m.element}if(r==="Up"||r==="Down"){var p=r==="Up"?o.filter(b=>{return v=a,b.y+s<v.y;var v}):o.filter(b=>{return v=a,b.y>v.y+s;var v}),y=p.filter(b=>i(b.element)),g=Ru(y,c)||Ru(p,c);return g==null?void 0:g.element}}function Px(){var t,e,n,r;return typeof navigator<"u"&&(t=(e=(n=navigator)===null||n===void 0||(n=n.platform)===null||n===void 0?void 0:n.toUpperCase().includes("MAC"))!==null&&e!==void 0?e:(r=navigator)===null||r===void 0||(r=r.userAgentData)===null||r===void 0||(r=r.platform)===null||r===void 0?void 0:r.toUpperCase().includes("MAC"))!==null&&t!==void 0&&t}function _a(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"+",n=[];Rx(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:Px)&&n.push("Ctrl"),t.altKey&&n.push("Alt"),t.shiftKey&&n.push("Shift");var r=t.key.length===1?t.key.toUpperCase():t.key;return r in bJ||n.push(r),n.join(e)}function Rx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Px;return t.ctrlKey||t.metaKey&&e()}var bJ={Ctrl:!0,Command:!0,Control:!0,Alt:!0,Option:!0,Shift:!0};function Nt(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}Nt(`.jse-absolute-popup.svelte-1r8q3m8 {
  position: relative;
  left: 0;
  top: 0;
  width: 0;
  height: 0;
  z-index: 1001;
}
.jse-absolute-popup.svelte-1r8q3m8 .jse-hidden-input:where(.svelte-1r8q3m8) {
  position: fixed;
  left: 0;
  top: 0;
  width: 0;
  height: 0;
  padding: 0;
  margin: 0;
  border: none;
  outline: none;
  overflow: hidden;
}
.jse-absolute-popup.svelte-1r8q3m8 .jse-absolute-popup-content:where(.svelte-1r8q3m8) {
  position: absolute;
}`);var yJ=be('<div class="jse-absolute-popup-content svelte-1r8q3m8"><input type="text" readonly="" tabindex="-1" class="jse-hidden-input svelte-1r8q3m8"> <!></div>'),xJ=be('<div role="none" class="jse-absolute-popup svelte-1r8q3m8"><!></div>');function wJ(t,e){Ct(e,!1);var n=C(e,"popup",8),r=C(e,"closeAbsolutePopup",8),i=Y(),s=Y();function o(d){n().options&&n().options.closeOnOuterClick&&!Lc(d.target,h=>h===u(i))&&r()(n().id)}function a(d){_a(d)==="Escape"&&(d.preventDefault(),d.stopPropagation(),r()(n().id))}Pi(function(){u(s)&&u(s).focus()}),Mt();var l=xJ();Ae("mousedown",xa,function(d){o(d)},!0),Ae("keydown",xa,a,!0),Ae("wheel",xa,function(d){o(d)},!0);var f=Q(l),c=d=>{var h=yJ(),m=Q(h);jr(m,p=>_(s,p),()=>u(s)),AT(le(m,2),()=>n().component,(p,y)=>{y(p,el(()=>n().props))}),qe(p=>$n(h,"style",p),[()=>function(p,y){var g=p.getBoundingClientRect(),{left:b,top:v,positionAbove:x,positionLeft:j}=function(){if(y.anchor){var{anchor:w,width:k=0,height:S=0,offsetTop:M=0,offsetLeft:E=0,position:J}=y,{left:W,top:z,bottom:K,right:ue}=w.getBoundingClientRect(),ne=J==="top"||z+S>window.innerHeight&&z>S,re=J==="left"||W+k>window.innerWidth&&W>k;return{left:re?ue-E:W+E,top:ne?z-M:K+M,positionAbove:ne,positionLeft:re}}if(typeof y.left=="number"&&typeof y.top=="number"){var{left:me,top:de,width:pe=0,height:X=0}=y;return{left:me,top:de,positionAbove:de+X>window.innerHeight&&de>X,positionLeft:me+pe>window.innerWidth&&me>pe}}throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"')}();return(x?"bottom: ".concat(g.top-v,"px;"):"top: ".concat(v-g.top,"px;"))+(j?"right: ".concat(g.left-b,"px;"):"left: ".concat(b-g.left,"px;"))}(u(i),n().options)],$e),Z(d,h)};we(f,d=>{u(i)&&d(c)}),jr(l,d=>_(i,d),()=>u(i)),Ae("mousedown",l,function(d){d.stopPropagation()}),Ae("keydown",l,a),Z(t,l),_t()}var jJ=be("<!> <!>",1);function Hb(t,e){Ct(e,!1);var n,r,i=fi("jsoneditor:AbsolutePopup"),s=Y([],!0);function o(f){var c=u(s).findIndex(h=>h.id===f);if(c!==-1){var d=u(s)[c];d.options.onClose&&d.options.onClose(),_(s,u(s).filter(h=>h.id!==f))}}n="absolute-popup",r={openAbsolutePopup:function(f,c,d){i("open...",c,d);var h={id:Du(),component:f,props:c||{},options:d||{}};return _(s,[...u(s),h]),h.id},closeAbsolutePopup:o},wT().set(n,r),fe(()=>u(s),()=>{i("popups",u(s))}),_n(),Mt(!0);var a=jJ(),l=st(a);Ur(l,1,()=>u(s),ei,(f,c)=>{wJ(f,{get popup(){return u(c)},closeAbsolutePopup:o})}),zr(le(l,2),e,"default",{},null),Z(t,a),_t()}function zd(t,e){for(var n=new Set(e),r=t.replace(/ \(copy( \d+)?\)$/,""),i=t,s=1;n.has(i);){var o="copy"+(s>1?" "+s:"");i="".concat(r," (").concat(o,")"),s++}return i}function td(t,e){var n=e-3;return t.length>e?t.substring(0,n)+"...":t}function Tx(t){if(t==="")return"";var e=t.toLowerCase();if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;if(e!=="undefined"){var n=Number(t),r=parseFloat(t);return isNaN(n)||isNaN(r)?t:n}}var kJ={id:"jsonquery",name:"JSONQuery",description:`
<p>
  Enter a <a href="https://jsonquerylang.org" target="_blank" 
  rel="noopener noreferrer">JSON Query</a> function to filter, sort, or transform the data.
  You can use functions like <code>get</code>, <code>filter</code>,
  <code>sort</code>, <code>pick</code>, <code>groupBy</code>, <code>uniq</code>, etcetera. 
  Example query: <code>filter(.age >= 18)</code>
</p>
`,createQuery:function(t,e){var{filter:n,sort:r,projection:i}=e,s=[];n&&n.path&&n.relation&&n.value&&s.push(["filter",[(o=n.relation,TR("1 ".concat(o," 1"))[0]),cp(n.path),Tx(n.value)]]);var o;return r&&r.path&&r.direction&&s.push(["sort",cp(r.path),r.direction==="desc"?"desc":"asc"]),i&&i.paths&&(i.paths.length>1?s.push(["pick",...i.paths.map(cp)]):s.push(["map",cp(i.paths[0])])),lH(["pipe",...s])},executeQuery:function(t,e){return e.trim()!==""?uH(t,e):t}};function cp(t){return["get",...t]}var SJ=_l("<g><!></g>");function CJ(t,e){Ct(e,!1);var n=870711,r=Y(""),i=C(e,"data",8);function s(a){if(!a||!a.raw)return"";var l=a.raw,f={};return l=l.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,(c,d)=>{var h="fa-".concat((n+=1).toString(16));return f[d]=h,' id="'.concat(h,'"')}),l=l.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(c,d,h,m)=>{var p=d||m;return p&&f[p]?"#".concat(f[p]):c}),l}fe(()=>G(i()),()=>{_(r,s(i()))}),_n();var o=SJ();_T(Q(o),()=>u(r),!0,!1),Z(t,o),_t()}Nt(`
  .fa-icon.svelte-1mc5hvj {
    display: inline-block;
    fill: currentColor;
  }
  .fa-flip-horizontal.svelte-1mc5hvj {
    transform: scale(-1, 1);
  }
  .fa-flip-vertical.svelte-1mc5hvj {
    transform: scale(1, -1);
  }
  .fa-spin.svelte-1mc5hvj {
    animation: svelte-1mc5hvj-fa-spin 1s 0s infinite linear;
  }
  .fa-inverse.svelte-1mc5hvj {
    color: #fff;
  }
  .fa-pulse.svelte-1mc5hvj {
    animation: svelte-1mc5hvj-fa-spin 1s infinite steps(8);
  }
  @keyframes svelte-1mc5hvj-fa-spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`);var _J=_l("<svg><!></svg>"),AJ=_l("<path></path>"),OJ=_l("<polygon></polygon>"),EJ=_l("<!><!><!>",1);function yn(t,e){var n=lp(e,["children","$$slots","$$events","$$legacy"]),r=lp(n,["class","data","scale","spin","inverse","pulse","flip","label","style"]);Ct(e,!1);var i=C(e,"class",8,""),s=C(e,"data",8),o=Y(),a=C(e,"scale",8,1),l=C(e,"spin",8,!1),f=C(e,"inverse",8,!1),c=C(e,"pulse",8,!1),d=C(e,"flip",8,void 0),h=C(e,"label",8,""),m=C(e,"style",8,""),p=Y(10),y=Y(10),g=Y(),b=Y();function v(){var j=1;return a()!==void 0&&(j=Number(a())),isNaN(j)||j<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*j}function x(){return u(o)?Math.max(u(o).width,u(o).height)/16:1}fe(()=>(G(s()),G(m()),G(a())),()=>{_(o,function(j){var w;if(j){if(!("definition"in j)){if("iconName"in j&&"icon"in j){j.iconName;var[k,S,,,M]=j.icon;w={width:k,height:S,paths:(Array.isArray(M)?M:[M]).map(E=>({d:E}))}}else w=j[Object.keys(j)[0]];return w}console.error("`import faIconName from '@fortawesome/package-name/faIconName` not supported - Please use `import { faIconName } from '@fortawesome/package-name/faIconName'` instead")}}(s())),m(),a(),_(p,u(o)?u(o).width/x()*v():0),_(y,u(o)?u(o).height/x()*v():0),_(g,function(){var j="";m()!==null&&(j+=m());var w=v();return w===1?j.length===0?"":j:(j===""||j.endsWith(";")||(j+="; "),"".concat(j,"font-size: ").concat(w,"em"))}()),_(b,u(o)?"0 0 ".concat(u(o).width," ").concat(u(o).height):"0 0 ".concat(u(p)," ").concat(u(y)))}),_n(),Mt(),function(j,w){var k,S=lp(w,["children","$$slots","$$events","$$legacy"]),M=lp(S,["class","width","height","box","spin","inverse","pulse","flip","style","label"]),E=C(w,"class",8,""),J=C(w,"width",8),W=C(w,"height",8),z=C(w,"box",8,"0 0 0 0"),K=C(w,"spin",8,!1),ue=C(w,"inverse",8,!1),ne=C(w,"pulse",8,!1),re=C(w,"flip",8,"none"),me=C(w,"style",8,""),de=C(w,"label",8,""),pe=_J();zr(Q(pe),w,"default",{},null),qe(()=>{var X;return k=$p(pe,k,Le(Le({version:"1.1",class:"fa-icon ".concat((X=E())!==null&&X!==void 0?X:""),width:J(),height:W(),"aria-label":de(),role:de()?"img":"presentation",viewBox:z(),style:me()},M),{},{[Mu]:{"fa-spin":K(),"fa-pulse":ne(),"fa-inverse":ue(),"fa-flip-horizontal":re()==="horizontal","fa-flip-vertical":re()==="vertical"}}),"svelte-1mc5hvj",!0)}),Z(j,pe)}(t,el({get label(){return h()},get width(){return u(p)},get height(){return u(y)},get box(){return u(b)},get style(){return u(g)},get spin(){return l()},get flip(){return d()},get inverse(){return f()},get pulse(){return c()},get class(){return i()}},()=>r,{children:(j,w)=>{var k=on();zr(st(k),e,"default",{},S=>{var M=EJ(),E=st(M);Ur(E,1,()=>{var K;return((K=u(o))===null||K===void 0?void 0:K.paths)||[]},ei,(K,ue)=>{var ne,re=AJ();qe(()=>ne=$p(re,ne,Le({},u(ue)),void 0,!0)),Z(K,re)});var J=le(E);Ur(J,1,()=>{var K;return((K=u(o))===null||K===void 0?void 0:K.polygons)||[]},ei,(K,ue)=>{var ne,re=OJ();qe(()=>ne=$p(re,ne,Le({},u(ue)),void 0,!0)),Z(K,re)});var W=le(J),z=K=>{CJ(K,{get data(){return u(o)},set data(ue){_(o,ue)},$$legacy:!0})};we(W,K=>{var ue;(ue=u(o))!==null&&ue!==void 0&&ue.raw&&K(z)}),Z(S,M)}),Z(j,k)},$$slots:{default:!0}})),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-boolean-toggle.svelte-1ryp01u {
  padding: 0;
  margin: 1px 0 0;
  vertical-align: top;
  display: inline-flex;
  color: var(--jse-value-color-boolean, #ff8c00);
}

.jse-boolean-toggle.svelte-1ryp01u:not(.jse-readonly) {
  cursor: pointer;
}`);var MJ=be('<div role="checkbox" tabindex="-1"><!></div>');function PJ(t,e){Ct(e,!1);var n=C(e,"path",9),r=C(e,"value",9),i=C(e,"readOnly",9),s=C(e,"onPatch",9),o=C(e,"focus",9);Mt(!0);var a,l=MJ(),f=Q(l),c=$e(()=>r()===!0?$R:NR);yn(f,{get data(){return u(c)}}),qe(()=>{$n(l,"aria-checked",r()===!0),a=qt(l,1,"jse-boolean-toggle svelte-1ryp01u",null,a,{"jse-readonly":i()}),$n(l,"title",i()?"Boolean value ".concat(r()):"Click to toggle this boolean value")}),Ae("mousedown",l,function(d){d.stopPropagation(),i()||(s()([{op:"replace",path:jt(n()),value:!r()}]),o()())}),Z(t,l),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-color-picker-popup.svelte-s1wu8v .picker_wrapper.popup,
.jse-color-picker-popup.svelte-s1wu8v .picker_wrapper.popup .picker_arrow::before,
.jse-color-picker-popup.svelte-s1wu8v .picker_wrapper.popup .picker_arrow::after {
  background: var(--jse-color-picker-background, var(--jse-panel-background, #ebebeb));
  line-height: normal;
}
.jse-color-picker-popup.svelte-s1wu8v .picker_slider,
.jse-color-picker-popup.svelte-s1wu8v .picker_sl,
.jse-color-picker-popup.svelte-s1wu8v .picker_editor input,
.jse-color-picker-popup.svelte-s1wu8v .picker_sample,
.jse-color-picker-popup.svelte-s1wu8v .picker_done button {
  box-shadow: var(--jse-color-picker-border-box-shadow, #cbcbcb 0 0 0 1px);
}
.jse-color-picker-popup.svelte-s1wu8v .picker_editor input {
  background: var(--jse-background-color, #fff);
  color: var(--jse-text-color, #4d4d4d);
}
.jse-color-picker-popup.svelte-s1wu8v .picker_done button {
  background: var(--jse-button-background, #e0e0e0);
  color: var(--jse-button-color, var(--jse-text-color, #4d4d4d));
}
.jse-color-picker-popup.svelte-s1wu8v .picker_done button:hover {
  background: var(--jse-button-background-highlight, #e7e7e7);
}`);var RJ=be('<div class="jse-color-picker-popup svelte-s1wu8v"></div>');function TJ(t,e){Ct(e,!1);var n=C(e,"color",8),r=C(e,"onChange",8),i=C(e,"showOnTop",8),s=Y(),o=()=>{};Pi(Lt(function*(){var l,f=new((l=yield t8(()=>import("./vanilla-picker-CG55hV0U.js"),[]))===null||l===void 0?void 0:l.default)({parent:u(s),color:n(),popup:i()?"top":"bottom",onDone(c){var d=c.rgba[3]===1?c.hex.substring(0,7):c.hex;r()(d)}});f.show(),o=()=>{f.destroy()}})),Ks(()=>{o()}),Mt();var a=RJ();jr(a,l=>_(s,l),()=>u(s)),Z(t,a),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-color-picker-button.svelte-xeg9n6 {
  font-size: var(--jse-font-size-mono, 14px);
  width: var(--jse-color-picker-button-size, 1em);
  height: var(--jse-color-picker-button-size, 1em);
  box-sizing: border-box;
  padding: 0;
  margin: 2px 0 0 calc(0.5 * var(--jse-padding, 10px));
  display: inline-flex;
  vertical-align: top;
  border: 1px solid var(--jse-text-color, #4d4d4d);
  border-radius: 2px;
  background: inherit;
  outline: none;
}

.jse-color-picker-button.svelte-xeg9n6:not(.jse-readonly) {
  cursor: pointer;
}`);var $J=be('<button type="button"></button>');function NJ(t,e){Ct(e,!1);var n=Y(void 0,!0),r=Y(void 0,!0),{openAbsolutePopup:i}=Cl("absolute-popup"),s=C(e,"path",9),o=C(e,"value",9),a=C(e,"readOnly",9),l=C(e,"onPatch",9),f=C(e,"focus",9);function c(p){l()([{op:"replace",path:jt(s()),value:p}]),d()}function d(){f()()}fe(()=>G(o()),()=>{_(n,PT(o()))}),fe(()=>(G(a()),G(o())),()=>{_(r,a()?"Color ".concat(o()):"Click to open a color picker")}),_n(),Mt(!0);var h,m=$J();qe(()=>{var p;h=qt(m,1,"jse-color-picker-button svelte-xeg9n6",null,h,{"jse-readonly":a()}),$n(m,"style","background: ".concat((p=u(n))!==null&&p!==void 0?p:"")),$n(m,"title",u(r)),$n(m,"aria-label",u(r))}),Ae("click",m,function(p){var y,g;if(!a()){var b=p.target,v=b.getBoundingClientRect().top,x=((y=(g=Ld(b))===null||g===void 0?void 0:g.innerHeight)!==null&&y!==void 0?y:0)-v<300&&v>300,j={color:o(),onChange:c,showOnTop:x};i(TJ,j,{anchor:b,closeOnOuterClick:!0,onClose:d,offsetTop:18,offsetLeft:-8,height:300})}}),Z(t,m),_t()}var n0=1e3,nd=100,Kb=2e4,Xu=[{start:0,end:nd}],IJ=1048576,TS=10485760,r0="Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value",$x="Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)",of="hover-insert-inside",i0="hover-insert-after",$S="hover-collection",s0="valid",NS="repairable",pa=336,ma=260,vf=100,IS={[eo.asc]:"ascending",[eo.desc]:"descending"};function HT(t){for(var e=dy(t,a=>a.start),n=[e[0]],r=0;r<e.length;r++){var i=n.length-1,s=n[i],o=e[r];o.start<=s.end?n[i]={start:Math.min(s.start,o.start),end:Math.max(s.end,o.end)}:n.push(o)}return n}function Gb(t){return Em(t)+nd}function Em(t){return Math.floor(t/nd)*nd}function KT(t){return!!t&&(t.type==="space"||t.space===!0)}function Np(t){return!!t&&(t.type==="separator"||t.separator===!0)}function DJ(t){return!!t&&t.type==="label"&&typeof t.text=="string"}function _f(t){return!!t&&typeof t.onClick=="function"}function o0(t){return!!t&&t.type==="dropdown-button"&&_f(t.main)&&Array.isArray(t.items)}function LJ(t){return!!t&&t.type==="row"&&Array.isArray(t.items)}function zJ(t){return!!t&&t.type==="column"&&Array.isArray(t.items)}function DS(t){return Vn(t)&&Vn(t.parseError)}function BJ(t){return Vn(t)&&Array.isArray(t.validationErrors)}function qJ(t){return Vn(t)&&Array.isArray(t.path)&&typeof t.message=="string"&&"severity"in t}function FJ(t){return Vn(t)&&qJ(t)&&typeof t.isChildError=="boolean"}function UJ(t){return Vn(t)&&typeof t.action=="function"&&Vn(t.props)}function co(t){return t!==void 0&&t.type==="object"}function Ei(t){return t!==void 0&&t.type==="array"}function Nx(t){return t!==void 0&&t.type==="value"}function tu(t){return co(t)||Ei(t)}function LS(t){return t!==void 0&&Array.isArray(t.searchResults)}function Mm(t){return!!t&&t.type==="tree"}function zS(t){return!!t&&t.type==="text"}function BS(t){return!!t&&t.type==="mode"}function Jb(t){var{json:e,expand:n}=t,r=function(i){var{json:s,factory:o}=i;return Array.isArray(s)?o.createArrayDocumentState():Vn(s)?o.createObjectDocumentState():s!==void 0?o.createValueDocumentState():void 0}({json:e,factory:Lx});return n&&r?to(e,r,[],n):r}function Ix(){var{expanded:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{expanded:!1};return{type:"array",expanded:t,visibleSections:Xu,items:[]}}function Dx(){var{expanded:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{expanded:!1};return{type:"object",expanded:t,properties:{}}}var Lx={createObjectDocumentState:Dx,createArrayDocumentState:Ix,createValueDocumentState:function(){return{type:"value"}}};function GT(t,e,n,r){var{createObjectDocumentState:i,createArrayDocumentState:s,createValueDocumentState:o}=r;return function a(l,f,c){if(Array.isArray(l)){var d=Ei(f)?f:s();if(c.length===0)return d;var h=bi(c[0]),m=a(l[h],d.items[h],c.slice(1));return as(d,["items",c[0]],m)}if(Vn(l)){var p=co(f)?f:i();if(c.length===0)return p;var y=c[0],g=a(l[y],p.properties[y],c.slice(1));return as(p,["properties",y],g)}return Nx(f)?f:o()}(t,e,n)}function bs(t,e){return rd(t,e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],(n,r)=>{if(n!==void 0&&r!==void 0)return Array.isArray(n)?Ei(r)?r:Ix({expanded:!!tu(r)&&r.expanded}):Vn(n)?co(r)?r:Dx({expanded:!!tu(r)&&r.expanded}):Nx(r)?r:void 0},()=>!0)}function rd(t,e,n,r,i){var s=r(t,e,n);if(Array.isArray(t)&&Ei(s)&&i(s)){var o=[];return zx(t,s.visibleSections,l=>{var f=n.concat(String(l)),c=rd(t[l],s.items[l],f,r,i);c!==void 0&&(o[l]=c)}),AS(o,s.items)?s:Le(Le({},s),{},{items:o})}if(Vn(t)&&co(s)&&i(s)){var a={};return Object.keys(t).forEach(l=>{var f=n.concat(l),c=rd(t[l],s.properties[l],f,r,i);c!==void 0&&(a[l]=c)}),AS(Object.values(a),Object.values(s.properties))?s:Le(Le({},s),{},{properties:a})}return s}function zx(t,e,n){e.forEach(r=>{var{start:i,end:s}=r;TT(i,Math.min(t.length,s),n)})}function id(t,e){for(var n=t,r=[],i=0;i<e.length;){if(Array.isArray(n)){var s=e[i];r.push("items",s),n=n[bi(s)]}else{if(!Vn(n))throw new Error("Cannot convert path: Object or Array expected at index ".concat(i));var o=e[i];r.push("properties",o),n=n[o]}i++}return r}function to(t,e,n,r){for(var i=e,s=function(a){var l=n.slice(0,a);i=pc(t,i,l,(f,c)=>{var d=tu(c)&&!c.expanded?Le(Le({},c),{},{expanded:!0}):c;return Ei(d)?function(h,m){if(function(g,b){return g.some(v=>b>=v.start&&b<v.end)}(h.visibleSections,m))return h;var p=Em(m),y={start:p,end:Gb(p)};return Le(Le({},h),{},{visibleSections:HT(h.visibleSections.concat(y))})}(d,bi(n[a])):d})},o=0;o<n.length;o++)s(o);return pc(t,i,n,(a,l)=>function(f,c,d,h){return rd(f,c,d,(m,p,y)=>Array.isArray(m)&&h(y)?Ei(p)?p.expanded?p:Le(Le({},p),{},{expanded:!0}):Ix({expanded:!0}):Vn(m)&&h(y)?co(p)?p.expanded?p:Le(Le({},p),{},{expanded:!0}):Dx({expanded:!0}):p,m=>tu(m)&&m.expanded)}(a,l,[],r))}function qS(t,e,n,r){return pc(t,e,n,(i,s)=>r?function(o,a,l){return rd(o,a,l,(f,c)=>FS(c),()=>!0)}(i,s,n):FS(s))}function FS(t){return Ei(t)&&t.expanded?Le(Le({},t),{},{expanded:!1,visibleSections:Xu}):co(t)&&t.expanded?Le(Le({},t),{},{expanded:!1}):t}function JT(t,e,n){var r={json:t,documentState:e},i=n.reduce((s,o)=>({json:oo(s.json,[o]),documentState:WJ(s.json,s.documentState,o)}),r);return{json:i.json,documentState:bs(i.json,i.documentState)}}function WJ(t,e,n){if(vR(n))return US(t,e,n,void 0);if(bR(n))return WS(t,e,n);if(sx(n)){var r=ao(t,n.path),i=wa(t,e,r);return i?Hg(t,e,r,{type:"value",enforceString:i}):e}return Mb(n)||Gu(n)?function(s,o,a){if(Gu(a)&&a.from===a.path)return o;var l=o,f=ao(s,a.from),c=Fl(s,l,f);return Gu(a)&&(l=WS(s,l,{path:a.from})),l=US(s,l,{path:a.path},c),l}(t,e,n):e}function Fl(t,e,n){try{return rt(e,id(t,n))}catch{return}}function Bx(t,e,n,r,i){var s=GT(t,e,n,i);return lx(s,id(t,n),o=>{var a=rt(t,n);return r(a,o)})}function Hg(t,e,n,r){return function(i,s,o,a,l){var f=GT(i,s,o,l);return as(f,id(i,o),a)}(t,e,n,r,Lx)}function pc(t,e,n,r){return Bx(t,e,n,r,Lx)}function US(t,e,n,r){var i=ao(t,n.path),s=e;return s=pc(t,s,hn(i),(o,a)=>{if(!Ei(a))return a;var l=bi(Et(i)),{items:f,visibleSections:c}=a;return Le(Le({},a),{},{items:l<f.length?iJ(f,l,r!==void 0?[r]:Array(1)):f,visibleSections:YT(c,l,1)})}),Hg(t,s,i,r)}function WS(t,e,n){var r=ao(t,n.path),i=hn(r),s=rt(t,i);return Array.isArray(s)?pc(t,e,i,(o,a)=>{if(!Ei(a))return a;var l=bi(Et(r)),{items:f,visibleSections:c}=a;return Le(Le({},a),{},{items:f.slice(0,l).concat(f.slice(l+1)),visibleSections:YT(c,l,-1)})}):function(o,a,l){var f=id(o,l);return Is(a,f)?Og(a,id(o,l)):a}(t,e,r)}function YT(t,e,n){return function(r){for(var i=r.slice(0),s=1;s<i.length;)i[s-1].end===i[s].start&&(i[s-1]={start:i[s-1].start,end:i[s].end},i.splice(s)),s++;return i}(t.map(r=>({start:r.start>e?r.start+n:r.start,end:r.end>e?r.end+n:r.end})))}function wa(t,e,n){var r,i=rt(t,n),s=Fl(t,e,n),o=Nx(s)?s.enforceString:void 0;return typeof o=="boolean"?o:typeof(r=i)=="string"&&typeof Dc(r,JSON)!="string"}function Bd(t,e){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=t.indexOf(e);return r!==-1?n?t.slice(r):t.slice(r+1):[]}function qx(t,e){var n=[];return function r(i,s,o){n.push(o),Fr(i)&&Ei(s)&&s.expanded&&zx(i,s.visibleSections,a=>{r(i[a],s.items[a],o.concat(String(a)))}),Zr(i)&&co(s)&&s.expanded&&Object.keys(i).forEach(a=>{r(i[a],s.properties[a],o.concat(a))})}(t,e,[]),n}function QT(t,e){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=[];return function i(s,o){r.push({path:o,type:io.value});var a=Fl(t,e,o);if(s&&tu(a)&&a.expanded){if(n&&r.push({path:o,type:io.inside}),Fr(s)){var l=Ei(a)?a.visibleSections:Xu;zx(s,l,f=>{var c=o.concat(String(f));i(s[f],c),n&&r.push({path:c,type:io.after})})}Zr(s)&&Object.keys(s).forEach(f=>{var c=o.concat(f);r.push({path:c,type:io.key}),i(s[f],c),n&&r.push({path:c,type:io.after})})}}(t,[]),r}function a0(t,e,n){var r=qx(t,e),i=r.map(jt).indexOf(jt(n));if(i!==-1&&i<r.length-1)return r[i+1]}function nu(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:10240;return to(t,e,n,oJ({json:rt(t,n)},r)?bf:Fx)}function l0(t,e,n){var r=Fl(t,e,n);return tu(r)&&r.expanded?e:nu(t,e,n)}function bf(t){return t.length===0||t.length===1&&t[0]==="0"}function VS(t){return t.length===0}function Fx(){return!0}function Ip(){return!1}function Ds(t){return t&&t.type===rr.after||!1}function Ci(t){return t&&t.type===rr.inside||!1}function ui(t){return t&&t.type===rr.key||!1}function Qn(t){return t&&t.type===rr.value||!1}function xr(t){return t&&t.type===rr.multi||!1}function Kg(t){return xr(t)&&ln(t.focusPath,t.anchorPath)}function sd(t){return xr(t)||Ds(t)||Ci(t)||ui(t)||Qn(t)}function u0(t){return t&&t.type===rr.text||!1}function nl(t,e){var n=[];return function(r,i,s){if(i){var o=Ul(i),a=dt(i);if(ln(o,a))return s(o);if(r!==void 0){var l=ZT(o,a);if(o.length===l.length||a.length===l.length)return s(l);var f=Ni(o,a),c=ga(r,f),d=rl(r,f),h=ka(r,f,c),m=ka(r,f,d);if(!(h===-1||m===-1)){var p=rt(r,l);if(Zr(p)){for(var y=Object.keys(p),g=h;g<=m;g++){var b=s(l.concat(y[g]));if(b!==void 0)return b}return}if(Fr(p)){for(var v=h;v<=m;v++){var x=s(l.concat(String(v)));if(x!==void 0)return x}return}throw new Error("Failed to create selection")}}}}(t,e,r=>{n.push(r)}),n}function XT(t){return Ci(t)?t.path:hn(dt(t))}function ga(t,e){if(!xr(e))return e.path;var n=ka(t,e,e.anchorPath);return ka(t,e,e.focusPath)<n?e.focusPath:e.anchorPath}function rl(t,e){if(!xr(e))return e.path;var n=ka(t,e,e.anchorPath);return ka(t,e,e.focusPath)>n?e.focusPath:e.anchorPath}function HS(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(n){var i=r?dt(n):ga(t,n),s=function(l,f,c){var d=qx(l,f),h=d.map(jt),m=jt(c),p=h.indexOf(m);if(p!==-1&&p>0)return d[p-1]}(t,e,i);if(r)return Ci(n)||Ds(n)?s!==void 0?Ni(i,i):void 0:s!==void 0?Ni(Ul(n),s):void 0;if(Ds(n)||Ci(n))return dn(i);if(ui(n)){if(s===void 0||s.length===0)return;var o=hn(s),a=rt(t,o);return Array.isArray(a)||Yn(s)?dn(s):Oa(s)}return Qn(n),s!==void 0?dn(s):void 0}}function KS(t,e,n,r){if(!n)return{caret:void 0,previous:void 0,next:void 0};var i=QT(t,e,r),s=i.findIndex(o=>ln(o.path,dt(n))&&String(o.type)===String(n.type));return{caret:s!==-1?i[s]:void 0,previous:s!==-1&&s>0?i[s-1]:void 0,next:s!==-1&&s<i.length-1?i[s+1]:void 0}}function ju(t,e){for(var n=qx(t,e),r=0;r<n.length-1&&n[r+1].length>n[r].length;)r++;var i=n[r];return i===void 0||i.length===0||Array.isArray(rt(t,hn(i)))?dn(i):Oa(i)}function mc(t,e){if(e.length===1){var n=zs(e);if(n.op==="replace")return dn(ao(t,n.path))}if(!Yn(e)&&e.every(o=>o.op==="move")){var r=zs(e),i=e.slice(1);if((Mb(r)||Gu(r))&&r.from!==r.path&&i.every(o=>(Mb(o)||Gu(o))&&o.from===o.path))return Oa(ao(t,r.path))}var s=e.filter(o=>o.op!=="test"&&o.op!=="remove"&&(o.op!=="move"||o.from!==o.path)&&typeof o.path=="string").map(o=>ao(t,o.path));if(!Yn(s))return{type:rr.multi,anchorPath:zs(s),focusPath:Et(s)}}function ZT(t,e){for(var n=0;n<t.length&&n<e.length&&t[n]===e[n];)n++;return t.slice(0,n)}function Pm(t){return ui(t)||Qn(t)||Kg(t)}function GS(t,e){return Pm(e)&&Xr(rt(t,dt(e)))?dt(e):hn(dt(e))}function Aa(t,e){if(t.length<e.length)return!1;for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0}function Ro(t){if(Ji(t)){var{type:e,path:n}=t;return{type:e,path:n}}return t}function Oa(t){return{type:rr.key,path:t}}function Ux(t,e){return{type:rr.key,path:t,edit:!0,initialValue:e}}function dn(t){return{type:rr.value,path:t}}function Rm(t,e){return{type:rr.value,path:t,edit:!0,initialValue:e}}function Ea(t){return{type:rr.inside,path:t}}function ja(t){return{type:rr.after,path:t}}function Ni(t,e){var n=ZT(t,e),r=t.length>n.length&&e.length>n.length;return{type:rr.multi,anchorPath:r?n.concat(t[n.length]):n,focusPath:r?n.concat(e[n.length]):n}}function e5(t,e,n,r){if(ui(e))return String(Et(e.path));if(Qn(e)){var i=rt(t,e.path);return typeof i=="string"?i:r.stringify(i,null,n)}if(xr(e)){if(Yn(e.focusPath))return r.stringify(t,null,n);var s=XT(e),o=rt(t,s);if(Array.isArray(o)){if(Kg(e)){var a=rt(t,e.focusPath);return r.stringify(a,null,n)}return nl(t,e).map(l=>{var f=rt(t,l);return"".concat(r.stringify(f,null,n),",")}).join(`
`)}return nl(t,e).map(l=>{var f=Et(l),c=rt(t,l);return"".concat(r.stringify(f),": ").concat(r.stringify(c,null,n),",")}).join(`
`)}}function Ji(t){return(ui(t)||Qn(t))&&t.edit===!0}function Lu(t){return ui(t)||Qn(t)||xr(t)}function fp(t){return ui(t)||Qn(t)||Kg(t)}function Yb(t){switch(t.type){case io.key:return Oa(t.path);case io.value:return dn(t.path);case io.after:return ja(t.path);case io.inside:return Ea(t.path)}}function JS(t,e){switch(t){case rr.key:return Oa(e);case rr.value:return dn(e);case rr.after:return ja(e);case rr.inside:return Ea(e);case rr.multi:case rr.text:return Ni(e,e)}}function YS(t,e,n){if(e)return od(t,e,n)||Aa(xr(e)?hn(e.focusPath):e.path,n)?e:void 0}function od(t,e,n){if(t===void 0||!e)return!1;if(ui(e)||Ci(e)||Ds(e))return ln(e.path,n);if(Qn(e))return Aa(n,e.path);if(xr(e)){var r=ga(t,e),i=rl(t,e),s=hn(e.focusPath);if(!Aa(n,s)||n.length<=s.length)return!1;var o=ka(t,e,r),a=ka(t,e,i),l=ka(t,e,n);return l!==-1&&l>=o&&l<=a}return!1}function ka(t,e,n){var r=hn(e.focusPath);if(!Aa(n,r)||n.length<=r.length)return-1;var i=n[r.length],s=rt(t,r);if(Zr(s))return Object.keys(s).indexOf(i);if(Fr(s)){var o=bi(i);if(o<s.length)return o}return-1}function dt(t){return xr(t)?t.focusPath:t.path}function Ul(t){return xr(t)?t.anchorPath:t.path}function zc(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i of n)if(typeof i=="string"&&t.push(i),i&&typeof i=="object")for(var s in i)Object.hasOwnProperty.call(i,s)&&i[s]&&t.push(s);return t.join(" ")}function t5(t,e,n){return zc("jse-value","jse-"+Ax(t,n),{"jse-url":Ug(t),"jse-empty":typeof t=="string"&&t.length===0,"jse-table-cell":e===li.table})}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-value.jse-string.svelte-f9kmxj {
  color: var(--jse-value-color-string, #008000);
}
.jse-value.jse-object.svelte-f9kmxj, .jse-value.jse-array.svelte-f9kmxj {
  min-width: 16px;
  color: var(--jse-delimiter-color, rgba(0, 0, 0, 0.38));
}
.jse-value.jse-number.svelte-f9kmxj {
  color: var(--jse-value-color-number, #ee422e);
}
.jse-value.jse-boolean.svelte-f9kmxj {
  color: var(--jse-value-color-boolean, #ff8c00);
}
.jse-value.jse-null.svelte-f9kmxj {
  color: var(--jse-value-color-null, #004ed0);
}
.jse-value.jse-invalid.svelte-f9kmxj {
  color: var(--jse-text-color, #4d4d4d);
}
.jse-value.jse-url.svelte-f9kmxj {
  color: var(--jse-value-color-url, #008000);
  text-decoration: underline;
}

div.jse-editable-div.svelte-f9kmxj {
  min-width: 2em;
  padding: 0 5px;
  box-sizing: border-box;
  outline: none;
  border-radius: 1px;
  vertical-align: top;
  cursor: text !important;
  word-break: normal;
  white-space: pre-wrap;
  overflow-wrap: anywhere;
}
div.jse-editable-div.jse-short-text.svelte-f9kmxj {
  overflow-wrap: normal;
}
div.jse-editable-div.jse-table-cell.svelte-f9kmxj {
  overflow-wrap: normal;
  white-space: nowrap;
}
div.jse-editable-div[contenteditable=true].svelte-f9kmxj {
  outline: var(--jse-edit-outline, 2px solid #656565);
  background: var(--jse-background-color, #fff);
  position: relative;
  display: inline-block;
  border-radius: 0;
  z-index: 3;
}
div.jse-editable-div.jse-empty.svelte-f9kmxj:not(:focus) {
  outline: 1px dotted var(--jse-tag-background, rgba(0, 0, 0, 0.2));
  -moz-outline-radius: 2px;
}
div.jse-editable-div.jse-empty.svelte-f9kmxj::after {
  pointer-events: none;
  color: var(--jse-tag-background, rgba(0, 0, 0, 0.2));
}`);var VJ=be('<div role="textbox" tabindex="0" contenteditable="true" spellcheck="false"></div>');function n5(t,e){Ct(e,!1);var n=fi("jsoneditor:EditableDiv"),r=C(e,"value",9),i=C(e,"initialValue",9),s=C(e,"shortText",9,!1),o=C(e,"label",9),a=C(e,"onChange",9),l=C(e,"onCancel",9),f=C(e,"onFind",9),c=C(e,"onPaste",9,$r),d=C(e,"onValueClass",9,()=>""),h=Y(void 0,!0),m=Y(void 0,!0),p=!1;function y(){return u(h)?function(v){return v.replace(/\n$/,"")}(u(h).innerText):""}function g(v){u(h)&&xs(h,u(h).innerText=Vg(v))}Pi(()=>{n("onMount",{value:r(),initialValue:i()}),g(i()!==void 0?i():r()),u(h)&&function(v){if(v.firstChild!=null){var x=document.createRange(),j=window.getSelection();x.setStart(v,1),x.collapse(!0),j==null||j.removeAllRanges(),j==null||j.addRange(x)}else v.focus()}(u(h))}),Ks(()=>{var v=y();n("onDestroy",{closed:p,value:r(),newValue:v}),p||v===r()||a()(v,tl.no)}),fe(()=>(G(d()),G(r())),()=>{_(m,d()(r()))}),_n(),Mt(!0);var b=VJ();jr(b,v=>_(h,v),()=>u(h)),qe(v=>{$n(b,"aria-label",o()),qt(b,1,vl(v),"svelte-f9kmxj")},[()=>zc("jse-editable-div",u(m),{"jse-short-text":s()})],$e),Ae("input",b,function(){var v=y();v===""&&g(""),_(m,d()(v))}),Ae("keydown",b,function(v){v.stopPropagation();var x=_a(v);if(x==="Escape"&&(v.preventDefault(),p=!0,l()()),x==="Enter"||x==="Tab"){v.preventDefault(),p=!0;var j=y();a()(j,tl.nextInside)}x==="Ctrl+F"&&(v.preventDefault(),f()(!1)),x==="Ctrl+H"&&(v.preventDefault(),f()(!0))}),Ae("paste",b,function(v){if(v.stopPropagation(),c()&&v.clipboardData){var x=v.clipboardData.getData("text/plain");c()(x)}}),Ae("blur",b,function(){var v=document.hasFocus(),x=y();n("handleBlur",{hasFocus:v,closed:p,value:r(),newValue:x}),document.hasFocus()&&!p&&(p=!0,x!==r()&&a()(x,tl.self))}),Z(t,b),_t()}function HJ(t,e){Ct(e,!1);var n=C(e,"path",9),r=C(e,"value",9),i=C(e,"selection",9),s=C(e,"mode",9),o=C(e,"parser",9),a=C(e,"normalization",9),l=C(e,"enforceString",9),f=C(e,"onPatch",9),c=C(e,"onPasteJson",9),d=C(e,"onSelect",9),h=C(e,"onFind",9),m=C(e,"focus",9),p=C(e,"findNextInside",9);function y(x){return l()?x:Dc(x,o())}function g(){d()(dn(n())),m()()}Mt(!0);var b=$e(()=>a().escapeValue(r())),v=$e(()=>Ji(i())?i().initialValue:void 0);n5(t,{get value(){return u(b)},get initialValue(){return u(v)},label:"Edit value",onChange:function(x,j){f()([{op:"replace",path:jt(n()),value:y(a().unescapeValue(x))}],(w,k,S)=>{if(!S||ln(n(),dt(S)))return{state:k,selection:j===tl.nextInside?p()(n()):dn(n())}}),m()()},onCancel:g,onPaste:function(x){try{var j=o().parse(x);Xr(j)&&c()({path:n(),contents:j,onPasteAsJson:()=>{g();var w=[{op:"replace",path:jt(n()),value:j}];f()(w,(k,S)=>({state:nu(k,S,n())}))}})}catch{}},get onFind(){return h()},onValueClass:function(x){return t5(y(a().unescapeValue(x)),s(),o())}}),_t()}function zu(t,e,n){var r=hn(e),i=rt(t,r);if(Fr(i)){var s=bi(Et(e));return n.map((f,c)=>({op:"add",path:jt(r.concat(String(s+c))),value:f.value}))}if(Zr(i)){var o=Et(e),a=Object.keys(i),l=o!==void 0?Bd(a,o,!0):[];return[...n.map(f=>{var c=zd(f.key,a);return{op:"add",path:jt(r.concat(c)),value:f.value}}),...l.map(f=>ru(r,f))]}throw new Error("Cannot create insert operations: parent must be an Object or Array")}function Qb(t,e,n){var r=rt(t,e);if(Array.isArray(r)){var i=r.length;return n.map((s,o)=>({op:"add",path:jt(e.concat(String(i+o))),value:s.value}))}return n.map(s=>{var o=zd(s.key,Object.keys(r));return{op:"add",path:jt(e.concat(o)),value:s.value}})}function qd(t,e,n,r){var i=zd(r,e.filter(o=>o!==n)),s=Bd(e,n,!1);return[{op:"move",from:jt(t.concat(n)),path:jt(t.concat(i))},...s.map(o=>ru(t,o))]}function r5(t,e){var n=Et(e);if(Yn(n))throw new Error("Cannot duplicate root object");var r=hn(n),i=Et(n),s=rt(t,r);if(Fr(s)){var o=Et(e),a=o?bi(Et(o))+1:0;return[...e.map((c,d)=>({op:"copy",from:jt(c),path:jt(r.concat(String(d+a)))}))]}if(Zr(s)){var l=Object.keys(s),f=i!==void 0?Bd(l,i,!1):[];return[...e.map(c=>{var d=zd(Et(c),l);return{op:"copy",from:jt(c),path:jt(r.concat(d))}}),...f.map(c=>ru(r,c))]}throw new Error("Cannot create duplicate operations: parent must be an Object or Array")}function i5(t,e,n,r){if(ui(e)){var i=NT(n,r),s=hn(e.path),o=rt(t,s);return qd(s,Object.keys(o),Et(e.path),typeof i=="string"?i:n)}if(Qn(e)||xr(e)&&Yn(e.focusPath))try{return[{op:"replace",path:jt(dt(e)),value:Wg(n,k=>Dd(k,r))}]}catch{return[{op:"replace",path:jt(dt(e)),value:n}]}if(xr(e)){var a=c0(n,r);return function(k,S,M){var E=zs(S),J=hn(E),W=rt(k,J);if(Fr(W)){var z=zs(S),K=z?bi(Et(z)):0;return[...Tm(S),...M.map(($,ie)=>({op:"add",path:jt(J.concat(String(ie+K))),value:$.value}))]}if(Zr(W)){var ue=Et(S),ne=hn(ue),re=Et(ue),me=Object.keys(W),de=re!==void 0?Bd(me,re,!1):[],pe=new Set(S.map($=>Et($))),X=me.filter($=>!pe.has($));return[...Tm(S),...M.map($=>{var ie=zd($.key,X);return{op:"add",path:jt(ne.concat(ie)),value:$.value}}),...de.map($=>ru(ne,$))]}throw new Error("Cannot create replace operations: parent must be an Object or Array")}(t,nl(t,e),a)}if(Ds(e)){var l=c0(n,r),f=e.path,c=hn(f),d=rt(t,c);if(Fr(d)){var h=bi(Et(f));return zu(t,c.concat(String(h+1)),l)}if(Zr(d)){var m=String(Et(f)),p=Object.keys(d);if(Yn(p)||Et(p)===m)return Qb(t,c,l);var y=p.indexOf(m),g=p[y+1];return zu(t,c.concat(g),l)}throw new Error("Cannot create insert operations: parent must be an Object or Array")}if(Ci(e)){var b=c0(n,r),v=e.path,x=rt(t,v);if(Fr(x))return zu(t,v.concat("0"),b);if(Zr(x)){var j=Object.keys(x);if(Yn(j))return Qb(t,v,b);var w=zs(j);return zu(t,v.concat(w),b)}throw new Error("Cannot create insert operations: parent must be an Object or Array")}throw new Error("Cannot insert: unsupported type of selection "+JSON.stringify(e))}function Tm(t){return t.map(e=>({op:"remove",path:jt(e)})).reverse()}function ru(t,e){return{op:"move",from:jt(t.concat(e)),path:jt(t.concat(e))}}function c0(t,e){var n=/^\s*{/.test(t),r=/^\s*\[/.test(t),i=NT(t,e),s=i!==void 0?i:Wg(t,o=>Dd(o,e));return n&&Vn(s)||r&&Array.isArray(s)?[{key:"New item",value:s}]:Array.isArray(s)?s.map((o,a)=>({key:"New item "+a,value:o})):Vn(s)?Object.keys(s).map(o=>({key:o,value:s[o]})):[{key:"New item",value:s}]}function s5(t,e){if(ui(e)){var n=hn(e.path),r=rt(t,n),i=qd(n,Object.keys(r),Et(e.path),"");return{operations:i,newSelection:mc(t,i)}}if(Qn(e))return{operations:[{op:"replace",path:jt(e.path),value:""}],newSelection:e};if(xr(e)){var s=nl(t,e),o=Tm(s),a=Et(s);if(Yn(a))return{operations:[{op:"replace",path:"",value:""}],newSelection:dn([])};var l=hn(a),f=rt(t,l);if(Fr(f)){var c=zs(s),d=bi(Et(c));return{operations:o,newSelection:d===0?Ea(l):ja(l.concat(String(d-1)))}}if(Zr(f)){var h=Object.keys(f),m=zs(s),p=Et(m),y=h.indexOf(p),g=h[y-1];return{operations:o,newSelection:y===0?Ea(l):ja(l.concat(g))}}throw new Error("Cannot create remove operations: parent must be an Object or Array")}throw new Error("Cannot remove: unsupported type of selection "+JSON.stringify(e))}function o5(t,e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ln;return n.filter((i,s)=>{for(var o=s+1;o<n.length;o++)if(r(i,n[o]))return!1;return!0})}(jR(t,e,{before:(n,r,i)=>{if(bR(r)){var s=qs(r.path);return{revertOperations:[...i,...f0(n,s)]}}if(Gu(r)){var o=qs(r.from);return{revertOperations:r.from===r.path?[r,...f0(n,o)]:[...i,...f0(n,o)]}}return{document:n}}}))}function f0(t,e){var n=hn(e),r=Et(e),i=rt(t,n);return Zr(i)?Bd(Object.keys(i),r,!1).map(s=>ru(n,s)):[]}function QS(t){var e=t.activeIndex<t.items.length-1?t.activeIndex+1:t.items.length>0?0:-1,n=t.items[e],r=t.items.map((i,s)=>Le(Le({},i),{},{active:s===e}));return Le(Le({},t),{},{items:r,activeItem:n,activeIndex:e})}function XS(t,e){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=t.toLowerCase(),s=(n=r==null?void 0:r.maxResults)!==null&&n!==void 0?n:1/0,o=r==null?void 0:r.columns,a=[],l=[];function f(g){a.length>=s||a.push(g)}function c(g,b){if(Fr(b)){var v=l.length;l.push("0");for(var x=0;x<b.length;x++)if(l[v]=String(x),c(g,b[x]),a.length>=s)return;l.pop()}else if(Zr(b)){var j=Object.keys(b),w=l.length;for(var k of(l.push(""),j))if(l[w]=k,ZS(k,g,l,uo.key,f),c(g,b[k]),a.length>=s)return;l.pop()}else ZS(String(b),g,l,uo.value,f)}if(t==="")return[];if(o){if(!Array.isArray(e))throw new Error("json must be an Array when option columns is defined");for(var d=0;d<e.length;d++){l[0]=String(d);for(var h=e[d],m=0;m<o.length;m++){var p=o[m];if(p.length===1)l[1]=p[0];else for(var y=0;y<p.length;y++)l[y+1]=p[y];for(;l.length>p.length+1;)l.pop();c(i,rt(h,p))}if(a.length>=s)break}return a}return c(i,e),a}function ZS(t,e,n,r,i){var s=t.toLowerCase(),o=0,a=-1,l=-1;do(l=s.indexOf(e,a))!==-1&&(a=l+e.length,i({path:n.slice(0),field:r,fieldIndex:o,start:l,end:a}),o++);while(l!==-1)}function Xb(t,e,n,r){return t.substring(0,n)+e+t.substring(r)}function eC(t,e,n){var r=t;return zp(n,i=>{r=Xb(r,e,i.start,i.end)}),r}function KJ(t,e,n,r,i){var{field:s,path:o,start:a,end:l}=r;if(s===uo.key){var f=hn(o),c=rt(t,f),d=Et(o),h=qd(f,Object.keys(c),d,Xb(d,n,a,l));return{newSelection:mc(t,h),operations:h}}if(s===uo.value){var m=rt(t,o);if(m===void 0)throw new Error("Cannot replace: path not found ".concat(jt(o)));var p=typeof m=="string"?m:String(m),y=wa(t,e,o),g=Xb(p,n,a,l),b=[{op:"replace",path:jt(o),value:y?g:Dc(g,i)}];return{newSelection:mc(t,b),operations:b}}throw new Error("Cannot replace: unknown type of search result field ".concat(s))}function tC(t){return t.path.concat(t.field,String(t.fieldIndex))}var GJ={createObjectDocumentState:()=>({type:"object",properties:{}}),createArrayDocumentState:()=>({type:"array",items:[]}),createValueDocumentState:()=>({type:"value"})};function a5(t,e){return e.reduce((n,r)=>function(i,s,o,a){return Bx(i,s,o,a,GJ)}(t,n,r.path,(i,s)=>Le(Le({},s),{},{searchResults:s.searchResults?s.searchResults.concat(r):[r]})),void 0)}function Zb(t){var e,n=(e=t==null?void 0:t.searchResults)!==null&&e!==void 0?e:[],r=co(t)?Object.values(t.properties).flatMap(Zb):Ei(t)?t.items.flatMap(Zb):[];return n.concat(r)}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-highlight.svelte-5fb7bl {
  background-color: var(--jse-search-match-color, #ffe665);
  outline: var(--jse-search-match-outline, none);
}
.jse-highlight.jse-active.svelte-5fb7bl {
  background-color: var(--jse-search-match-active-color, var(--jse-search-match-color, #ffe665));
  outline: var(--jse-search-match-outline, 2px solid #e0be00);
}`);var JJ=be("<span> </span>");function l5(t,e){Ct(e,!1);var n=Y(),r=C(e,"text",8),i=C(e,"searchResultItems",8);fe(()=>(G(r()),G(i())),()=>{_(n,function(o,a){var l=[],f=0;for(var c of a){var d=o.slice(f,c.start);d!==""&&l.push({type:"normal",text:d,active:!1});var h=o.slice(c.start,c.end);l.push({type:"highlight",text:h,active:c.active}),f=c.end}var m=Et(a);return m&&m.end<o.length&&l.push({type:"normal",text:o.slice(m.end),active:!1}),l}(String(r()),i()))}),_n(),Mt();var s=on();Ur(st(s),1,()=>u(n),ei,(o,a)=>{var l=on(),f=st(l),c=h=>{var m=Bi();qe(()=>Rt(m,u(a).text)),Z(h,m)},d=h=>{var m,p=JJ(),y=Q(p);qe(g=>{m=qt(p,1,"jse-highlight svelte-5fb7bl",null,m,{"jse-active":u(a).active}),Rt(y,g)},[()=>Vg(u(a).text)],$e),Z(h,p)};we(f,h=>{u(a).type==="normal"?h(c):h(d,!1)}),Z(o,l)}),Z(t,s),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-value.jse-string.svelte-c0g9qz {
  color: var(--jse-value-color-string, #008000);
}
.jse-value.jse-object.svelte-c0g9qz, .jse-value.jse-array.svelte-c0g9qz {
  min-width: 16px;
  color: var(--jse-delimiter-color, rgba(0, 0, 0, 0.38));
}
.jse-value.jse-number.svelte-c0g9qz {
  color: var(--jse-value-color-number, #ee422e);
}
.jse-value.jse-boolean.svelte-c0g9qz {
  color: var(--jse-value-color-boolean, #ff8c00);
}
.jse-value.jse-null.svelte-c0g9qz {
  color: var(--jse-value-color-null, #004ed0);
}
.jse-value.jse-invalid.svelte-c0g9qz {
  color: var(--jse-text-color, #4d4d4d);
}
.jse-value.jse-url.svelte-c0g9qz {
  color: var(--jse-value-color-url, #008000);
  text-decoration: underline;
}

.jse-value.svelte-c0g9qz {
  display: inline-block;
  min-width: 2em;
  padding: 0 5px;
  box-sizing: border-box;
  outline: none;
  border-radius: 1px;
  vertical-align: top;
  word-break: normal;
  overflow-wrap: anywhere;
  white-space: pre-wrap;
}
.jse-value.jse-table-cell.svelte-c0g9qz {
  overflow-wrap: normal;
  white-space: nowrap;
}
.jse-value.jse-empty.svelte-c0g9qz {
  min-width: 4em;
  outline: 1px dotted var(--jse-tag-background, rgba(0, 0, 0, 0.2));
  -moz-outline-radius: 2px;
}
.jse-value.jse-empty.svelte-c0g9qz::after {
  pointer-events: none;
  color: var(--jse-tag-background, rgba(0, 0, 0, 0.2));
  content: "value";
}`);var YJ=be('<div role="button" tabindex="-1" data-type="selectable-value"><!></div>');function QJ(t,e){Ct(e,!1);var n=Y(void 0,!0),r=C(e,"path",9),i=C(e,"value",9),s=C(e,"mode",9),o=C(e,"readOnly",9),a=C(e,"normalization",9),l=C(e,"parser",9),f=C(e,"onSelect",9),c=C(e,"searchResultItems",9);fe(()=>G(i()),()=>{_(n,Ug(i()))}),_n(),Mt(!0);var d=YJ(),h=Q(d),m=y=>{var g=$e(()=>a().escapeValue(i()));l5(y,{get text(){return u(g)},get searchResultItems(){return c()}})},p=y=>{var g=Bi();qe(b=>Rt(g,b),[()=>Vg(a().escapeValue(i()))],$e),Z(y,g)};we(h,y=>{c()?y(m):y(p,!1)}),qe(y=>{qt(d,1,vl(y),"svelte-c0g9qz"),$n(d,"title",u(n)?"Ctrl+Click or Ctrl+Enter to open url in new window":void 0)},[()=>t5(i(),s(),l())],$e),Ae("click",d,function(y){typeof i()=="string"&&u(n)&&Rx(y)&&(y.preventDefault(),y.stopPropagation(),window.open(i(),"_blank"))}),Ae("dblclick",d,function(y){o()||(y.preventDefault(),f()(Rm(r())))}),Z(t,d),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-tooltip.svelte-14y3y8t {
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  line-height: normal;
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);
  border-radius: 3px;
  background: var(--jse-context-menu-background, #656565);
  color: var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));
  white-space: nowrap;
  box-shadow: var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));
}`);var XJ=be('<div class="jse-tooltip svelte-14y3y8t"> </div>');function ZJ(t,e){var n=C(e,"text",8),r=XJ(),i=Q(r);qe(()=>Rt(i,n())),Z(t,r)}function gc(t,e){var n,{text:r,openAbsolutePopup:i,closeAbsolutePopup:s}=e;function o(){n=i(ZJ,{text:r},{position:"top",width:10*r.length,offsetTop:3,anchor:t,closeOnOuterClick:!0})}function a(){s(n)}return t.addEventListener("mouseenter",o),t.addEventListener("mouseleave",a),{destroy(){t.removeEventListener("mouseenter",o),t.removeEventListener("mouseleave",a)}}}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-timestamp.svelte-1jla5ec {
  padding: 0;
  margin: 0;
  vertical-align: middle;
  display: inline-flex;
  color: var(--jse-value-color-number, #ee422e);
}`);var eY=be('<div class="jse-timestamp svelte-1jla5ec"><!></div>');function tY(t,e){Ct(e,!1);var n=Y(void 0,!0),r=Cl("absolute-popup"),i=C(e,"value",9);fe(()=>G(i()),()=>{_(n,"Time: ".concat(new Date(i()).toString()))}),_n(),Mt(!0);var s=eY();yn(Q(s),{data:dH}),Li(s,(o,a)=>gc==null?void 0:gc(o,a),()=>Le({text:u(n)},r)),Z(t,s),_t()}function nY(t){var e=[];return!t.isEditing&&ZG(t.value)&&e.push({component:PJ,props:t}),!t.isEditing&&eJ(t.value)&&e.push({component:NJ,props:t}),t.isEditing&&e.push({component:HJ,props:t}),t.isEditing||e.push({component:QJ,props:t}),!t.isEditing&&Fb(t.value)&&e.push({component:tY,props:t}),e}function so(t){return t.map((e,n)=>Gg.test(e)?"["+e+"]":/[.[\]]/.test(e)||e===""?'["'+function(r){return r.replace(/"/g,'\\"')}(e)+'"]':(n>0?".":"")+e).join("")}function rY(t){for(var e=[],n=0;n<t.length;)t[n]==="."&&n++,t[n]==="["?(n++,t[n]==='"'?(n++,e.push(r(s=>s==='"',!0)),i('"')):e.push(r(s=>s==="]")),i("]")):e.push(r(s=>s==="."||s==="["));function r(s){for(var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a="";n<t.length&&!s(t[n]);)o&&t[n]==="\\"&&t[n+1]==='"'?(a+='"',n+=2):(a+=t[n],n++);return a}function i(s){if(t[n]!==s)throw new SyntaxError("Invalid JSON path: ".concat(s," expected at position ").concat(n));n++}return e}function qa(t){return{value:t,label:Yn(t)?"(item root)":so(t)}}function iY(t){if(Gg.test(t))return"["+t+"]";if(Wx.test(t))return"."+t;var e=JSON.stringify(t);return"['"+e.substring(1,e.length-1).replace(/\\"/g,'"')+"']"}function Oo(t){return t.map(e=>Gg.test(e)?"?.[".concat(e,"]"):Wx.test(e)?"?.".concat(e):"?.[".concat(JSON.stringify(e),"]")).join("")}var Wx=/^[a-zA-Z$_][a-zA-Z$_\d]*$/,Gg=/^\d+$/,sY={},oY={showWizard:!0,showOriginal:!0},$m=Math.min,Wl=Math.max,Nm=Math.round,dp=Math.floor,Fo=t=>({x:t,y:t}),aY={left:"right",right:"left",bottom:"top",top:"bottom"},lY={start:"end",end:"start"};function nC(t,e,n){return Wl(t,$m(e,n))}function Jg(t,e){return typeof t=="function"?t(e):t}function Vl(t){return t.split("-")[0]}function Im(t){return t.split("-")[1]}function u5(t){return t==="x"?"y":"x"}function c5(t){return t==="y"?"height":"width"}function vc(t){return["top","bottom"].includes(Vl(t))?"y":"x"}function f5(t){return u5(vc(t))}function d0(t){return t.replace(/start|end/g,e=>lY[e])}function hp(t){return t.replace(/left|right|bottom|top/g,e=>aY[e])}function uY(t){return typeof t!="number"?function(e){return Le({top:0,right:0,bottom:0,left:0},e)}(t):{top:t,right:t,bottom:t,left:t}}function Dm(t){var{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function rC(t,e,n){var r,{reference:i,floating:s}=t,o=vc(e),a=f5(e),l=c5(a),f=Vl(e),c=o==="y",d=i.x+i.width/2-s.width/2,h=i.y+i.height/2-s.height/2,m=i[l]/2-s[l]/2;switch(f){case"top":r={x:d,y:i.y-s.height};break;case"bottom":r={x:d,y:i.y+i.height};break;case"right":r={x:i.x+i.width,y:h};break;case"left":r={x:i.x-s.width,y:h};break;default:r={x:i.x,y:i.y}}switch(Im(e)){case"start":r[a]-=m*(n&&c?-1:1);break;case"end":r[a]+=m*(n&&c?-1:1)}return r}var cY=function(){var t=Lt(function*(e,n,r){for(var{placement:i="bottom",strategy:s="absolute",middleware:o=[],platform:a}=r,l=o.filter(Boolean),f=yield a.isRTL==null?void 0:a.isRTL(n),c=yield a.getElementRects({reference:e,floating:n,strategy:s}),{x:d,y:h}=rC(c,i,f),m=i,p={},y=0,g=0;g<l.length;g++){var{name:b,fn:v}=l[g],{x,y:j,data:w,reset:k}=yield v({x:d,y:h,initialPlacement:i,placement:m,strategy:s,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:n}});d=x??d,h=j??h,p=Le(Le({},p),{},{[b]:Le(Le({},p[b]),w)}),k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(m=k.placement),k.rects&&(c=k.rects===!0?yield a.getElementRects({reference:e,floating:n,strategy:s}):k.rects),{x:d,y:h}=rC(c,m,f)),g=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:p}});return function(e,n,r){return t.apply(this,arguments)}}();function d5(t,e){return e1.apply(this,arguments)}function e1(){return e1=Lt(function*(t,e){var n;e===void 0&&(e={});var{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:f="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=Jg(e,t),p=uY(m),y=a[h?d==="floating"?"reference":"floating":d],g=Dm(yield s.getClippingRect({element:(n=yield s.isElement==null?void 0:s.isElement(y))==null||n?y:y.contextElement||(yield s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:f,rootBoundary:c,strategy:l})),b=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=yield s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating),x=(yield s.isElement==null?void 0:s.isElement(v))&&(yield s.getScale==null?void 0:s.getScale(v))||{x:1,y:1},j=Dm(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:v,strategy:l}):b);return{top:(g.top-j.top+p.top)/x.y,bottom:(j.bottom-g.bottom+p.bottom)/x.y,left:(g.left-j.left+p.left)/x.x,right:(j.right-g.right+p.right)/x.x}}),e1.apply(this,arguments)}function t1(){return t1=Lt(function*(t,e){var{placement:n,platform:r,elements:i}=t,s=yield r.isRTL==null?void 0:r.isRTL(i.floating),o=Vl(n),a=Im(n),l=vc(n)==="y",f=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,d=Jg(e,t),{mainAxis:h,crossAxis:m,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(m=a==="end"?-1*p:p),l?{x:m*c,y:h*f}:{x:h*f,y:m*c}}),t1.apply(this,arguments)}function Yg(){return typeof window<"u"}function bc(t){return h5(t)?(t.nodeName||"").toLowerCase():"#document"}function ks(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Uo(t){var e;return(e=(h5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function h5(t){return!!Yg()&&(t instanceof Node||t instanceof ks(t).Node)}function fo(t){return!!Yg()&&(t instanceof Element||t instanceof ks(t).Element)}function Yo(t){return!!Yg()&&(t instanceof HTMLElement||t instanceof ks(t).HTMLElement)}function iC(t){return!(!Yg()||typeof ShadowRoot>"u")&&(t instanceof ShadowRoot||t instanceof ks(t).ShadowRoot)}function ad(t){var{overflow:e,overflowX:n,overflowY:r,display:i}=ho(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function fY(t){return["table","td","th"].includes(bc(t))}function Lm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function n1(t){var e=Vx(),n=fo(t)?ho(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>!!n[r]&&n[r]!=="none")||!!n.containerType&&n.containerType!=="normal"||!e&&!!n.backdropFilter&&n.backdropFilter!=="none"||!e&&!!n.filter&&n.filter!=="none"||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Vx(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Zu(t){return["html","body","#document"].includes(bc(t))}function ho(t){return ks(t).getComputedStyle(t)}function Qg(t){return fo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ja(t){if(bc(t)==="html")return t;var e=t.assignedSlot||t.parentNode||iC(t)&&t.host||Uo(t);return iC(e)?e.host:e}function p5(t){var e=Ja(t);return Zu(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yo(e)&&ad(e)?e:p5(e)}function ld(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);var i=p5(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ks(i);if(s){var a=r1(o);return e.concat(o,o.visualViewport||[],ad(i)?i:[],a&&n?ld(a):[])}return e.concat(i,ld(i,[],n))}function r1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function m5(t){var e=ho(t),n=parseFloat(e.width)||0,r=parseFloat(e.height)||0,i=Yo(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Nm(n)!==s||Nm(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Hx(t){return fo(t)?t:t.contextElement}function ec(t){var e=Hx(t);if(!Yo(e))return Fo(1);var n=e.getBoundingClientRect(),{width:r,height:i,$:s}=m5(e),o=(s?Nm(n.width):n.width)/r,a=(s?Nm(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}var dY=Fo(0);function g5(t){var e=ks(t);return Vx()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:dY}function iu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),s=Hx(t),o=Fo(1);e&&(r?fo(r)&&(o=ec(r)):o=ec(t));var a=function(w,k,S){return k===void 0&&(k=!1),!(!S||k&&S!==ks(w))&&k}(s,n,r)?g5(s):Fo(0),l=(i.left+a.x)/o.x,f=(i.top+a.y)/o.y,c=i.width/o.x,d=i.height/o.y;if(s)for(var h=ks(s),m=r&&fo(r)?ks(r):r,p=h,y=r1(p);y&&r&&m!==p;){var g=ec(y),b=y.getBoundingClientRect(),v=ho(y),x=b.left+(y.clientLeft+parseFloat(v.paddingLeft))*g.x,j=b.top+(y.clientTop+parseFloat(v.paddingTop))*g.y;l*=g.x,f*=g.y,c*=g.x,d*=g.y,l+=x,f+=j,y=r1(p=ks(y))}return Dm({width:c,height:d,x:l,y:f})}function Kx(t,e){var n=Qg(t).scrollLeft;return e?e.left+n:iu(Uo(t)).left+n}function v5(t,e,n){n===void 0&&(n=!1);var r=t.getBoundingClientRect();return{x:r.left+e.scrollLeft-(n?0:Kx(t,r)),y:r.top+e.scrollTop}}function sC(t,e,n){var r;if(e==="viewport")r=function(s,o){var a=ks(s),l=Uo(s),f=a.visualViewport,c=l.clientWidth,d=l.clientHeight,h=0,m=0;if(f){c=f.width,d=f.height;var p=Vx();(!p||p&&o==="fixed")&&(h=f.offsetLeft,m=f.offsetTop)}return{width:c,height:d,x:h,y:m}}(t,n);else if(e==="document")r=function(s){var o=Uo(s),a=Qg(s),l=s.ownerDocument.body,f=Wl(o.scrollWidth,o.clientWidth,l.scrollWidth,l.clientWidth),c=Wl(o.scrollHeight,o.clientHeight,l.scrollHeight,l.clientHeight),d=-a.scrollLeft+Kx(s),h=-a.scrollTop;return ho(l).direction==="rtl"&&(d+=Wl(o.clientWidth,l.clientWidth)-f),{width:f,height:c,x:d,y:h}}(Uo(t));else if(fo(e))r=function(s,o){var a=iu(s,!0,o==="fixed"),l=a.top+s.clientTop,f=a.left+s.clientLeft,c=Yo(s)?ec(s):Fo(1);return{width:s.clientWidth*c.x,height:s.clientHeight*c.y,x:f*c.x,y:l*c.y}}(e,n);else{var i=g5(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Dm(r)}function b5(t,e){var n=Ja(t);return!(n===e||!fo(n)||Zu(n))&&(ho(n).position==="fixed"||b5(n,e))}function hY(t,e,n){var r=Yo(e),i=Uo(e),s=n==="fixed",o=iu(t,!0,s,e),a={scrollLeft:0,scrollTop:0},l=Fo(0);if(r||!r&&!s)if((bc(e)!=="body"||ad(i))&&(a=Qg(e)),r){var f=iu(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=Kx(i));var c=!i||r||s?Fo(0):v5(i,a);return{x:o.left+a.scrollLeft-l.x-c.x,y:o.top+a.scrollTop-l.y-c.y,width:o.width,height:o.height}}function h0(t){return ho(t).position==="static"}function oC(t,e){if(!Yo(t)||ho(t).position==="fixed")return null;if(e)return e(t);var n=t.offsetParent;return Uo(t)===n&&(n=n.ownerDocument.body),n}function aC(t,e){var n=ks(t);if(Lm(t))return n;if(!Yo(t)){for(var r=Ja(t);r&&!Zu(r);){if(fo(r)&&!h0(r))return r;r=Ja(r)}return n}for(var i=oC(t,e);i&&fY(i)&&h0(i);)i=oC(i,e);return i&&Zu(i)&&h0(i)&&!n1(i)?n:i||function(s){for(var o=Ja(s);Yo(o)&&!Zu(o);){if(n1(o))return o;if(Lm(o))return null;o=Ja(o)}return null}(t)||n}var pY={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){var{elements:e,rect:n,offsetParent:r,strategy:i}=t,s=i==="fixed",o=Uo(r),a=!!e&&Lm(e.floating);if(r===o||a&&s)return n;var l={scrollLeft:0,scrollTop:0},f=Fo(1),c=Fo(0),d=Yo(r);if((d||!d&&!s)&&((bc(r)!=="body"||ad(o))&&(l=Qg(r)),Yo(r))){var h=iu(r);f=ec(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}var m=!o||d||s?Fo(0):v5(o,l,!0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-l.scrollLeft*f.x+c.x+m.x,y:n.y*f.y-l.scrollTop*f.y+c.y+m.y}},getDocumentElement:Uo,getClippingRect:function(t){var{element:e,boundary:n,rootBoundary:r,strategy:i}=t,s=[...n==="clippingAncestors"?Lm(e)?[]:function(l,f){var c=f.get(l);if(c)return c;for(var d=ld(l,[],!1).filter(b=>fo(b)&&bc(b)!=="body"),h=null,m=ho(l).position==="fixed",p=m?Ja(l):l;fo(p)&&!Zu(p);){var y=ho(p),g=n1(p);g||y.position!=="fixed"||(h=null),(m?!g&&!h:!g&&y.position==="static"&&h&&["absolute","fixed"].includes(h.position)||ad(p)&&!g&&b5(l,p))?d=d.filter(b=>b!==p):h=y,p=Ja(p)}return f.set(l,d),d}(e,this._c):[].concat(n),r],o=s[0],a=s.reduce((l,f)=>{var c=sC(e,f,i);return l.top=Wl(c.top,l.top),l.right=$m(c.right,l.right),l.bottom=$m(c.bottom,l.bottom),l.left=Wl(c.left,l.left),l},sC(e,o,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:aC,getElementRects:function(){var t=Lt(function*(e){var n=this.getOffsetParent||aC,r=this.getDimensions,i=yield r(e.floating);return{reference:hY(e.reference,yield n(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}});return function(e){return t.apply(this,arguments)}}(),getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){var{width:e,height:n}=m5(t);return{width:e,height:n}},getScale:ec,isElement:fo,isRTL:function(t){return ho(t).direction==="rtl"}};function lC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function mY(t,e,n,r){r===void 0&&(r={});var{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,f=Hx(t),c=i||s?[...f?ld(f):[],...ld(e)]:[];c.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});var d,h=f&&a?function(g,b){var v,x=null,j=Uo(g);function w(){var k;clearTimeout(v),(k=x)==null||k.disconnect(),x=null}return function k(S,M){S===void 0&&(S=!1),M===void 0&&(M=1),w();var E=g.getBoundingClientRect(),{left:J,top:W,width:z,height:K}=E;if(S||b(),z&&K){var ue={rootMargin:-dp(W)+"px "+-dp(j.clientWidth-(J+z))+"px "+-dp(j.clientHeight-(W+K))+"px "+-dp(J)+"px",threshold:Wl(0,$m(1,M))||1},ne=!0;try{x=new IntersectionObserver(re,Le(Le({},ue),{},{root:j.ownerDocument}))}catch{x=new IntersectionObserver(re,ue)}x.observe(g)}function re(me){var de=me[0].intersectionRatio;if(de!==M){if(!ne)return k();de?k(!1,de):v=setTimeout(()=>{k(!1,1e-7)},1e3)}de!==1||lC(E,g.getBoundingClientRect())||k(),ne=!1}}(!0),w}(f,n):null,m=-1,p=null;o&&(p=new ResizeObserver(g=>{var[b]=g;b&&b.target===f&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(e)})),n()}),f&&!l&&p.observe(f),p.observe(e));var y=l?iu(t):null;return l&&function g(){var b=iu(t);y&&!lC(y,b)&&n(),y=b,d=requestAnimationFrame(g)}(),n(),()=>{var g;c.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),h==null||h(),(g=p)==null||g.disconnect(),p=null,l&&cancelAnimationFrame(d)}}var gY=function(t){return t===void 0&&(t=0),{name:"offset",options:t,fn:e=>Lt(function*(){var n,r,{x:i,y:s,placement:o,middlewareData:a}=e,l=yield function(f,c){return t1.apply(this,arguments)}(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:Le(Le({},l),{},{placement:o})}})()}},vY=function(t){return t===void 0&&(t={}),{name:"shift",options:t,fn:e=>Lt(function*(){var{x:n,y:r,placement:i}=e,s=Jg(t,e),{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:x=>{var{x:j,y:w}=x;return{x:j,y:w}}}}=s,f=QR(s,wG),c={x:n,y:r},d=yield d5(e,f),h=vc(Vl(i)),m=u5(h),p=c[m],y=c[h];if(o){var g=m==="y"?"bottom":"right";p=nC(p+d[m==="y"?"top":"left"],p,p-d[g])}if(a){var b=h==="y"?"bottom":"right";y=nC(y+d[h==="y"?"top":"left"],y,y-d[b])}var v=l.fn(Le(Le({},e),{},{[m]:p,[h]:y}));return Le(Le({},v),{},{data:{x:v.x-n,y:v.y-r,enabled:{[m]:o,[h]:a}}})})()}},bY=function(t){return t===void 0&&(t={}),{name:"flip",options:t,fn:e=>Lt(function*(){var n,r,{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:f}=e,c=Jg(t,e),{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0}=c,b=QR(c,xG);if((n=s.arrow)!=null&&n.alignmentOffset)return{};var v=Vl(i),x=vc(a),j=Vl(a)===a,w=yield l.isRTL==null?void 0:l.isRTL(f.floating),k=m||(j||!g?[hp(a)]:function(X){var $=hp(X);return[d0(X),$,d0($)]}(a)),S=y!=="none";!m&&S&&k.push(...function(X,$,ie,T){var A=Im(X),P=function(se,te,q){var ge=["left","right"],V=["right","left"];switch(se){case"top":case"bottom":return q?te?V:ge:te?ge:V;case"left":case"right":return te?["top","bottom"]:["bottom","top"];default:return[]}}(Vl(X),ie==="start",T);return A&&(P=P.map(se=>se+"-"+A),$&&(P=P.concat(P.map(d0)))),P}(a,g,y,w));var M=[a,...k],E=yield d5(e,b),J=[],W=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&J.push(E[v]),h){var z=function(X,$,ie){ie===void 0&&(ie=!1);var T=Im(X),A=f5(X),P=c5(A),se=A==="x"?T===(ie?"end":"start")?"right":"left":T==="start"?"bottom":"top";return $.reference[P]>$.floating[P]&&(se=hp(se)),[se,hp(se)]}(i,o,w);J.push(E[z[0]],E[z[1]])}if(W=[...W,{placement:i,overflows:J}],!J.every(X=>X<=0)){var K,ue,ne=(((K=s.flip)==null?void 0:K.index)||0)+1,re=M[ne];if(re)return{data:{index:ne,overflows:W},reset:{placement:re}};var me=(ue=W.filter(X=>X.overflows[0]<=0).sort((X,$)=>X.overflows[1]-$.overflows[1])[0])==null?void 0:ue.placement;if(!me)switch(p){case"bestFit":var de,pe=(de=W.filter(X=>{if(S){var $=vc(X.placement);return $===x||$==="y"}return!0}).map(X=>[X.placement,X.overflows.filter($=>$>0).reduce(($,ie)=>$+ie,0)]).sort((X,$)=>X[1]-$[1])[0])==null?void 0:de[0];pe&&(me=pe);break;case"initialPlacement":me=a}if(i!==me)return{reset:{placement:me}}}return{}})()}};function yY(t){var e,n,r={autoUpdate:!0},i=t,s=l=>Le(Le(Le({},r),t||{}),l||{}),o=l=>{e&&n&&(i=s(l),((f,c,d)=>{var h=new Map,m=Le({platform:pY},d),p=Le(Le({},m.platform),{},{_c:h});return cY(f,c,Le(Le({},m),{},{platform:p}))})(e,n,i).then(f=>{var c;Object.assign(n.style,{position:f.strategy,left:"".concat(f.x,"px"),top:"".concat(f.y,"px")}),!((c=i)===null||c===void 0)&&c.onComputed&&i.onComputed(f)}))},a=l=>{Ks(l.subscribe(f=>{e===void 0?(e=f,o()):(Object.assign(e,f),o())}))};return[l=>{if("subscribe"in l)return a(l),{};e=l,o()},(l,f)=>{var c;n=l,i=s(f),setTimeout(()=>o(f),0),o(f);var d=()=>{c&&(c(),c=void 0)},h=function(){var{autoUpdate:m}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i||{};d(),m!==!1&&function(){return hT.apply(this,arguments)}().then(()=>mY(e,n,()=>o(i),m===!0?{}:m))};return c=h(),{update(m){o(m),c=h(m)},destroy(){d()}}},o]}function xY(t){var{loadOptions:e,filterText:n,items:r,multiple:i,value:s,itemId:o,groupBy:a,filterSelectedItems:l,itemFilter:f,convertStringItemsToObjects:c,filterGroupedItems:d,label:h}=t;if(r&&e)return r;if(!r)return[];r&&r.length>0&&typeof r[0]!="object"&&(r=c(r));var m=r.filter(p=>{var y=f(p[h],n,p);return y&&i&&s!=null&&s.length&&(y=!s.some(g=>!!l&&g[o]===p[o])),y});return a&&(m=d(m)),m}function wY(t){return y5.apply(this,arguments)}function y5(){return(y5=Lt(function*(t){var{dispatch:e,loadOptions:n,convertStringItemsToObjects:r,filterText:i}=t,s=yield n(i).catch(o=>{console.warn("svelte-select loadOptions error :>> ",o),e("error",{type:"loadOptions",details:o})});if(s&&!s.cancelled)return s?(s&&s.length>0&&typeof s[0]!="object"&&(s=r(s)),e("loaded",{items:s})):s=[],{filteredItems:s,loading:!1,focused:!0,listOpen:!0}})).apply(this,arguments)}Nt(`
  svg.svelte-qbd276 {
      width: var(--chevron-icon-width, 20px);
      height: var(--chevron-icon-width, 20px);
      color: var(--chevron-icon-colour, currentColor);
  }
`);var jY=_l(`<svg width="100%" height="100%" viewBox="0 0 20 20" focusable="false" aria-hidden="true" class="svelte-qbd276"><path fill="currentColor" d="M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"></path></svg>`);Nt(`
    svg.svelte-whdbu1 {
        width: var(--clear-icon-width, 20px);
        height: var(--clear-icon-width, 20px);
        color: var(--clear-icon-color, currentColor);
    }
`);var kY=_l(`<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" aria-hidden="true" role="presentation" class="svelte-whdbu1"><path fill="currentColor" d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>`);function p0(t){Z(t,kY())}Nt(`
    .loading.svelte-1p3nqvd {
        width: var(--spinner-width, 20px);
        height: var(--spinner-height, 20px);
        color: var(--spinner-color, var(--icons-color));
        animation: svelte-1p3nqvd-rotate 0.75s linear infinite;
        transform-origin: center center;
        transform: none;
    }

    .circle_path.svelte-1p3nqvd {
        stroke-dasharray: 90;
        stroke-linecap: round;
    }

    @keyframes svelte-1p3nqvd-rotate {
        100% {
            transform: rotate(360deg);
        }
    }
`);var SY=_l('<svg class="loading svelte-1p3nqvd" viewBox="25 25 50 50"><circle class="circle_path svelte-1p3nqvd" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>');Nt(`
    .svelte-select.svelte-82qwg8 {
        /* deprecating camelCase custom props in favour of kebab-case for v5 */
        --borderRadius: var(--border-radius);
        --clearSelectColor: var(--clear-select-color);
        --clearSelectWidth: var(--clear-select-width);
        --disabledBackground: var(--disabled-background);
        --disabledBorderColor: var(--disabled-border-color);
        --disabledColor: var(--disabled-color);
        --disabledPlaceholderColor: var(--disabled-placeholder-color);
        --disabledPlaceholderOpacity: var(--disabled-placeholder-opacity);
        --errorBackground: var(--error-background);
        --errorBorder: var(--error-border);
        --groupItemPaddingLeft: var(--group-item-padding-left);
        --groupTitleColor: var(--group-title-color);
        --groupTitleFontSize: var(--group-title-font-size);
        --groupTitleFontWeight: var(--group-title-font-weight);
        --groupTitlePadding: var(--group-title-padding);
        --groupTitleTextTransform: var(--group-title-text-transform);
        --groupTitleBorderColor: var(--group-title-border-color);
        --groupTitleBorderWidth: var(--group-title-border-width);
        --groupTitleBorderStyle: var(--group-title-border-style);
        --indicatorColor: var(--chevron-color);
        --indicatorHeight: var(--chevron-height);
        --indicatorWidth: var(--chevron-width);
        --inputColor: var(--input-color);
        --inputLeft: var(--input-left);
        --inputLetterSpacing: var(--input-letter-spacing);
        --inputMargin: var(--input-margin);
        --inputPadding: var(--input-padding);
        --itemActiveBackground: var(--item-active-background);
        --itemColor: var(--item-color);
        --itemFirstBorderRadius: var(--item-first-border-radius);
        --itemHoverBG: var(--item-hover-bg);
        --itemHoverColor: var(--item-hover-color);
        --itemIsActiveBG: var(--item-is-active-bg);
        --itemIsActiveColor: var(--item-is-active-color);
        --itemIsNotSelectableColor: var(--item-is-not-selectable-color);
        --itemPadding: var(--item-padding);
        --listBackground: var(--list-background);
        --listBorder: var(--list-border);
        --listBorderRadius: var(--list-border-radius);
        --listEmptyColor: var(--list-empty-color);
        --listEmptyPadding: var(--list-empty-padding);
        --listEmptyTextAlign: var(--list-empty-text-align);
        --listMaxHeight: var(--list-max-height);
        --listPosition: var(--list-position);
        --listShadow: var(--list-shadow);
        --listZIndex: var(--list-z-index);
        --multiItemBG: var(--multi-item-bg);
        --multiItemBorderRadius: var(--multi-item-border-radius);
        --multiItemDisabledHoverBg: var(--multi-item-disabled-hover-bg);
        --multiItemDisabledHoverColor: var(--multi-item-disabled-hover-color);
        --multiItemHeight: var(--multi-item-height);
        --multiItemMargin: var(--multi-item-margin);
        --multiItemPadding: var(--multi-item-padding);
        --multiSelectInputMargin: var(--multi-select-input-margin);
        --multiSelectInputPadding: var(--multi-select-input-padding);
        --multiSelectPadding: var(--multi-select-padding);
        --placeholderColor: var(--placeholder-color);
        --placeholderOpacity: var(--placeholder-opacity);
        --selectedItemPadding: var(--selected-item-padding);
        --spinnerColor: var(--spinner-color);
        --spinnerHeight: var(--spinner-height);
        --spinnerWidth: var(--spinner-width);

        --internal-padding: 0 0 0 16px;

        border: var(--border, 1px solid #d8dbdf);
        border-radius: var(--border-radius, 6px);
        min-height: var(--height, 42px);
        position: relative;
        display: flex;
        align-items: stretch;
        padding: var(--padding, var(--internal-padding));
        background: var(--background, #fff);
        margin: var(--margin, 0);
        width: var(--width, 100%);
        font-size: var(--font-size, 16px);
        max-height: var(--max-height);
    }

    .svelte-82qwg8 {
        box-sizing: var(--box-sizing, border-box);
    }

    .svelte-select.svelte-82qwg8:hover {
        border: var(--border-hover, 1px solid #b2b8bf);
    }

    .value-container.svelte-82qwg8 {
        display: flex;
        flex: 1 1 0%;
        flex-wrap: wrap;
        align-items: center;
        gap: 5px 10px;
        padding: var(--value-container-padding, 5px 0);
        position: relative;
        overflow: var(--value-container-overflow, hidden);
        align-self: stretch;
    }

    .prepend.svelte-82qwg8,
    .indicators.svelte-82qwg8 {
        display: flex;
        flex-shrink: 0;
        align-items: center;
    }

    .indicators.svelte-82qwg8 {
        position: var(--indicators-position);
        top: var(--indicators-top);
        right: var(--indicators-right);
        bottom: var(--indicators-bottom);
    }

    input.svelte-82qwg8 {
        position: absolute;
        cursor: default;
        border: none;
        color: var(--input-color, var(--item-color));
        padding: var(--input-padding, 0);
        letter-spacing: var(--input-letter-spacing, inherit);
        margin: var(--input-margin, 0);
        min-width: 10px;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background: transparent;
        font-size: var(--font-size, 16px);
    }

    .svelte-82qwg8:not(.multi) > .value-container:where(.svelte-82qwg8) > input:where(.svelte-82qwg8) {
        width: 100%;
        height: 100%;
    }

    input.svelte-82qwg8::placeholder {
        color: var(--placeholder-color, #78848f);
        opacity: var(--placeholder-opacity, 1);
    }

    input.svelte-82qwg8:focus {
        outline: none;
    }

    .svelte-select.focused.svelte-82qwg8 {
        border: var(--border-focused, 1px solid #006fe8);
        border-radius: var(--border-radius-focused, var(--border-radius, 6px));
    }

    .disabled.svelte-82qwg8 {
        background: var(--disabled-background, #ebedef);
        border-color: var(--disabled-border-color, #ebedef);
        color: var(--disabled-color, #c1c6cc);
    }

    .disabled.svelte-82qwg8 input:where(.svelte-82qwg8)::placeholder {
        color: var(--disabled-placeholder-color, #c1c6cc);
        opacity: var(--disabled-placeholder-opacity, 1);
    }

    .selected-item.svelte-82qwg8 {
        position: relative;
        overflow: var(--selected-item-overflow, hidden);
        padding: var(--selected-item-padding, 0 20px 0 0);
        text-overflow: ellipsis;
        white-space: nowrap;
        color: var(--selected-item-color, inherit);
        font-size: var(--font-size, 16px);
    }

    .multi.svelte-82qwg8 .selected-item:where(.svelte-82qwg8) {
        position: absolute;
        line-height: var(--height, 42px);
        height: var(--height, 42px);
    }

    .selected-item.svelte-82qwg8:focus {
        outline: none;
    }

    .hide-selected-item.svelte-82qwg8 {
        opacity: 0;
    }

    .icon.svelte-82qwg8 {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .clear-select.svelte-82qwg8 {
        all: unset;
        display: flex;
        align-items: center;
        justify-content: center;
        width: var(--clear-select-width, 40px);
        height: var(--clear-select-height, 100%);
        color: var(--clear-select-color, var(--icons-color));
        margin: var(--clear-select-margin, 0);
        pointer-events: all;
        flex-shrink: 0;
    }

    .clear-select.svelte-82qwg8:focus {
        outline: var(--clear-select-focus-outline, 1px solid #006fe8);
    }

    .loading.svelte-82qwg8 {
        width: var(--loading-width, 40px);
        height: var(--loading-height);
        color: var(--loading-color, var(--icons-color));
        margin: var(--loading--margin, 0);
        flex-shrink: 0;
    }

    .chevron.svelte-82qwg8 {
        width: var(--chevron-width, 40px);
        height: var(--chevron-height, 40px);
        background: var(--chevron-background, transparent);
        pointer-events: var(--chevron-pointer-events, none);
        color: var(--chevron-color, var(--icons-color));
        border: var(--chevron-border, 0 0 0 1px solid #d8dbdf);
        flex-shrink: 0;
    }

    .multi.svelte-82qwg8 {
        padding: var(--multi-select-padding, var(--internal-padding));
    }

    .multi.svelte-82qwg8 input:where(.svelte-82qwg8) {
        padding: var(--multi-select-input-padding, 0);
        position: relative;
        margin: var(--multi-select-input-margin, 5px 0);
        flex: 1 1 40px;
    }

    .svelte-select.error.svelte-82qwg8 {
        border: var(--error-border, 1px solid #ff2d55);
        background: var(--error-background, #fff);
    }

    .a11y-text.svelte-82qwg8 {
        z-index: 9999;
        border: 0px;
        clip: rect(1px, 1px, 1px, 1px);
        height: 1px;
        width: 1px;
        position: absolute;
        overflow: hidden;
        padding: 0px;
        white-space: nowrap;
    }

    .multi-item.svelte-82qwg8 {
        background: var(--multi-item-bg, #ebedef);
        margin: var(--multi-item-margin, 0);
        outline: var(--multi-item-outline, 1px solid #ddd);
        border-radius: var(--multi-item-border-radius, 4px);
        height: var(--multi-item-height, 25px);
        line-height: var(--multi-item-height, 25px);
        display: flex;
        cursor: default;
        padding: var(--multi-item-padding, 0 5px);
        overflow: hidden;
        gap: var(--multi-item-gap, 4px);
        outline-offset: -1px;
        max-width: var(--multi-max-width, none);
        color: var(--multi-item-color, var(--item-color));
    }

    .multi-item.disabled.svelte-82qwg8:hover {
        background: var(--multi-item-disabled-hover-bg, #ebedef);
        color: var(--multi-item-disabled-hover-color, #c1c6cc);
    }

    .multi-item-text.svelte-82qwg8 {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .multi-item-clear.svelte-82qwg8 {
        display: flex;
        align-items: center;
        justify-content: center;
        --clear-icon-color: var(--multi-item-clear-icon-color, #000);
    }

    .multi-item.active.svelte-82qwg8 {
        outline: var(--multi-item-active-outline, 1px solid #006fe8);
    }

    .svelte-select-list.svelte-82qwg8 {
        box-shadow: var(--list-shadow, 0 2px 3px 0 rgba(44, 62, 80, 0.24));
        border-radius: var(--list-border-radius, 4px);
        max-height: var(--list-max-height, 252px);
        overflow-y: auto;
        background: var(--list-background, #fff);
        position: var(--list-position, absolute);
        z-index: var(--list-z-index, 2);
        border: var(--list-border);
    }

    .prefloat.svelte-82qwg8 {
        opacity: 0;
        pointer-events: none;
    }

    .list-group-title.svelte-82qwg8 {
        color: var(--group-title-color, #8f8f8f);
        cursor: default;
        font-size: var(--group-title-font-size, 16px);
        font-weight: var(--group-title-font-weight, 600);
        height: var(--height, 42px);
        line-height: var(--height, 42px);
        padding: var(--group-title-padding, 0 20px);
        text-overflow: ellipsis;
        overflow-x: hidden;
        white-space: nowrap;
        text-transform: var(--group-title-text-transform, uppercase);
        border-width: var(--group-title-border-width, medium);
        border-style: var(--group-title-border-style, none);
        border-color: var(--group-title-border-color, color);
    }

    .empty.svelte-82qwg8 {
        text-align: var(--list-empty-text-align, center);
        padding: var(--list-empty-padding, 20px 0);
        color: var(--list-empty-color, #78848f);
    }

    .item.svelte-82qwg8 {
        cursor: default;
        height: var(--item-height, var(--height, 42px));
        line-height: var(--item-line-height, var(--height, 42px));
        padding: var(--item-padding, 0 20px);
        color: var(--item-color, inherit);
        text-overflow: ellipsis;
        overflow: hidden;
        white-space: nowrap;
        transition: var(--item-transition, all 0.2s);
        align-items: center;
        width: 100%;
    }

    .item.group-item.svelte-82qwg8 {
        padding-left: var(--group-item-padding-left, 40px);
    }

    .item.svelte-82qwg8:active {
        background: var(--item-active-background, #b9daff);
    }

    .item.active.svelte-82qwg8 {
        background: var(--item-is-active-bg, #007aff);
        color: var(--item-is-active-color, #fff);
    }

    .item.first.svelte-82qwg8 {
        border-radius: var(--item-first-border-radius, 4px 4px 0 0);
    }

    .item.hover.svelte-82qwg8:not(.active) {
        background: var(--item-hover-bg, #e7f2ff);
        color: var(--item-hover-color, inherit);
    }

    .item.not-selectable.svelte-82qwg8,
    .item.hover.item.not-selectable.svelte-82qwg8,
    .item.active.item.not-selectable.svelte-82qwg8,
    .item.not-selectable.svelte-82qwg8:active {
        color: var(--item-is-not-selectable-color, #999);
        background: transparent;
    }

    .required.svelte-82qwg8 {
        opacity: 0;
        z-index: -1;
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
    }
`);var CY=be('<div class="list-item svelte-82qwg8" tabindex="-1" role="none"><div><!></div></div>'),_Y=be('<div class="empty svelte-82qwg8">No options</div>'),AY=be('<div role="none"><!> <!> <!></div>'),OY=be('<span id="aria-selection" class="svelte-82qwg8"> </span> <span id="aria-context" class="svelte-82qwg8"> </span>',1),EY=be('<div class="multi-item-clear svelte-82qwg8"><!></div>'),MY=be('<div role="none"><span class="multi-item-text svelte-82qwg8"><!></span> <!></div>'),PY=be("<div><!></div>"),RY=be('<div class="icon loading svelte-82qwg8" aria-hidden="true"><!></div>'),TY=be('<button type="button" class="icon clear-select svelte-82qwg8"><!></button>'),$Y=be('<div class="icon chevron svelte-82qwg8" aria-hidden="true"><!></div>'),NY=be('<input type="hidden" class="svelte-82qwg8">'),IY=be('<select class="required svelte-82qwg8" required tabindex="-1" aria-hidden="true"></select>'),DY=be('<div role="none"><!> <span aria-live="polite" aria-atomic="false" aria-relevant="additions text" class="a11y-text svelte-82qwg8"><!></span> <div class="prepend svelte-82qwg8"><!></div> <div class="value-container svelte-82qwg8"><!> <input></div> <div class="indicators svelte-82qwg8"><!> <!> <!></div> <!> <!></div>');function Ll(t,e){var n=function(ce){var je={};for(var Fe in ce.children&&(je.default=!0),ce.$$slots)je[Fe]=!0;return je}(e);Ct(e,!1);var r,i=Y(),s=Y(),o=Y(),a=Y(),l=Y(),f=Y(),c=Y(),d=Y(),h=Y(),m=HG(),p=C(e,"justValue",12,null),y=C(e,"filter",8,xY),g=C(e,"getItems",8,wY),b=C(e,"id",8,null),v=C(e,"name",8,null),x=C(e,"container",12,void 0),j=C(e,"input",12,void 0),w=C(e,"multiple",8,!1),k=C(e,"multiFullItemClearable",8,!1),S=C(e,"disabled",8,!1),M=C(e,"focused",12,!1),E=C(e,"value",12,null),J=C(e,"filterText",12,""),W=C(e,"placeholder",8,"Please select"),z=C(e,"placeholderAlwaysShow",8,!1),K=C(e,"items",12,null),ue=C(e,"label",8,"label"),ne=C(e,"itemFilter",8,(ce,je,Fe)=>"".concat(ce).toLowerCase().includes(je.toLowerCase())),re=C(e,"groupBy",8,void 0),me=C(e,"groupFilter",8,ce=>ce),de=C(e,"groupHeaderSelectable",8,!1),pe=C(e,"itemId",8,"value"),X=C(e,"loadOptions",8,void 0),$=C(e,"containerStyles",8,""),ie=C(e,"hasError",8,!1),T=C(e,"filterSelectedItems",8,!0),A=C(e,"required",8,!1),P=C(e,"closeListOnChange",8,!0),se=C(e,"clearFilterTextOnBlur",8,!0),te=C(e,"createGroupHeaderItem",8,(ce,je)=>({value:ce,[ue()]:ce})),q=()=>u(c),ge=C(e,"searchable",8,!0),V=C(e,"inputStyles",8,""),F=C(e,"clearable",8,!0),ee=C(e,"loading",12,!1),U=C(e,"listOpen",12,!1),H=C(e,"debounce",8,function(ce){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;clearTimeout(r),r=setTimeout(ce,je)}),B=C(e,"debounceWait",8,300),Te=C(e,"hideEmptyState",8,!1),lt=C(e,"inputAttributes",24,()=>({})),Ze=C(e,"listAutoWidth",8,!0),Ce=C(e,"showChevron",8,!1),Ve=C(e,"listOffset",8,5),Ie=C(e,"hoverItemIndex",12,0),pt=C(e,"floatingConfig",24,()=>({})),bt=C(e,"class",8,""),nt=Y(),Ne=Y(),O=Y(),I=Y(),D=Y();function ae(ce){return ce.map((je,Fe)=>({index:Fe,value:je,label:"".concat(je)}))}function he(ce){var je=[],Fe={};ce.forEach(kn=>{var fn=re()(kn);je.includes(fn)||(je.push(fn),Fe[fn]=[],fn&&Fe[fn].push(Object.assign(te()(fn,kn),{id:fn,groupHeader:!0,selectable:de()}))),Fe[fn].push(Object.assign({groupItem:!!fn},kn))});var Ut=[];return me()(je).forEach(kn=>{Fe[kn]&&Ut.push(...Fe[kn])}),Ut}function ke(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,je=arguments.length>1?arguments[1]:void 0;Ie(ce<0?0:ce),!je&&re()&&u(c)[Ie()]&&!u(c)[Ie()].selectable&&Dn(1)}function oe(){var ce=!0;if(E()){var je=[],Fe=[];E().forEach(Ut=>{je.includes(Ut[pe()])?ce=!1:(je.push(Ut[pe()]),Fe.push(Ut))}),ce||E(Fe)}return ce}function Me(ce){var je=ce?ce[pe()]:E()[pe()];return K().find(Fe=>Fe[pe()]===je)}function Ye(ce){return Tt.apply(this,arguments)}function Tt(){return(Tt=Lt(function*(ce){var je=E()[ce];E().length===1?E(void 0):E(E().filter(Fe=>Fe!==je)),m("clear",je)})).apply(this,arguments)}function kt(ce){if(M())switch(ce.stopPropagation(),ce.key){case"Escape":ce.preventDefault(),Vt();break;case"Enter":if(ce.preventDefault(),U()){if(u(c).length===0)break;var je=u(c)[Ie()];if(E()&&!w()&&E()[pe()]===je[pe()]){Vt();break}Yt(u(c)[Ie()])}break;case"ArrowDown":ce.preventDefault(),U()?Dn(1):(U(!0),_(nt,void 0));break;case"ArrowUp":ce.preventDefault(),U()?Dn(-1):(U(!0),_(nt,void 0));break;case"Tab":if(U()&&M()){if(u(c).length===0||E()&&E()[pe()]===u(c)[Ie()][pe()])return Vt();ce.preventDefault(),Yt(u(c)[Ie()]),Vt()}break;case"Backspace":if(!w()||J().length>0)return;if(w()&&E()&&E().length>0){if(Ye(u(nt)!==void 0?u(nt):E().length-1),u(nt)===0||u(nt)===void 0)break;_(nt,E().length>u(nt)?u(nt)-1:void 0)}break;case"ArrowLeft":if(!E()||!w()||J().length>0)return;u(nt)===void 0?_(nt,E().length-1):E().length>u(nt)&&u(nt)!==0&&_(nt,u(nt)-1);break;case"ArrowRight":if(!E()||!w()||J().length>0||u(nt)===void 0)return;u(nt)===E().length-1?_(nt,void 0):u(nt)<E().length-1&&_(nt,u(nt)+1)}}function Ee(ce){var je,Fe;M()&&j()===((je=document)===null||je===void 0?void 0:je.activeElement)||(ce&&m("focus",ce),(Fe=j())===null||Fe===void 0||Fe.focus(),M(!0))}function It(ce){return Hn.apply(this,arguments)}function Hn(){return(Hn=Lt(function*(ce){var je;mt||(U()||M())&&(m("blur",ce),Vt(),M(!1),_(nt,void 0),(je=j())===null||je===void 0||je.blur())})).apply(this,arguments)}function On(){if(!S())return J().length>0?U(!0):void U(!U())}function en(){m("clear",E()),E(void 0),Vt(),Ee()}function Vt(){se()&&J(""),U(!1)}KG(Lt(function*(){_(Ne,E()),_(O,J()),_(I,w())})),Pi(()=>{U()&&M(!0),M()&&j()&&j().focus()});var mn=C(e,"ariaValues",8,ce=>"Option ".concat(ce,", selected.")),En=C(e,"ariaListOpen",8,(ce,je)=>"You are currently focused on option ".concat(ce,". There are ").concat(je," results available.")),Zn=C(e,"ariaFocused",8,()=>"Select is focused, type to refine list, press down to open the menu."),cn,ot=Y(null);function gn(){clearTimeout(cn),cn=setTimeout(()=>{mt=!1},100)}Ks(()=>{var ce;(ce=u(ot))===null||ce===void 0||ce.remove()});var mt=!1;function Yt(ce){ce&&ce.selectable!==!1&&function(je){if(je){J("");var Fe=Object.assign({},je);if(Fe.groupHeader&&!Fe.selectable)return;E(w()?E()?E().concat([Fe]):[Fe]:E(Fe)),setTimeout(()=>{P()&&Vt(),_(nt,void 0),m("change",E()),m("select",je)})}}(ce)}function xn(ce){mt||Ie(ce)}function Dn(ce){if(u(c).filter(Fe=>!Object.hasOwn(Fe,"selectable")||Fe.selectable===!0).length===0)return Ie(0);ce>0&&Ie()===u(c).length-1?Ie(0):ce<0&&Ie()===0?Ie(u(c).length-1):Ie(Ie()+ce);var je=u(c)[Ie()];je&&je.selectable===!1&&(ce!==1&&ce!==-1||Dn(ce))}function Mn(ce,je,Fe){if(!w())return je&&je[Fe]===ce[Fe]}var sr=hi,Sr=hi;function hi(ce){return{update(je){je.scroll&&(gn(),ce.scrollIntoView({behavior:"auto",block:"nearest"}))}}}var Mr=Y({strategy:"absolute",placement:"bottom-start",middleware:[gY(Ve()),bY(),vY()],autoUpdate:!1}),[Yr,ti,Wr]=yY(u(Mr)),br=Y(!0);fe(()=>(G(K()),G(E())),()=>{K(),E()&&function(){if(typeof E()=="string"){var ce=(K()||[]).find(je=>je[pe()]===E());E(ce||{[pe()]:E(),label:E()})}else w()&&Array.isArray(E())&&E().length>0&&E(E().map(je=>typeof je=="string"?{value:je,label:je}:je))}()}),fe(()=>(G(lt()),G(ge())),()=>{!lt()&&ge()||(_(D,Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},lt())),b()&&xs(D,u(D).id=b()),ge()||xs(D,u(D).readonly=!0))}),fe(()=>G(w()),()=>{w()&&E()&&(Array.isArray(E())?E([...E()]):E([E()]))}),fe(()=>(u(I),G(w())),()=>{u(I)&&!w()&&E()&&E(null)}),fe(()=>(G(w()),G(E())),()=>{w()&&E()&&E().length>1&&oe()}),fe(()=>G(E()),()=>{E()&&(w()?JSON.stringify(E())!==JSON.stringify(u(Ne))&&oe()&&m("input",E()):u(Ne)&&JSON.stringify(E()[pe()])===JSON.stringify(u(Ne)[pe()])||m("input",E()))}),fe(()=>(G(E()),G(w()),u(Ne)),()=>{!E()&&w()&&u(Ne)&&m("input",E())}),fe(()=>(G(M()),G(j())),()=>{!M()&&j()&&Vt()}),fe(()=>(G(J()),u(O)),()=>{J()!==u(O)&&(X()||J().length!==0)&&(X()?H()(Lt(function*(){ee(!0);var ce=yield g()({dispatch:m,loadOptions:X(),convertStringItemsToObjects:ae,filterText:J()});ce?(ee(ce.loading),U(U()?ce.listOpen:J().length>0),M(U()&&ce.focused),K(re()?he(ce.filteredItems):ce.filteredItems)):(ee(!1),M(!0),U(!0))}),B()):(U(!0),w()&&_(nt,void 0)))}),fe(()=>(G(y()),G(X()),G(J()),G(K()),G(w()),G(E()),G(pe()),G(re()),G(ue()),G(T()),G(ne())),()=>{_(c,y()({loadOptions:X(),filterText:J(),items:K(),multiple:w(),value:E(),itemId:pe(),groupBy:re(),label:ue(),filterSelectedItems:T(),itemFilter:ne(),convertStringItemsToObjects:ae,filterGroupedItems:he}))}),fe(()=>(G(w()),G(U()),G(E()),u(c)),()=>{!w()&&U()&&E()&&u(c)&&ke(u(c).findIndex(ce=>ce[pe()]===E()[pe()]),!0)}),fe(()=>(G(U()),G(w())),()=>{U()&&w()&&Ie(0)}),fe(()=>G(J()),()=>{J()&&Ie(0)}),fe(()=>G(Ie()),()=>{var ce;ce=Ie(),m("hoverItem",ce)}),fe(()=>(G(w()),G(E())),()=>{_(i,w()?E()&&E().length>0:E())}),fe(()=>(u(i),G(J())),()=>{_(s,u(i)&&J().length>0)}),fe(()=>(u(i),G(F()),G(S()),G(ee())),()=>{_(o,u(i)&&F()&&!S()&&!ee())}),fe(()=>(G(z()),G(w()),G(W()),G(E())),()=>{var ce;_(a,z()&&w()||w()&&((ce=E())===null||ce===void 0?void 0:ce.length)===0?W():E()?"":W())}),fe(()=>(G(E()),G(w())),()=>{var ce,je;_(l,E()?(ce=w(),je=void 0,je=ce&&E().length>0?E().map(Fe=>Fe[ue()]).join(", "):E()[ue()],mn()(je)):"")}),fe(()=>(u(c),G(Ie()),G(M()),G(U())),()=>{_(f,function(){if(!u(c)||u(c).length===0)return"";var ce=u(c)[Ie()];if(U()&&ce){var je=u(c)?u(c).length:0;return En()(ce[ue()],je)}return Zn()()}((u(c),Ie(),M(),U())))}),fe(()=>G(K()),()=>{(function(ce){ce&&ce.length!==0&&!ce.some(je=>typeof je!="object")&&E()&&(w()?!E().some(je=>!je||!je[pe()]):E()[pe()])&&(Array.isArray(E())?E(E().map(je=>Me(je)||je)):E(Me()||E()))})(K())}),fe(()=>(G(w()),G(E()),G(pe())),()=>{p((w(),E(),pe(),w()?E()?E().map(ce=>ce[pe()]):null:E()?E()[pe()]:E()))}),fe(()=>(G(w()),u(Ne),G(E())),()=>{w()||!u(Ne)||E()||m("input",E())}),fe(()=>(G(U()),u(c),G(w()),G(E())),()=>{U()&&u(c)&&!w()&&!E()&&ke()}),fe(()=>u(c),()=>{(function(ce){U()&&m("filter",ce)})(u(c))}),fe(()=>(G(x()),G(pt()),u(Mr)),()=>{x()&&pt()&&Wr(Object.assign(u(Mr),pt()))}),fe(()=>u(ot),()=>{_(d,!!u(ot))}),fe(()=>(u(ot),G(U())),()=>{(function(ce,je){if(!ce||!je)return _(br,!0);setTimeout(()=>{_(br,!1)},0)})(u(ot),U())}),fe(()=>(G(U()),G(x()),u(ot)),()=>{U()&&x()&&u(ot)&&function(){var{width:ce}=x().getBoundingClientRect();xs(ot,u(ot).style.width=Ze()?ce+"px":"auto")}()}),fe(()=>G(Ie()),()=>{_(h,Ie())}),fe(()=>(G(j()),G(U()),G(M())),()=>{j()&&U()&&!M()&&Ee()}),fe(()=>(G(x()),G(pt())),()=>{var ce;x()&&((ce=pt())===null||ce===void 0?void 0:ce.autoUpdate)===void 0&&xs(Mr,u(Mr).autoUpdate=!0)}),_n(),Mt();var Pr,Pe=DY();Ae("click",xa,function(ce){var je;U()||M()||!x()||x().contains(ce.target)||(je=u(ot))!==null&&je!==void 0&&je.contains(ce.target)||It()}),Ae("keydown",xa,kt);var tn=Q(Pe),hr=ce=>{var je,Fe=AY(),Ut=Q(Fe),kn=it=>{var ur=on();zr(st(ur),e,"list-prepend",{},null),Z(it,ur)};we(Ut,it=>{n["list-prepend"]&&it(kn)});var fn=le(Ut,2),Gn=it=>{var ur=on();zr(st(ur),e,"list",{get filteredItems(){return u(c)}},null),Z(it,ur)},pr=it=>{var ur=on(),sn=st(ur),pi=Rn=>{var zn=on();Ur(st(zn),1,()=>u(c),ei,(mr,L,ye)=>{var Re,De=CY(),Be=Q(De);zr(Q(Be),e,"item",{get item(){return u(L)},index:ye},Qe=>{var Ke=Bi();qe(()=>{var ft;return Rt(Ke,(ft=u(L))===null||ft===void 0?void 0:ft[ue()])}),Z(Qe,Ke)}),Li(Be,(Qe,Ke)=>sr==null?void 0:sr(Qe),()=>({scroll:Mn(u(L),E(),pe()),listDom:u(d)})),Li(Be,(Qe,Ke)=>Sr==null?void 0:Sr(Qe),()=>({scroll:u(h)===ye,listDom:u(d)})),qe((Qe,Ke)=>{var ft;return Re=qt(Be,1,"item svelte-82qwg8",null,Re,{"list-group-title":u(L).groupHeader,active:Qe,first:Ke,hover:Ie()===ye,"group-item":u(L).groupItem,"not-selectable":((ft=u(L))===null||ft===void 0?void 0:ft.selectable)===!1})},[()=>Mn(u(L),E(),pe()),()=>ye===0],$e),Ae("mouseover",De,()=>xn(ye)),Ae("focus",De,()=>xn(ye)),Ae("click",De,no(()=>function(Qe){var{item:Ke,i:ft}=Qe;if((Ke==null?void 0:Ke.selectable)!==!1)return E()&&!w()&&E()[pe()]===Ke[pe()]?Vt():void(function(Ft){return Ft.groupHeader&&Ft.selectable||Ft.selectable||!Ft.hasOwnProperty("selectable")}(Ke)&&(Ie(ft),Yt(Ke)))}({item:u(L),i:ye}))),Ae("keydown",De,Da(no(function(Qe){gf.call(this,e,Qe)}))),Z(mr,De)}),Z(Rn,zn)},Ot=Rn=>{var zn=on(),mr=st(zn),L=ye=>{var Re=on();zr(st(Re),e,"empty",{},De=>{Z(De,_Y())}),Z(ye,Re)};we(mr,ye=>{Te()||ye(L)},!0),Z(Rn,zn)};we(sn,Rn=>{u(c).length>0?Rn(pi):Rn(Ot,!1)},!0),Z(it,ur)};we(fn,it=>{n.list?it(Gn):it(pr,!1)});var er=le(fn,2),Dr=it=>{var ur=on();zr(st(ur),e,"list-append",{},null),Z(it,ur)};we(er,it=>{n["list-append"]&&it(Dr)}),Li(Fe,it=>ti==null?void 0:ti(it)),jr(Fe,it=>_(ot,it),()=>u(ot)),vi(()=>Ae("scroll",Fe,gn)),vi(()=>Ae("pointerup",Fe,Da(no(function(it){gf.call(this,e,it)})))),vi(()=>Ae("mousedown",Fe,Da(no(function(it){gf.call(this,e,it)})))),qe(()=>je=qt(Fe,1,"svelte-select-list svelte-82qwg8",null,je,{prefloat:u(br)})),Z(ce,Fe)};we(tn,ce=>{U()&&ce(hr)});var xe=le(tn,2),ze=Q(xe),wt=ce=>{var je=OY(),Fe=st(je),Ut=Q(Fe),kn=Q(le(Fe,2));qe(()=>{Rt(Ut,u(l)),Rt(kn,u(f))}),Z(ce,je)};we(ze,ce=>{M()&&ce(wt)});var zt=le(xe,2);zr(Q(zt),e,"prepend",{},null);var gt=le(zt,2),Qt=Q(gt),wn=ce=>{var je=on(),Fe=st(je),Ut=fn=>{var Gn=on();Ur(st(Gn),1,E,ei,(pr,er,Dr)=>{var it,ur=MY(),sn=Q(ur);zr(Q(sn),e,"selection",{get selection(){return u(er)},index:Dr},Rn=>{var zn=Bi();qe(()=>Rt(zn,u(er)[ue()])),Z(Rn,zn)});var pi=le(sn,2),Ot=Rn=>{var zn=EY();zr(Q(zn),e,"multi-clear-icon",{},mr=>{p0(mr)}),Ae("pointerup",zn,Da(no(()=>Ye(Dr)))),Z(Rn,zn)};we(pi,Rn=>{S()||k()||!p0||Rn(Ot)}),qe(()=>it=qt(ur,1,"multi-item svelte-82qwg8",null,it,{active:u(nt)===Dr,disabled:S()})),Ae("click",ur,Da(()=>k()?Ye(Dr):{})),Ae("keydown",ur,Da(no(function(Rn){gf.call(this,e,Rn)}))),Z(pr,ur)}),Z(fn,Gn)},kn=fn=>{var Gn,pr=PY();zr(Q(pr),e,"selection",{get selection(){return E()}},er=>{var Dr=Bi();qe(()=>Rt(Dr,E()[ue()])),Z(er,Dr)}),qe(()=>Gn=qt(pr,1,"selected-item svelte-82qwg8",null,Gn,{"hide-selected-item":u(s)})),Z(fn,pr)};we(Fe,fn=>{w()?fn(Ut):fn(kn,!1)}),Z(ce,je)};we(Qt,ce=>{u(i)&&ce(wn)});var Ht,Kt=le(Qt,2);jr(Kt,ce=>j(ce),()=>j());var vt=le(gt,2),yt=Q(vt),Pn=ce=>{var je=RY();zr(Q(je),e,"loading-icon",{},Fe=>{(function(Ut){Z(Ut,SY())})(Fe)}),Z(ce,je)};we(yt,ce=>{ee()&&ce(Pn)});var Bt=le(yt,2),Kn=ce=>{var je=TY();zr(Q(je),e,"clear-icon",{},Fe=>{p0(Fe)}),Ae("click",je,en),Z(ce,je)};we(Bt,ce=>{u(o)&&ce(Kn)});var jn=le(Bt,2),nn=ce=>{var je=$Y();zr(Q(je),e,"chevron-icon",{get listOpen(){return U()}},Fe=>{(function(Ut){Z(Ut,jY())})(Fe)}),Z(ce,je)};we(jn,ce=>{Ce()&&ce(nn)});var Ln=le(vt,2);zr(Ln,e,"input-hidden",{get value(){return E()}},ce=>{var je=NY();qe(Fe=>{$n(je,"name",v()),eu(je,Fe)},[()=>E()?JSON.stringify(E()):null],$e),Z(ce,je)});var rn=le(Ln,2),Rr=ce=>{var je=on();zr(st(je),e,"required",{get value(){return E()}},Fe=>{Z(Fe,IY())}),Z(ce,je)};return we(rn,ce=>{!A()||E()&&E().length!==0||ce(Rr)}),vi(()=>Ae("pointerup",Pe,Da(On))),jr(Pe,ce=>x(ce),()=>x()),Li(Pe,ce=>Yr==null?void 0:Yr(ce)),qe(()=>{var ce;Pr=qt(Pe,1,"svelte-select ".concat((ce=bt())!==null&&ce!==void 0?ce:""),"svelte-82qwg8",Pr,{multi:w(),disabled:S(),focused:M(),"list-open":U(),"show-chevron":Ce(),error:ie()}),$n(Pe,"style",$()),Ht=$p(Kt,Ht,Le(Le({readOnly:!ge()},u(D)),{},{placeholder:u(a),style:V(),disabled:S()}),"svelte-82qwg8")}),Ae("keydown",Kt,kt),Ae("blur",Kt,It),Ae("focus",Kt,Ee),Om(Kt,J),Z(t,Pe),Dt(e,"getFilteredItems",q),Dt(e,"handleClear",en),_t({getFilteredItems:q,handleClear:en})}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
table.jse-transform-wizard.svelte-qbze6z {
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;
}
table.jse-transform-wizard.svelte-qbze6z input:where(.svelte-qbze6z) {
  font-family: inherit;
  font-size: inherit;
}
table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) th:where(.svelte-qbze6z) {
  font-weight: normal;
  text-align: left;
  width: 60px;
}
table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) {
  width: 100%;
  display: flex;
  flex-direction: row;
  margin-bottom: calc(0.5 * var(--jse-padding, 10px));
}
table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select .multi-item {
  align-items: center;
}
table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select .value-container {
  gap: 0 !important;
}
table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select.jse-filter-path {
  flex: 4;
  margin-right: calc(0.5 * var(--jse-padding, 10px));
}
table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select.jse-filter-relation {
  flex: 1.5;
  margin-right: calc(0.5 * var(--jse-padding, 10px));
}
table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select.jse-sort-path {
  flex: 3;
  margin-right: calc(0.5 * var(--jse-padding, 10px));
}
table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select.jse-sort-direction {
  flex: 1;
}
table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select.jse-projection-paths {
  flex: 1;
}
table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select input {
  box-sizing: border-box;
}
table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .jse-filter-value:where(.svelte-qbze6z) {
  flex: 4;
  padding: 4px 8px;
  border: var(--jse-input-border, 1px solid #d8dbdf);
  border-radius: var(--jse-input-radius, 3px);
  outline: none;
  background: var(--jse-input-background, var(--jse-background-color, #fff));
  color: inherit;
}
table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .jse-filter-value:where(.svelte-qbze6z):focus {
  border: var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)));
}`);var LY=be('<table class="jse-transform-wizard svelte-qbze6z"><tbody><tr class="svelte-qbze6z"><th class="svelte-qbze6z">Filter</th><td class="svelte-qbze6z"><div class="jse-horizontal svelte-qbze6z"><!> <!> <input class="jse-filter-value svelte-qbze6z"></div></td></tr><tr class="svelte-qbze6z"><th class="svelte-qbze6z">Sort</th><td class="svelte-qbze6z"><div class="jse-horizontal svelte-qbze6z"><!> <!></div></td></tr><tr class="svelte-qbze6z"><th class="svelte-qbze6z">Pick</th><td class="svelte-qbze6z"><div class="jse-horizontal svelte-qbze6z"><!></div></td></tr></tbody></table>');function zY(t,e){var n,r,i,s,o;Ct(e,!1);var a=Y(void 0,!0),l=Y(void 0,!0),f=Y(void 0,!0),c=Y(void 0,!0),d=Y(void 0,!0),h=Y(void 0,!0),m=fi("jsoneditor:TransformWizard"),p=C(e,"json",9),y=C(e,"queryOptions",29,()=>({})),g=C(e,"onChange",9),b=["==","!=","<","<=",">",">="].map(T=>({value:T,label:T})),v=[{value:"asc",label:"ascending"},{value:"desc",label:"descending"}],x=Y((n=y())!==null&&n!==void 0&&(n=n.filter)!==null&&n!==void 0&&n.path?qa(y().filter.path):void 0,!0),j=Y((r=b.find(T=>{var A;return T.value===((A=y().filter)===null||A===void 0?void 0:A.relation)}))!==null&&r!==void 0?r:b[0],!0),w=Y(((i=y())===null||i===void 0||(i=i.filter)===null||i===void 0?void 0:i.value)||"",!0),k=Y((s=y())!==null&&s!==void 0&&(s=s.sort)!==null&&s!==void 0&&s.path?qa(y().sort.path):void 0,!0),S=Y((o=v.find(T=>{var A;return T.value===((A=y().sort)===null||A===void 0?void 0:A.direction)}))!==null&&o!==void 0?o:v[0],!0);fe(()=>G(p()),()=>{_(a,Array.isArray(p()))}),fe(()=>(u(a),G(p())),()=>{_(l,u(a)?Ub(p()):[])}),fe(()=>(u(a),G(p())),()=>{_(f,u(a)?Ub(p(),!0):[])}),fe(()=>(u(l),qa),()=>{_(c,u(l).map(qa))}),fe(()=>(u(f),qa),()=>{_(d,u(f)?u(f).map(qa):[])}),fe(()=>(G(y()),u(d),ln),()=>{var T;_(h,(T=y())!==null&&T!==void 0&&(T=T.projection)!==null&&T!==void 0&&T.paths&&u(d)?y().projection.paths.map(A=>u(d).find(P=>ln(P.value,A))).filter(A=>!!A):void 0)}),fe(()=>u(x),()=>{var T,A,P;A=(T=u(x))===null||T===void 0?void 0:T.value,ln((P=y())===null||P===void 0||(P=P.filter)===null||P===void 0?void 0:P.path,A)||(m("changeFilterPath",A),y(as(y(),["filter","path"],A,!0)),g()(y()))}),fe(()=>u(j),()=>{var T,A,P;A=(T=u(j))===null||T===void 0?void 0:T.value,ln((P=y())===null||P===void 0||(P=P.filter)===null||P===void 0?void 0:P.relation,A)||(m("changeFilterRelation",A),y(as(y(),["filter","relation"],A,!0)),g()(y()))}),fe(()=>u(w),()=>{var T,A;T=u(w),ln((A=y())===null||A===void 0||(A=A.filter)===null||A===void 0?void 0:A.value,T)||(m("changeFilterValue",T),y(as(y(),["filter","value"],T,!0)),g()(y()))}),fe(()=>u(k),()=>{var T,A,P;A=(T=u(k))===null||T===void 0?void 0:T.value,ln((P=y())===null||P===void 0||(P=P.sort)===null||P===void 0?void 0:P.path,A)||(m("changeSortPath",A),y(as(y(),["sort","path"],A,!0)),g()(y()))}),fe(()=>u(S),()=>{var T,A,P;A=(T=u(S))===null||T===void 0?void 0:T.value,ln((P=y())===null||P===void 0||(P=P.sort)===null||P===void 0?void 0:P.direction,A)||(m("changeSortDirection",A),y(as(y(),["sort","direction"],A,!0)),g()(y()))}),fe(()=>u(h),()=>{(function(T){var A;ln((A=y())===null||A===void 0||(A=A.projection)===null||A===void 0?void 0:A.paths,T)||(m("changeProjectionPaths",T),y(as(y(),["projection","paths"],T,!0)),g()(y()))})(u(h)?u(h).map(T=>T.value):void 0)}),_n(),Mt(!0);var M=LY(),E=Q(M),J=Q(E),W=le(Q(J)),z=Q(W),K=Q(z);Ll(K,{class:"jse-filter-path",showChevron:!0,get items(){return u(c)},get value(){return u(x)},set value(T){_(x,T)},$$legacy:!0});var ue=le(K,2);Ll(ue,{class:"jse-filter-relation",showChevron:!0,clearable:!1,items:b,get value(){return u(j)},set value(T){_(j,T)},$$legacy:!0});var ne=le(ue,2),re=le(J),me=le(Q(re)),de=Q(me),pe=Q(de);Ll(pe,{class:"jse-sort-path",showChevron:!0,get items(){return u(c)},get value(){return u(k)},set value(T){_(k,T)},$$legacy:!0}),Ll(le(pe,2),{class:"jse-sort-direction",showChevron:!0,clearable:!1,items:v,get value(){return u(S)},set value(T){_(S,T)},$$legacy:!0});var X=le(re),$=le(Q(X)),ie=Q($);Ll(Q(ie),{class:"jse-projection-paths",multiple:!0,showChevron:!0,get items(){return u(d)},get value(){return u(h)},set value(T){_(h,T)},$$legacy:!0}),Om(ne,()=>u(w),T=>_(w,T)),Z(t,M),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-select-query-language.svelte-atm4um {
  position: relative;
  width: 32px;
}
.jse-select-query-language.svelte-atm4um .jse-select-query-language-container:where(.svelte-atm4um) {
  position: absolute;
  top: 0;
  right: 0;
  display: flex;
  flex-direction: column;
  box-shadow: var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));
}
.jse-select-query-language.svelte-atm4um .jse-select-query-language-container:where(.svelte-atm4um) .jse-query-language:where(.svelte-atm4um) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  text-align: left;
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  white-space: nowrap;
  color: var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));
  background: var(--jse-context-menu-background, #656565);
}
.jse-select-query-language.svelte-atm4um .jse-select-query-language-container:where(.svelte-atm4um) .jse-query-language:where(.svelte-atm4um):hover {
  background: var(--jse-context-menu-background-highlight, #7a7a7a);
}`);var BY=be('<button type="button"><!> </button>'),qY=be('<div class="jse-select-query-language svelte-atm4um"><div class="jse-select-query-language-container svelte-atm4um"></div></div>');function FY(t,e){Ct(e,!1);var n=C(e,"queryLanguages",8),r=C(e,"queryLanguageId",12),i=C(e,"onChangeQueryLanguage",8);Mt();var s=qY();Ur(Q(s),5,n,ei,(o,a)=>{var l,f=BY(),c=Q(f),d=p=>{yn(p,{data:$R})},h=p=>{yn(p,{data:NR})};we(c,p=>{u(a).id===r()?p(d):p(h,!1)});var m=le(c);qe(()=>{var p;l=qt(f,1,"jse-query-language svelte-atm4um",null,l,{selected:u(a).id===r()}),$n(f,"title","Select ".concat(u(a).name," as query language")),Rt(m," ".concat((p=u(a).name)!==null&&p!==void 0?p:""))}),Ae("click",f,()=>{return p=u(a).id,r(p),void i()(p);var p}),Z(o,f)}),Z(t,s),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-header.svelte-1y24war {
  display: flex;
  background: var(--jse-theme-color, #3883fa);
  color: var(--jse-menu-color, var(--jse-text-color-inverse, #fff));
}
.jse-header.svelte-1y24war .jse-title:where(.svelte-1y24war) {
  flex: 1;
  padding: 5px;
  vertical-align: middle;
}
.jse-header.svelte-1y24war button:where(.svelte-1y24war) {
  border: none;
  background: transparent;
  min-width: 32px;
  color: inherit;
  cursor: pointer;
}
.jse-header.svelte-1y24war button:where(.svelte-1y24war):hover {
  background: rgba(255, 255, 255, 0.1);
}`);var UY=be('<button type="button" class="jse-fullscreen svelte-1y24war" title="Toggle full screen"><!></button>'),WY=be('<div class="jse-header svelte-1y24war"><div class="jse-title svelte-1y24war"> </div> <!> <!> <button type="button" class="jse-close svelte-1y24war"><!></button></div>');function zm(t,e){Ct(e,!1);var n=C(e,"title",9,"Modal"),r=C(e,"fullScreenButton",9,!1),i=C(e,"fullscreen",13,!1),s=C(e,"onClose",9,void 0);Mt(!0);var o=WY(),a=Q(o),l=Q(a),f=le(a,2);zr(f,e,"actions",{},null);var c=le(f,2),d=m=>{var p=UY(),y=Q(p),g=$e(()=>i()?hH:BH);yn(y,{get data(){return u(g)}}),Ae("click",p,()=>i(!i())),Z(m,p)};we(c,m=>{r()&&m(d)});var h=le(c,2);yn(Q(h),{data:Mg}),qe(()=>Rt(l,n())),Ae("click",h,()=>{var m;return(m=s())===null||m===void 0?void 0:m()}),Z(t,o),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-config.svelte-1kpylsp {
  border: none;
  background: transparent;
  min-width: 32px;
  color: inherit;
  cursor: pointer;
}
.jse-config.svelte-1kpylsp:hover {
  background: rgba(255, 255, 255, 0.1);
}
.jse-config.hide.svelte-1kpylsp {
  display: none;
}`);var VY=be('<button slot="actions" type="button" title="Select a query language"><!></button>'),m0=fi("jsoneditor:AutoScrollHandler");function uC(t){var e,n;function r(a){return a<20?200:a<50?400:1200}function i(){if(t){var a=.05*(e||0);t.scrollTop+=a}}function s(a){n&&a===e||(o(),m0("startAutoScroll",a),e=a,n=setInterval(i,50))}function o(){n&&(m0("stopAutoScroll"),clearInterval(n),n=void 0,e=void 0)}return m0("createAutoScrollHandler",t),{onDrag:function(a){if(t){var l=a.clientY,{top:f,bottom:c}=t.getBoundingClientRect();l<f?s(-r(f-l)):l>c?s(r(l-c)):o()}},onDragEnd:function(){o()}}}var HY=(t,e,n,r)=>(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e,x5=()=>{var t,e,n,r,i,s,o,a,l,f,c,d,h;function m(g){return g.getBoundingClientRect().top-(t.getBoundingClientRect?t.getBoundingClientRect().top:0)+n}function p(g){t.scrollTo?t.scrollTo(t.scrollLeft,g):t.scrollTop=g}function y(g){f||(f=g),p(s(c=g-f,n,a,l)),h=!0,c<l?requestAnimationFrame(y):function(){p(n+a),e&&o&&(e.setAttribute("tabindex","-1"),e.focus()),typeof d=="function"&&d(),f=0,h=!1}()}return function(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(l=1e3,i=b.offset||0,d=b.callback,s=b.easing||HY,o=b.a11y||!1,typeof b.container){case"object":t=b.container;break;case"string":t=document.querySelector(b.container);break;default:t=window.document.documentElement}switch(n=t.scrollTop,typeof g){case"number":e=void 0,o=!1,r=n+g;break;case"object":r=m(e=g);break;case"string":e=document.querySelector(g),r=m(e)}switch(a=r-n+i,typeof b.duration){case"number":l=b.duration;break;case"function":l=b.duration(a)}h?f=0:requestAnimationFrame(y)}};function Bu(t,e){var n=Date.now(),r=t();return e(Date.now()-n),r}var Pu=fi("validation"),KY={createObjectDocumentState:()=>({type:"object",properties:{}}),createArrayDocumentState:()=>({type:"array",items:[]}),createValueDocumentState:()=>({type:"value"})};function cC(t,e,n,r){return Bx(t,e,n,r,KY)}function w5(t,e,n,r){if(Pu("validateJSON"),!e)return[];if(n!==r){var i=n.stringify(t);return e(i!==void 0?r.parse(i):void 0)}return e(t)}function GY(t,e,n,r){if(Pu("validateText"),t.length>104857600)return{validationErrors:[{path:[],message:"Validation turned off: the document is too large",severity:lo.info}]};if(t.length!==0)try{var i=Bu(()=>n.parse(t),l=>Pu("validate: parsed json in ".concat(l," ms")));if(!e)return;var s=n===r?i:Bu(()=>r.parse(t),l=>Pu("validate: parsed json with the validationParser in ".concat(l," ms"))),o=Bu(()=>e(s),l=>Pu("validate: validated json in ".concat(l," ms")));return Yn(o)?void 0:{validationErrors:o}}catch(l){var a=Bu(()=>function(f,c){if(f.length>IJ)return!1;try{return c.parse(zo(f)),!0}catch{return!1}}(t,n),f=>Pu("validate: checked whether repairable in ".concat(f," ms")));return{parseError:hc(t,l.message||l.toString()),isRepairable:a}}}var pp=fi("jsoneditor:FocusTracker");function Gx(t){var e,{onMount:n,onDestroy:r,getWindow:i,hasFocus:s,onFocus:o,onBlur:a}=t,l=!1;function f(){var d=s();d&&(clearTimeout(e),l||(pp("focus"),o(),l=d))}function c(){l&&(clearTimeout(e),e=setTimeout(()=>{s()||(pp("blur"),l=!1,a())}))}n(()=>{pp("mount FocusTracker");var d=i();d&&(d.addEventListener("focusin",f,!0),d.addEventListener("focusout",c,!0))}),r(()=>{pp("destroy FocusTracker");var d=i();d&&(d.removeEventListener("focusin",f,!0),d.removeEventListener("focusout",c,!0))})}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-message.svelte-czprfx {
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  padding: var(--jse-padding, 10px);
  display: flex;
  gap: var(--jse-padding, 10px);
  flex-wrap: wrap;
  align-items: stretch;
}
.jse-message.jse-success.svelte-czprfx {
  background: var(--message-success-background, #9ac45d);
  color: var(--jse-message-success-color, #fff);
}
.jse-message.svelte-czprfx .jse-text:where(.svelte-czprfx) {
  display: flex;
  flex: 1;
  min-width: 60%;
  align-items: center;
}
.jse-message.svelte-czprfx .jse-text.jse-clickable:where(.svelte-czprfx) {
  cursor: pointer;
}
.jse-message.svelte-czprfx .jse-text.jse-clickable:where(.svelte-czprfx):hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.jse-message.jse-error.svelte-czprfx {
  background: var(--jse-message-error-background, var(--jse-error-color, #ee5341));
  color: var(--jse-message-error-color, #fff);
}
.jse-message.jse-warning.svelte-czprfx {
  background: var(--jse-message-warning-background, #ffde5c);
  color: var(--jse-message-warning-color, #4d4d4d);
}
.jse-message.jse-info.svelte-czprfx {
  background: var(--jse-message-info-background, #4f91ff);
  color: var(--jse-message-info-color, #fff);
}
.jse-message.svelte-czprfx .jse-actions:where(.svelte-czprfx) {
  display: flex;
  gap: var(--jse-padding, 10px);
}
.jse-message.svelte-czprfx .jse-actions:where(.svelte-czprfx) button.jse-action:where(.svelte-czprfx) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-message-action-background, rgba(255, 255, 255, 0.2));
  color: inherit;
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);
}
.jse-message.svelte-czprfx .jse-actions:where(.svelte-czprfx) button.jse-action:where(.svelte-czprfx):hover {
  background: var(--jse-message-action-background-highlight, rgba(255, 255, 255, 0.3));
}`);var JY=be('<button type="button" class="jse-button jse-action jse-primary svelte-czprfx"><!> </button>'),YY=be('<div><div role="button" tabindex="-1"><div class="jse-text-centered"><!> </div></div> <div class="jse-actions svelte-czprfx"></div></div>');function po(t,e){Ct(e,!1);var n=C(e,"type",9,"success"),r=C(e,"icon",9,void 0),i=C(e,"message",9,void 0),s=C(e,"actions",25,()=>[]),o=C(e,"onClick",9,void 0),a=C(e,"onClose",9,void 0);a()&&Ks(a()),Mt(!0);var l,f=YY(),c=Q(f),d=Q(c),h=Q(d),m=y=>{yn(y,{get data(){return r()}})};we(h,y=>{r()&&y(m)});var p=le(h);Ur(le(c,2),5,s,ei,(y,g)=>{var b=JY(),v=Q(b),x=w=>{yn(w,{get data(){return u(g).icon}})};we(v,w=>{u(g).icon&&w(x)});var j=le(v);qe(()=>{var w;$n(b,"title",u(g).title),b.disabled=u(g).disabled,Rt(j," ".concat((w=u(g).text)!==null&&w!==void 0?w:""))}),Ae("click",b,()=>{u(g).onClick&&u(g).onClick()}),Ae("mousedown",b,()=>{u(g).onMouseDown&&u(g).onMouseDown()}),Z(y,b)}),qe(()=>{var y,g;qt(f,1,"jse-message jse-".concat((y=n())!==null&&y!==void 0?y:""),"svelte-czprfx"),l=qt(c,1,"jse-text svelte-czprfx",null,l,{"jse-clickable":!!o()}),Rt(p," ".concat((g=i())!==null&&g!==void 0?g:""))}),Ae("click",c,function(){o()&&o()()}),Z(t,f),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-validation-errors-overview.svelte-1uindol {
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  overflow: auto;
  max-height: 25%;
}
.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) {
  border-collapse: collapse;
  width: 100%;
}
.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) {
  cursor: pointer;
}
.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr.jse-validation-error:where(.svelte-1uindol) {
  background: var(--jse-message-error-background, var(--jse-error-color, #ee5341));
  color: var(--jse-message-error-color, #fff);
}
.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr.jse-validation-warning:where(.svelte-1uindol) {
  background: var(--jse-message-warning-background, #ffde5c);
  color: var(--jse-message-warning-color, #4d4d4d);
}
.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr.jse-validation-warning:where(.svelte-1uindol):hover {
  filter: brightness(105%);
}
.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr.jse-validation-info:where(.svelte-1uindol) {
  background: var(--jse-message-info-background, #4f91ff);
  color: var(--jse-message-info-color, #fff);
}
.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol):hover {
  filter: brightness(110%);
}
.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td:where(.svelte-1uindol) {
  padding: 4px var(--jse-padding, 10px);
  vertical-align: middle;
}
.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td.jse-validation-error-icon:where(.svelte-1uindol) {
  width: 36px;
  box-sizing: border-box;
}
.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td.jse-validation-error-action:where(.svelte-1uindol) {
  width: 36px;
  box-sizing: border-box;
  padding: 0;
}
.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td.jse-validation-error-action:where(.svelte-1uindol) button.jse-validation-errors-collapse:where(.svelte-1uindol) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  width: 36px;
  height: 26px;
  cursor: pointer;
}
.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td.jse-validation-error-action:where(.svelte-1uindol) button.jse-validation-errors-collapse:where(.svelte-1uindol):hover {
  background-color: rgba(255, 255, 255, 0.2);
}
.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td:where(.svelte-1uindol) div.jse-validation-errors-expand:where(.svelte-1uindol) {
  display: inline-block;
  position: relative;
  top: 3px;
}`);var QY=be('<button type="button" class="jse-validation-errors-collapse svelte-1uindol" title="Collapse validation errors"><!></button>'),XY=be('<tr tabindex="0"><td class="jse-validation-error-icon svelte-1uindol"><!></td><td class="jse-validation-error-path svelte-1uindol"> </td><td class="jse-validation-error-message svelte-1uindol"> </td><td class="jse-validation-error-action svelte-1uindol"><!></td></tr>'),ZY=be('<tr class="jse-validation-error svelte-1uindol"><td class="svelte-1uindol"></td><td class="svelte-1uindol"></td><td class="svelte-1uindol"> </td><td class="svelte-1uindol"></td></tr>'),eQ=be('<table class="jse-validation-errors-overview-expanded svelte-1uindol"><tbody><!><!></tbody></table>'),tQ=be('<table class="jse-validation-errors-overview-collapsed svelte-1uindol"><tbody><tr><td class="jse-validation-error-icon svelte-1uindol"><!></td><td class="jse-validation-error-count svelte-1uindol"> <div class="jse-validation-errors-expand svelte-1uindol"><!></div></td></tr></tbody></table>'),nQ=be('<div class="jse-validation-errors-overview svelte-1uindol"><!></div>');function Jx(t,e){Ct(e,!1);var n=Y(void 0,!0),r=C(e,"validationErrors",9),i=C(e,"selectError",9),s=Y(!0,!0);function o(){_(s,!1)}function a(){_(s,!0)}fe(()=>G(r()),()=>{_(n,r().length)}),_n(),Mt(!0);var l=on(),f=st(l),c=d=>{var h=nQ(),m=Q(h),p=g=>{var b=eQ(),v=Q(b),x=Q(v);Ur(x,1,()=>$T(r(),100),ei,(k,S,M)=>{var E=XY(),J=Q(E);yn(Q(J),{data:Xl});var W=le(J),z=Q(W),K=le(W),ue=Q(K),ne=Q(le(K)),re=me=>{var de=QY();yn(Q(de),{data:NH}),Ae("click",de,no(o)),Z(me,de)};we(ne,me=>{M===0&&r().length>1&&me(re)}),qe(me=>{var de;qt(E,1,"jse-validation-".concat((de=u(S).severity)!==null&&de!==void 0?de:""),"svelte-1uindol"),Rt(z,me),Rt(ue,u(S).message)},[()=>so(u(S).path)],$e),Ae("click",E,()=>{setTimeout(()=>i()(u(S)))}),Z(k,E)});var j=le(x),w=k=>{var S=ZY(),M=le(Q(S),2),E=Q(M);qe(()=>Rt(E,"(and ".concat(u(n)-100," more errors)"))),Z(k,S)};we(j,k=>{u(n)>100&&k(w)}),Z(g,b)},y=g=>{var b=tQ(),v=Q(b),x=Q(v),j=Q(x);yn(Q(j),{data:Xl});var w=Q(le(j));yn(Q(le(w)),{data:LR}),qe(k=>{var S;qt(x,1,"jse-validation-".concat(k??""),"svelte-1uindol"),Rt(w,"".concat((S=u(n))!==null&&S!==void 0?S:""," validation errors "))},[()=>{return k=r(),[lo.error,lo.warning,lo.info].find(S=>k.some(M=>M.severity===S));var k}],$e),Ae("click",x,a),Z(g,b)};we(m,g=>{u(s)||u(n)===1?g(p):g(y,!1)}),Z(d,h)};we(f,d=>{Yn(r())||d(c)}),Z(t,l),_t()}function Bm(t,e){if(t)return t.addEventListener("keydown",n),{destroy(){t.removeEventListener("keydown",n)}};function n(r){r.key==="Escape"&&(r.preventDefault(),r.stopPropagation(),e())}}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
dialog.jse-modal.svelte-1s9c2ql {
  border-radius: 3px;
  font-size: var(--jse-padding, 10px);
  border: none;
  padding: 0;
  display: flex;
  min-width: 0;
  margin: auto;
  overflow: visible;
  transition: width 0.1s ease-in-out, height 0.1s ease-in-out;
}
dialog.jse-modal.jse-sort-modal.svelte-1s9c2ql {
  width: 400px;
}
dialog.jse-modal.jse-repair-modal.svelte-1s9c2ql {
  width: 600px;
  height: 500px;
}
dialog.jse-modal.jse-jsoneditor-modal.svelte-1s9c2ql {
  width: 800px;
  height: 600px;
}
dialog.jse-modal.jse-transform-modal.svelte-1s9c2ql {
  width: 1200px;
  height: 800px;
}
dialog.jse-modal.jse-fullscreen.svelte-1s9c2ql {
  width: 100%;
  height: 100%;
}
dialog.jse-modal.svelte-1s9c2ql::backdrop {
  background: var(--jse-overlay-background, rgba(0, 0, 0, 0.3));
}
dialog.jse-modal[open].svelte-1s9c2ql {
  animation: svelte-1s9c2ql-zoom 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}
dialog.jse-modal[open].svelte-1s9c2ql::backdrop {
  animation: svelte-1s9c2ql-fade 0.2s ease-out;
}
dialog.jse-modal.svelte-1s9c2ql .jse-modal-inner:where(.svelte-1s9c2ql) {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-width: 0;
  min-height: 0;
  padding: 0;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  line-height: normal;
  background: var(--jse-modal-background, #f5f5f5);
  color: var(--jse-text-color, #4d4d4d);
}
@keyframes svelte-1s9c2ql-zoom {
  from {
    transform: scale(0.95);
  }
  to {
    transform: scale(1);
  }
}
@keyframes svelte-1s9c2ql-fade {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
dialog.jse-modal.svelte-1s9c2ql .svelte-select {
  --border: var(--jse-svelte-select-border, 1px solid #d8dbdf);
  --item-is-active-bg: var(--jse-item-is-active-bg, #3883fa);
  --border-radius: var(--jse-svelte-select-border-radius, 3px);
  --background: var(--jse-svelte-select-background, #fff);
  --padding: var(--jse-svelte-select-padding, 0 10px);
  --multi-select-padding: var(--jse-svelte-select-multi-select-padding, 0 10px);
  --font-size: var(--jse-svelte-select-font-size, var(--jse-font-size, 16px));
  --height: 36px;
  --multi-item-height: 28px;
  --multi-item-margin: 2px;
  --multi-item-padding: 2px 8px;
  --multi-item-border-radius: 6px;
  --indicator-top: 8px;
}`);var rQ=be('<dialog><div class="jse-modal-inner svelte-1s9c2ql"><!></div></dialog>');function ud(t,e){Ct(e,!1);var n=C(e,"className",8,void 0),r=C(e,"fullscreen",8,!1),i=C(e,"onClose",8),s=Y();function o(){i()()}Pi(()=>u(s).showModal()),Ks(()=>u(s).close()),Mt();var a,l=rQ(),f=Q(l);zr(Q(f),e,"default",{},null),jr(l,c=>_(s,c),()=>u(s)),vi(()=>Ae("close",l,o)),vi(()=>{return Ae("pointerdown",l,(c=o,function(){for(var d=arguments.length,h=new Array(d),m=0;m<d;m++)h[m]=arguments[m];h[0].target===this&&(c==null||c.apply(this,h))}));var c}),vi(()=>Ae("cancel",l,Da(function(c){gf.call(this,e,c)}))),Li(l,(c,d)=>Bm==null?void 0:Bm(c,d),()=>o),qe(c=>a=qt(l,1,vl(c),"svelte-1s9c2ql",a,{"jse-fullscreen":r()}),[()=>zc("jse-modal",n())],$e),Z(t,l),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-modal-contents.svelte-189qksl {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 20px;
  overflow: auto;
  min-width: 0;
  min-height: 0;
}
.jse-modal-contents.svelte-189qksl .jse-actions:where(.svelte-189qksl) {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  padding-top: var(--jse-padding, 10px);
}
.jse-modal-contents.svelte-189qksl .jse-actions:where(.svelte-189qksl) button.jse-primary:where(.svelte-189qksl) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));
  color: var(--jse-button-primary-color, #fff);
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  border-radius: 3px;
}
.jse-modal-contents.svelte-189qksl .jse-actions:where(.svelte-189qksl) button.jse-primary:where(.svelte-189qksl):hover {
  background: var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff));
}
.jse-modal-contents.svelte-189qksl .jse-actions:where(.svelte-189qksl) button.jse-primary:where(.svelte-189qksl):disabled {
  background: var(--jse-button-primary-background-disabled, #9d9d9d);
}

.jse-shortcuts.svelte-189qksl {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-around;
  margin: calc(2 * var(--jse-padding, 10px)) 0;
}
.jse-shortcuts.svelte-189qksl .jse-shortcut:where(.svelte-189qksl) .jse-key:where(.svelte-189qksl) {
  font-size: 200%;
  color: var(--jse-theme-color, #3883fa);
}`);var iQ=be('<!> <div class="jse-modal-contents svelte-189qksl"><div>Clipboard permission is disabled by your browser. You can use:</div> <div class="jse-shortcuts svelte-189qksl"><div class="jse-shortcut svelte-189qksl"><div class="jse-key svelte-189qksl"></div> for copy</div> <div class="jse-shortcut svelte-189qksl"><div class="jse-key svelte-189qksl"></div> for cut</div> <div class="jse-shortcut svelte-189qksl"><div class="jse-key svelte-189qksl"></div> for paste</div></div> <div class="jse-actions svelte-189qksl"><button type="button" class="jse-primary svelte-189qksl">Close</button></div></div>',1);function j5(t,e){Ct(e,!1);var n=C(e,"onClose",9),r=Px()?"⌘":"Ctrl";Mt(!0),ud(t,{get onClose(){return n()},className:"jse-copy-paste",children:(i,s)=>{var o=iQ(),a=st(o);zm(a,{title:"Copying and pasting",get onClose(){return n()}});var l=le(a,2),f=le(Q(l),2),c=Q(f);Q(c).textContent="".concat(r??"","+C");var d=le(c,2);Q(d).textContent="".concat(r??"","+X"),Q(le(d,2)).textContent="".concat(r??"","+V"),Ae("click",Q(le(f,2)),function(){for(var h,m=arguments.length,p=new Array(m),y=0;y<m;y++)p[y]=arguments[y];(h=n())===null||h===void 0||h.apply(this,p)}),Z(i,o)},$$slots:{default:!0}}),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-menu.svelte-pf7s2l {
  background: var(--jse-theme-color, #3883fa);
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size-main-menu, 14px);
  color: var(--jse-menu-color, var(--jse-text-color-inverse, #fff));
  display: flex;
  flex-wrap: wrap;
  align-items: stretch;
  position: relative;
}
.jse-menu.svelte-pf7s2l .jse-button:where(.svelte-pf7s2l) {
  font-family: inherit;
  font-size: inherit;
  line-height: 1.5em;
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  width: var(--jse-menu-button-size, 32px);
  height: var(--jse-menu-button-size, 32px);
  padding: calc(0.5 * var(--jse-padding, 10px));
  margin: 0;
  border-radius: 0;
  display: inline-flex;
  align-items: center;
  text-align: center;
  justify-content: center;
}
.jse-menu.svelte-pf7s2l .jse-button:where(.svelte-pf7s2l):hover, .jse-menu.svelte-pf7s2l .jse-button:where(.svelte-pf7s2l):focus {
  background: var(--jse-theme-color-highlight, #5f9dff);
}
.jse-menu.svelte-pf7s2l .jse-button:where(.svelte-pf7s2l):disabled {
  color: var(--jse-menu-color, var(--jse-text-color-inverse, #fff));
  opacity: 0.5;
  background: transparent;
}
.jse-menu.svelte-pf7s2l .jse-button.jse-group-button:where(.svelte-pf7s2l) {
  width: auto;
  height: calc(var(--jse-menu-button-size, 32px) - var(--jse-padding, 10px));
  margin: calc(0.5 * var(--jse-padding, 10px)) 0;
  padding: 0 calc(0.5 * var(--jse-padding, 10px)) 1px;
  border: 1px solid var(--jse-menu-color, var(--jse-text-color-inverse, #fff));
}
.jse-menu.svelte-pf7s2l .jse-button.jse-group-button:where(.svelte-pf7s2l):not(.jse-last) {
  border-right: none;
}
.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.jse-first:where(.svelte-pf7s2l) {
  margin-left: calc(0.5 * var(--jse-padding, 10px));
}
.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.jse-last:where(.svelte-pf7s2l) {
  margin-right: calc(0.5 * var(--jse-padding, 10px));
}
.jse-menu.svelte-pf7s2l .jse-button.jse-group-button:where(.svelte-pf7s2l):hover, .jse-menu.svelte-pf7s2l .jse-button.jse-group-button:where(.svelte-pf7s2l):focus {
  background: var(--jse-theme-color-highlight, #5f9dff);
}
.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.jse-selected:where(.svelte-pf7s2l) {
  background: var(--jse-menu-color, var(--jse-text-color-inverse, #fff));
  color: var(--jse-theme-color, #3883fa);
}
.jse-menu.svelte-pf7s2l .jse-space:where(.svelte-pf7s2l) {
  flex: 1;
}
.jse-menu.svelte-pf7s2l .jse-separator:where(.svelte-pf7s2l) {
  background: var(--jse-menu-color, var(--jse-text-color-inverse, #fff));
  opacity: 0.3;
  width: 1px;
  margin: 3px;
}`);var sQ=be('<div class="jse-separator svelte-pf7s2l"></div>'),oQ=be('<div class="jse-space svelte-pf7s2l"></div>'),aQ=be('<button type="button"><!> <!></button>'),lQ=be('<div class="jse-menu svelte-pf7s2l"><!> <!> <!></div>');function Xg(t,e){Ct(e,!1);var n=C(e,"items",25,()=>[]);Mt(!0);var r=lQ(),i=Q(r);zr(i,e,"left",{},null);var s=le(i,2);Ur(s,1,n,ei,(o,a)=>{var l=on(),f=st(l),c=h=>{Z(h,sQ())},d=h=>{var m=on(),p=st(m),y=b=>{Z(b,oQ())},g=b=>{var v=on(),x=st(v),j=k=>{var S=aQ(),M=Q(S),E=z=>{yn(z,{get data(){return u(a).icon}})};we(M,z=>{u(a).icon&&z(E)});var J=le(M,2),W=z=>{var K=Bi();qe(()=>Rt(K,u(a).text)),Z(z,K)};we(J,z=>{u(a).text&&z(W)}),qe(()=>{var z;qt(S,1,"jse-button ".concat((z=u(a).className)!==null&&z!==void 0?z:""),"svelte-pf7s2l"),$n(S,"title",u(a).title),S.disabled=u(a).disabled||!1}),Ae("click",S,function(){for(var z,K=arguments.length,ue=new Array(K),ne=0;ne<K;ne++)ue[ne]=arguments[ne];(z=u(a).onClick)===null||z===void 0||z.apply(this,ue)}),Z(k,S)},w=k=>{var S=Bi();qe(M=>Rt(S,M),[()=>function(M){return console.error("Unknown type of menu item",M),"???"}(u(a))],$e),Z(k,S)};we(x,k=>{_f(u(a))?k(j):k(w,!1)},!0),Z(b,v)};we(p,b=>{KT(u(a))?b(y):b(g,!1)},!0),Z(h,m)};we(f,h=>{Np(u(a))?h(c):h(d,!1)}),Z(o,l)}),zr(le(s,2),e,"right",{},null),Z(t,r),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-json-repair-component.svelte-3golau {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: var(--jse-background-color, #fff);
  color: var(--jse-text-color, #4d4d4d);
}
.jse-json-repair-component.svelte-3golau .jse-info:where(.svelte-3golau) {
  padding: calc(0.5 * var(--jse-padding, 10px));
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  vertical-align: center;
}
.jse-json-repair-component.svelte-3golau .jse-json-text:where(.svelte-3golau) {
  flex: 1;
  border: none;
  padding: 2px;
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  background: var(--jse-input-background, var(--jse-background-color, #fff));
  color: var(--jse-text-color, #4d4d4d);
  resize: none;
  outline: none;
}`);var uQ=be('<div slot="left" class="jse-info svelte-3golau">Repair invalid JSON, then click apply</div>'),cQ=be('<div class="jse-json-repair-component svelte-3golau"><!> <!> <textarea class="jse-json-text svelte-3golau" autocomplete="off" autocapitalize="off" spellcheck="false"></textarea></div>');function fQ(t,e){Ct(e,!1);var n=Y(void 0,!0),r=Y(void 0,!0),i=Y(void 0,!0),s=Y(void 0,!0),o=Y(void 0,!0),a=Y(void 0,!0),l=C(e,"text",13,""),f=C(e,"readOnly",9,!1),c=C(e,"onParse",9),d=C(e,"onRepair",9),h=C(e,"onChange",9,void 0),m=C(e,"onApply",9),p=C(e,"onCancel",9),y=fi("jsoneditor:JSONRepair"),g=Y(void 0,!0);function b(){if(u(g)&&u(n)){var W=u(n).position!==void 0?u(n).position:0;u(g).setSelectionRange(W,W),u(g).focus()}}function v(){m()(l())}function x(){try{l(d()(l())),h()&&h()(l())}catch{}}var j=Y(void 0,!0);fe(()=>G(l()),()=>{_(n,function(W){try{return void c()(W)}catch(z){return hc(W,z.message)}}(l()))}),fe(()=>G(l()),()=>{_(r,function(W){try{return d()(W),!0}catch{return!1}}(l()))}),fe(()=>u(n),()=>{y("error",u(n))}),fe(()=>G(p()),()=>{_(j,[{type:"space"},{type:"button",icon:Mg,title:"Cancel repair",className:"jse-cancel",onClick:p()}])}),fe(()=>Hj,()=>{_(i,{icon:Hj,text:"Show me",title:"Scroll to the error location",onClick:b})}),fe(()=>fc,()=>{_(s,{icon:fc,text:"Auto repair",title:"Automatically repair JSON",onClick:x})}),fe(()=>(u(r),u(i),u(s)),()=>{_(o,u(r)?[u(i),u(s)]:[u(i)])}),fe(()=>G(f()),()=>{_(a,[{icon:px,text:"Apply",title:"Apply fixed JSON",disabled:f(),onClick:v}])}),_n(),Mt(!0);var w=cQ(),k=Q(w);Xg(k,{get items(){return u(j)},$$slots:{left:(W,z)=>{Z(W,uQ())}}});var S=le(k,2),M=W=>{var z=$e(()=>"Cannot parse JSON: ".concat(u(n).message));po(W,{type:"error",icon:Xl,get message(){return u(z)},get actions(){return u(o)}})},E=W=>{po(W,{type:"success",message:"JSON is valid now and can be parsed.",get actions(){return u(a)}})};we(S,W=>{u(n)?W(M):W(E,!1)});var J=le(S,2);jr(J,W=>_(g,W),()=>u(g)),qe(()=>{J.readOnly=f(),eu(J,l())}),Ae("input",J,function(W){y("handleChange");var z=W.target.value;l()!==z&&(l(z),h()&&h()(l()))}),Z(t,w),_t()}function k5(t,e){Ct(e,!1);var n=C(e,"text",13),r=C(e,"onParse",9),i=C(e,"onRepair",9),s=C(e,"onApply",9),o=C(e,"onClose",9);function a(f){s()(f),o()()}function l(){o()()}Mt(!0),ud(t,{get onClose(){return o()},className:"jse-repair-modal",children:(f,c)=>{fQ(f,{get onParse(){return r()},get onRepair(){return i()},onApply:a,onCancel:l,get text(){return n()},set text(d){n(d)},$$legacy:!0})},$$slots:{default:!0}}),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
div.jse-collapsed-items.svelte-1h6hzoq {
  margin-left: calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)));
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  color: var(--jse-collapsed-items-link-color, rgba(0, 0, 0, 0.38));
  padding: calc(0.5 * var(--jse-padding, 10px));
  border: 8px solid transparent;
  border-width: 8px 0;
  background-color: var(--jse-contents-background-color, transparent);
  background-image: linear-gradient(var(--jse-collapsed-items-background-color, #f5f5f5), var(--jse-collapsed-items-background-color, #f5f5f5)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%);
  background-repeat: repeat, repeat-x, repeat-x, repeat-x, repeat-x;
  background-position: 0 0, 8px 0, 8px 0, 8px 100%, 8px 100%;
  background-size: auto auto, 16px 16px, 16px 16px, 16px 16px, 16px 16px;
  background-clip: padding-box, border-box, border-box, border-box, border-box;
  background-origin: padding-box, border-box, border-box, border-box, border-box;
  display: flex;
}
div.jse-collapsed-items.jse-selected.svelte-1h6hzoq {
  background-color: var(--jse-selection-background-color, #d3d3d3);
  --jse-collapsed-items-background-color: var(--jse-collapsed-items-selected-background-color, #c2c2c2);
}
div.jse-collapsed-items.svelte-1h6hzoq div.jse-text:where(.svelte-1h6hzoq),
div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items:where(.svelte-1h6hzoq) {
  margin: 0 calc(0.5 * var(--jse-padding, 10px));
}
div.jse-collapsed-items.svelte-1h6hzoq div.jse-text:where(.svelte-1h6hzoq) {
  display: inline;
}
div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items:where(.svelte-1h6hzoq) {
  font-family: inherit;
  font-size: inherit;
  color: var(--jse-collapsed-items-link-color, rgba(0, 0, 0, 0.38));
  background: none;
  border: none;
  padding: 0;
  text-decoration: underline;
  cursor: pointer;
}
div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items:where(.svelte-1h6hzoq):hover, div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items:where(.svelte-1h6hzoq):focus {
  color: var(--jse-collapsed-items-link-color-highlight, #ee5341);
}`);var dQ=be('<button type="button" class="jse-expand-items svelte-1h6hzoq"> </button>'),hQ=be('<div role="none"><div><div class="jse-text svelte-1h6hzoq"> </div> <!></div></div>');function pQ(t,e){Ct(e,!1);var n=Y(void 0,!0),r=Y(void 0,!0),i=Y(void 0,!0),s=Y(void 0,!0),o=Y(void 0,!0),a=C(e,"visibleSections",9),l=C(e,"sectionIndex",9),f=C(e,"total",9),c=C(e,"path",9),d=C(e,"selection",9),h=C(e,"onExpandSection",9),m=C(e,"context",9);fe(()=>(G(a()),G(l())),()=>{_(n,a()[l()])}),fe(()=>u(n),()=>{_(r,u(n).end)}),fe(()=>(G(a()),G(l()),G(f())),()=>{_(i,a()[l()+1]?a()[l()+1].start:f())}),fe(()=>(G(m()),G(d()),G(c()),u(r)),()=>{_(s,od(m().getJson(),d(),c().concat(String(u(r)))))}),fe(()=>(u(r),u(i)),()=>{_(o,function(x,j){var w={start:x,end:Math.min(Gb(x),j)},k=Math.max(Em((x+j)/2),x),S={start:k,end:Math.min(Gb(k),j)},M=Em(j),E=M===j?M-nd:M,J={start:Math.max(E,x),end:j},W=[w],z=S.start>=w.end&&S.end<=J.start;return z&&W.push(S),J.start>=(z?S.end:w.end)&&W.push(J),W}(u(r),u(i)))}),_n(),Mt(!0);var p,y=hQ(),g=Q(y),b=Q(g),v=Q(b);Ur(le(b,2),1,()=>u(o),ei,(x,j)=>{var w=dQ(),k=Q(w);qe(()=>{var S,M;return Rt(k,"show ".concat((S=u(j).start)!==null&&S!==void 0?S:"","-").concat((M=u(j).end)!==null&&M!==void 0?M:""))}),Ae("click",w,()=>h()(c(),u(j))),Z(x,w)}),qe(()=>{var x,j;p=qt(y,1,"jse-collapsed-items svelte-1h6hzoq",null,p,{"jse-selected":u(s)}),Qu(y,"--level",c().length+2),Rt(v,"Items ".concat((x=u(r))!==null&&x!==void 0?x:"","-").concat((j=u(i))!==null&&j!==void 0?j:""))}),Ae("mousemove",y,function(x){x.stopPropagation()}),Z(t,y),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-context-menu-pointer.svelte-137iwnw {
  position: absolute;
  top: calc(-0.5 * var(--jse-context-menu-pointer-size, calc(1em + 4px)));
  right: calc(-0.5 * var(--jse-context-menu-pointer-size, calc(1em + 4px)));
  width: var(--jse-context-menu-pointer-size, calc(1em + 4px));
  height: var(--jse-context-menu-pointer-size, calc(1em + 4px));
  padding: 0;
  margin: 0;
  cursor: pointer;
  background: transparent;
  border-radius: 2px;
  background: var(--jse-context-menu-pointer-hover-background, #b2b2b2);
  color: var(--jse-context-menu-pointer-color, var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff)));
  border: none;
  box-shadow: var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));
}
.jse-context-menu-pointer.jse-root.svelte-137iwnw {
  top: 0;
  right: calc(-2px - var(--jse-context-menu-pointer-size, calc(1em + 4px)));
}
.jse-context-menu-pointer.jse-insert.svelte-137iwnw {
  right: -1px;
}
.jse-context-menu-pointer.svelte-137iwnw:hover {
  background: var(--jse-context-menu-pointer-background-highlight, var(--jse-context-menu-background-highlight, #7a7a7a));
}
.jse-context-menu-pointer.jse-selected.svelte-137iwnw {
  background: var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565));
}
.jse-context-menu-pointer.jse-selected.svelte-137iwnw:hover {
  background: var(--jse-context-menu-pointer-background-highlight, var(--jse-context-menu-background-highlight, #7a7a7a));
}`);var mQ=be('<button type="button"><!></button>');function La(t,e){Ct(e,!1);var n=C(e,"root",9,!1),r=C(e,"insert",9,!1),i=C(e,"selected",9),s=C(e,"onContextMenu",9);Mt(!0);var o,a=mQ();$n(a,"title",$x),yn(Q(a),{data:dl}),qe(()=>o=qt(a,1,"jse-context-menu-pointer svelte-137iwnw",null,o,{"jse-root":n(),"jse-insert":r(),"jse-selected":i()})),Ae("click",a,function(l){for(var f=l.target;f&&f.nodeName!=="BUTTON";)f=f.parentNode;f&&s()({anchor:f,left:0,top:0,width:ma,height:pa,offsetTop:2,offsetLeft:0,showTip:!0})}),Z(t,a),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-key.svelte-2iqnqn {
  display: inline-block;
  min-width: 2em;
  padding: 0 5px;
  box-sizing: border-box;
  outline: none;
  border-radius: 1px;
  vertical-align: top;
  color: var(--jse-key-color, #1a1a1a);
  word-break: normal;
  overflow-wrap: normal;
  white-space: pre-wrap;
}
.jse-key.jse-empty.svelte-2iqnqn {
  min-width: 3em;
  outline: 1px dotted var(--jse-tag-background, rgba(0, 0, 0, 0.2));
  -moz-outline-radius: 2px;
}
.jse-key.jse-empty.svelte-2iqnqn::after {
  pointer-events: none;
  color: var(--jse-tag-background, rgba(0, 0, 0, 0.2));
  content: "key";
}`);var gQ=be('<div role="none" data-type="selectable-key"><!></div>'),vQ=be("<!> <!>",1),bQ=be('<div role="button" tabindex="-1" class="jse-value" data-type="selectable-value"></div>');function S5(t,e){Ct(e,!1);var n=Y(void 0,!0),r=Y(void 0,!0),i=C(e,"path",9),s=C(e,"value",9),o=C(e,"context",9),a=C(e,"enforceString",9),l=C(e,"selection",9),f=C(e,"searchResultItems",9);fe(()=>(G(l()),Ji),()=>{_(n,Qn(l())&&Ji(l()))}),fe(()=>(G(o()),G(i()),G(s()),G(a()),u(n),G(l()),G(f())),()=>{_(r,o().onRenderValue({path:i(),value:s(),mode:o().mode,readOnly:o().readOnly,enforceString:a(),isEditing:u(n),parser:o().parser,normalization:o().normalization,selection:l(),searchResultItems:f(),onPatch:o().onPatch,onPasteJson:o().onPasteJson,onSelect:o().onSelect,onFind:o().onFind,findNextInside:o().findNextInside,focus:o().focus}))}),_n(),Mt(!0);var c=on();Ur(st(c),1,()=>u(r),ei,(d,h)=>{var m=on(),p=st(m),y=b=>{var v=bQ(),x=$e(()=>u(h).action);Li(v,(j,w)=>{var k;return(k=u(x))===null||k===void 0?void 0:k(j,w)},()=>u(h).props),Z(b,v)},g=b=>{var v=on();AT(st(v),()=>u(h).component,(x,j)=>{j(x,el(()=>u(h).props))}),Z(b,v)};we(p,b=>{UJ(u(h))?b(y):b(g,!1)}),Z(d,m)}),Z(t,c),_t()}var yQ={selecting:!1,selectionAnchor:void 0,selectionAnchorType:void 0,selectionFocus:void 0,dragging:!1};function g0(t){var{json:e,selection:n,deltaY:r,items:i}=t;if(!n)return{operations:void 0,updatedSelection:void 0,offset:0};var s=r<0?function(c){for(var{json:d,items:h,selection:m,deltaY:p}=c,y=ga(d,m),g=h.findIndex(k=>ln(k.path,y)),b=()=>{var k;return(k=h[v-1])===null||k===void 0?void 0:k.height},v=g,x=0;b()!==void 0&&Math.abs(p)>x+b()/2;)x+=b(),v-=1;var j=h[v].path,w=v-g;return v!==g&&h[v]!==void 0?{beforePath:j,offset:w}:void 0}({json:e,selection:n,deltaY:r,items:i}):function(c){for(var d,{json:h,items:m,selection:p,deltaY:y}=c,g=rl(h,p),b=m.findIndex(J=>ln(J.path,g)),v=0,x=b,j=()=>{var J;return(J=m[x+1])===null||J===void 0?void 0:J.height};j()!==void 0&&Math.abs(y)>v+j()/2;)v+=j(),x+=1;var w=hn(g),k=rt(h,w),S=Array.isArray(k)?x:x+1,M=(d=m[S])===null||d===void 0?void 0:d.path,E=x-b;return M?{beforePath:M,offset:E}:{append:!0,offset:E}}({json:e,selection:n,deltaY:r,items:i});if(!s||s.offset===0)return{operations:void 0,updatedSelection:void 0,offset:0};var o=function(c,d,h){if(!d)return[];var m="beforePath"in h?h.beforePath:void 0,p="append"in h?h.append:void 0,y=hn(dt(d)),g=rt(c,y);if(!(p||m&&Aa(m,y)&&m.length>y.length))return[];var b=ga(c,d),v=rl(c,d),x=Et(b),j=Et(v),w=m?m[y.length]:void 0;if(!Zr(g)){if(Fr(g)){var k=bi(x),S=bi(j),M=w!==void 0?bi(w):g.length;return py(S-k+1,M<k?K=>({op:"move",from:jt(y.concat(String(k+K))),path:jt(y.concat(String(M+K)))}):()=>({op:"move",from:jt(y.concat(String(k))),path:jt(y.concat(String(M)))}))}throw new Error("Cannot create move operations: parent must be an Object or Array")}var E=Object.keys(g),J=E.indexOf(x),W=E.indexOf(j),z=p?E.length:w!==void 0?E.indexOf(w):-1;return J!==-1&&W!==-1&&z!==-1?z>J?[...E.slice(J,W+1),...E.slice(z,E.length)].map(K=>ru(y,K)):[...E.slice(z,J),...E.slice(W+1,E.length)].map(K=>ru(y,K)):[]}(e,n,s),a=hn(ga(e,n)),l=rt(e,a);if(Array.isArray(l)){var f=function(c){var d,h,{items:m,json:p,selection:y,offset:g}=c,b=ga(p,y),v=rl(p,y),x=m.findIndex(S=>ln(S.path,b)),j=m.findIndex(S=>ln(S.path,v)),w=(d=m[x+g])===null||d===void 0?void 0:d.path,k=(h=m[j+g])===null||h===void 0?void 0:h.path;return Ni(w,k)}({items:i,json:e,selection:n,offset:s.offset});return{operations:o,updatedSelection:f,offset:s.offset}}return{operations:o,updatedSelection:void 0,offset:s.offset}}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
button.jse-validation-error.svelte-1a8aobl {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  padding: 0;
  margin: 0;
  vertical-align: top;
  display: inline-flex;
  color: var(--jse-error-color, #ee5341);
}

button.jse-validation-info.svelte-1a8aobl {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  padding: 0;
  margin: 0;
  vertical-align: top;
  display: inline-flex;
  color: var(--jse-info-color, #4f91ff);
}

button.jse-validation-warning.svelte-1a8aobl {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  padding: 0;
  margin: 0;
  vertical-align: top;
  display: inline-flex;
  color: var(--jse-warning-color, #fdc539);
}`);var xQ=be('<button type="button"><!></button>');function tc(t,e){Ct(e,!1);var n=Y(),r=Cl("absolute-popup"),i=C(e,"validationError",8),s=C(e,"onExpand",8);fe(()=>G(i()),()=>{_(n,FJ(i())&&i().isChildError?"Contains invalid data":i().message)}),_n(),Mt();var o=xQ();yn(Q(o),{data:Xl}),vi(()=>Ae("click",o,function(){for(var a,l=arguments.length,f=new Array(l),c=0;c<l;c++)f[c]=arguments[c];(a=s())===null||a===void 0||a.apply(this,f)})),Li(o,(a,l)=>gc==null?void 0:gc(a,l),()=>Le({text:u(n)},r)),qe(()=>{var a;return qt(o,1,"jse-validation-".concat((a=i().severity)!==null&&a!==void 0?a:""),"svelte-1a8aobl")}),Z(t,o),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-expand.svelte-wovgt4 {
  width: var(--jse-indent-size, calc(1em + 4px));
  padding: 0;
  margin: 0;
  border: none;
  cursor: pointer;
  background: transparent;
  color: var(--jse-delimiter-color, rgba(0, 0, 0, 0.38));
  font-size: var(--jse-font-size-mono, 14px);
  height: var(--jse-line-height, calc(1em + 4px));
}
.jse-expand.svelte-wovgt4:hover {
  opacity: 0.8;
}

.jse-meta.svelte-wovgt4,
.jse-separator.svelte-wovgt4,
.jse-index.svelte-wovgt4,
.jse-bracket.svelte-wovgt4 {
  vertical-align: top;
  color: var(--jse-delimiter-color, rgba(0, 0, 0, 0.38));
}

.jse-index.svelte-wovgt4 {
  padding: 0 calc(0.5 * var(--jse-padding, 10px));
}

.jse-bracket.svelte-wovgt4 {
  padding: 0 2px;
}
.jse-bracket.jse-expanded.svelte-wovgt4 {
  padding-right: var(--jse-padding, 10px);
}

.jse-tag.svelte-wovgt4 {
  border: none;
  font-size: 80%;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  color: var(--jse-tag-color, var(--jse-text-color-inverse, #fff));
  background: var(--jse-tag-background, rgba(0, 0, 0, 0.2));
  border-radius: 2px;
  cursor: pointer;
  display: inline-block;
  padding: 0 4px;
  line-height: normal;
  margin: 1px 0;
}
.jse-tag.svelte-wovgt4:hover {
  opacity: 0.8;
}
.jse-tag.jse-expanded.svelte-wovgt4 {
  opacity: 0.7;
  cursor: inherit;
}

.jse-identifier.svelte-wovgt4 {
  vertical-align: top;
  position: relative;
}

.jse-json-node.svelte-wovgt4 {
  position: relative;
  color: var(--jse-text-color, #4d4d4d);
}
.jse-json-node.jse-root.svelte-wovgt4 {
  min-height: 100%;
  padding-bottom: 2px;
  box-sizing: border-box;
}
.jse-json-node.jse-root.svelte-wovgt4 > .jse-contents-outer:where(.svelte-wovgt4) > .jse-contents:where(.svelte-wovgt4) {
  padding-left: 0;
}
.jse-json-node.svelte-wovgt4 .jse-props:where(.svelte-wovgt4),
.jse-json-node.svelte-wovgt4 .jse-items:where(.svelte-wovgt4) {
  position: relative;
}
.jse-json-node.svelte-wovgt4 .jse-header-outer:where(.svelte-wovgt4),
.jse-json-node.svelte-wovgt4 .jse-footer-outer:where(.svelte-wovgt4) {
  display: flex;
  margin-left: calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)));
}
.jse-json-node.svelte-wovgt4 .jse-header:where(.svelte-wovgt4) {
  position: relative;
}
.jse-json-node.svelte-wovgt4 .jse-header:where(.svelte-wovgt4) .jse-meta:where(.svelte-wovgt4) > .jse-meta-inner:where(.svelte-wovgt4) {
  display: flex;
  justify-content: center;
}
.jse-json-node.svelte-wovgt4 .jse-contents-outer:where(.svelte-wovgt4) {
  display: flex;
  margin-left: calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)));
}
.jse-json-node.svelte-wovgt4 .jse-header:where(.svelte-wovgt4),
.jse-json-node.svelte-wovgt4 .jse-contents:where(.svelte-wovgt4) {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
}
.jse-json-node.svelte-wovgt4 .jse-contents:where(.svelte-wovgt4) {
  padding-left: var(--jse-indent-size, calc(1em + 4px));
  cursor: var(--jse-contents-cursor, pointer);
}
.jse-json-node.svelte-wovgt4 .jse-contents:where(.svelte-wovgt4) .jse-value-outer:where(.svelte-wovgt4) {
  display: inline-flex;
}
.jse-json-node.svelte-wovgt4 .jse-footer:where(.svelte-wovgt4) {
  display: inline-flex;
  padding-left: calc(var(--jse-indent-size, calc(1em + 4px)) + 5px);
}
.jse-json-node.svelte-wovgt4 .jse-header:where(.svelte-wovgt4),
.jse-json-node.svelte-wovgt4 .jse-contents:where(.svelte-wovgt4),
.jse-json-node.svelte-wovgt4 .jse-footer:where(.svelte-wovgt4) {
  background: var(--jse-contents-background-color, transparent);
}
.jse-json-node.svelte-wovgt4 .jse-insert-selection-area:where(.svelte-wovgt4) {
  padding: 0 calc(0.5 * var(--jse-padding, 10px));
  flex: 1;
}
.jse-json-node.svelte-wovgt4 .jse-insert-selection-area.jse-inside:where(.svelte-wovgt4) {
  display: inline-flex;
  align-items: center;
}
.jse-json-node.svelte-wovgt4 .jse-insert-selection-area.jse-after:where(.svelte-wovgt4) {
  display: flex;
  align-items: flex-end;
}
.jse-json-node.svelte-wovgt4 .jse-context-menu-pointer-anchor:where(.svelte-wovgt4) {
  position: relative;
}
.jse-json-node.svelte-wovgt4 .jse-insert-area:where(.svelte-wovgt4) {
  display: flex;
  position: relative;
  z-index: 1;
  margin-left: calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)));
  max-width: 250px;
  min-width: 100px;
  height: 0;
  margin-right: calc(0.5 * var(--jse-padding, 10px));
  outline: 1px solid;
}
.jse-json-node.svelte-wovgt4 .jse-insert-area.jse-hovered:where(.svelte-wovgt4) {
  outline-color: var(--jse-context-menu-pointer-hover-background, #b2b2b2);
}
.jse-json-node.svelte-wovgt4 .jse-key-outer:where(.svelte-wovgt4) {
  position: relative;
}
.jse-json-node.svelte-wovgt4 .jse-key-outer:where(.svelte-wovgt4):hover,
.jse-json-node.svelte-wovgt4 .jse-value-outer:where(.svelte-wovgt4):hover,
.jse-json-node.svelte-wovgt4 .jse-meta:where(.svelte-wovgt4):hover,
.jse-json-node.svelte-wovgt4 .jse-footer:where(.svelte-wovgt4):hover {
  background: var(--jse-hover-background-color, rgba(0, 0, 0, 0.06));
  cursor: var(--jse-contents-cursor, pointer);
}
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-value-outer,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-meta,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-footer {
  background: var(--jse-hover-background-color, rgba(0, 0, 0, 0.06));
  cursor: var(--jse-contents-cursor, pointer);
}
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-value-outer .jse-value-outer,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-value-outer .jse-meta,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-meta .jse-value-outer,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-meta .jse-meta,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header .jse-value-outer,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header .jse-meta,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents .jse-value-outer,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents .jse-meta,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header .jse-value-outer,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header .jse-meta,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents .jse-value-outer,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents .jse-meta,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-footer .jse-value-outer,
.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-footer .jse-meta {
  background: none;
}
.jse-json-node.jse-selected.svelte-wovgt4 .jse-header:where(.svelte-wovgt4),
.jse-json-node.jse-selected.svelte-wovgt4 .jse-contents:where(.svelte-wovgt4),
.jse-json-node.jse-selected.svelte-wovgt4 .jse-footer:where(.svelte-wovgt4) {
  background: var(--jse-selection-background-color, #d3d3d3);
  cursor: var(--jse-contents-selected-cursor, grab);
}
.jse-json-node.jse-selected.svelte-wovgt4 .jse-key-outer:where(.svelte-wovgt4):hover,
.jse-json-node.jse-selected.svelte-wovgt4 .jse-value-outer:where(.svelte-wovgt4):hover,
.jse-json-node.jse-selected.svelte-wovgt4 .jse-meta:where(.svelte-wovgt4):hover,
.jse-json-node.jse-selected.svelte-wovgt4 .jse-footer:where(.svelte-wovgt4):hover {
  background: inherit;
  cursor: inherit;
}
.jse-json-node.svelte-wovgt4 .jse-key-outer.jse-selected-key:where(.svelte-wovgt4) {
  background: var(--jse-selection-background-color, #d3d3d3);
  cursor: var(--jse-contents-selected-cursor, grab);
}
.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-value-outer,
.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-meta,
.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-items .jse-header,
.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-items .jse-contents,
.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-props .jse-header,
.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-props .jse-contents,
.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-footer {
  background: var(--jse-selection-background-color, #d3d3d3);
  cursor: var(--jse-contents-selected-cursor, grab);
}
.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-value-outer .jse-key-outer:hover,
.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-meta .jse-key-outer:hover,
.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-items .jse-header .jse-key-outer:hover,
.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-items .jse-contents .jse-key-outer:hover,
.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-props .jse-header .jse-key-outer:hover,
.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-props .jse-contents .jse-key-outer:hover,
.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-footer .jse-key-outer:hover {
  background: inherit;
  cursor: inherit;
}
.jse-json-node.jse-readonly.svelte-wovgt4 {
  --jse-contents-selected-cursor: pointer;
}
.jse-json-node.svelte-wovgt4 .jse-insert-area.jse-selected:where(.svelte-wovgt4) {
  outline-color: var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565));
}`);var yr=Fg(()=>yQ),wQ=be('<div class="jse-separator svelte-wovgt4">:</div>'),jQ=be('<div class="jse-bracket svelte-wovgt4">[</div> <span class="jse-tag jse-expanded svelte-wovgt4"> </span> &nbsp;',1),kQ=be('<div class="jse-bracket svelte-wovgt4">[</div> <button type="button" class="jse-tag svelte-wovgt4"> </button> <div class="jse-bracket svelte-wovgt4">]</div>',1),SQ=be('<div class="jse-context-menu-pointer-anchor svelte-wovgt4"><!></div>'),CQ=be('<div role="none" class="jse-insert-selection-area jse-inside svelte-wovgt4" data-type="insert-selection-area-inside"></div>'),_Q=be('<div role="none" class="jse-insert-selection-area jse-after svelte-wovgt4" data-type="insert-selection-area-after"></div>'),AQ=be('<div data-type="insert-selection-area-inside"><!></div>'),OQ=be('<div slot="identifier" class="jse-identifier svelte-wovgt4"><div class="jse-index svelte-wovgt4"> </div></div>'),EQ=be("<!> <!>",1),MQ=be('<div role="none" class="jse-insert-selection-area jse-after svelte-wovgt4" data-type="insert-selection-area-after"></div>'),PQ=be('<div class="jse-items svelte-wovgt4"><!> <!></div> <div class="jse-footer-outer svelte-wovgt4"><div data-type="selectable-value" class="jse-footer svelte-wovgt4"><span class="jse-bracket svelte-wovgt4">]</span></div> <!></div>',1),RQ=be('<div class="jse-header-outer svelte-wovgt4"><div class="jse-header svelte-wovgt4"><button type="button" class="jse-expand svelte-wovgt4" title="Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"><!></button> <!> <!> <div class="jse-meta svelte-wovgt4"><div class="jse-meta-inner svelte-wovgt4" data-type="selectable-value"><!></div></div> <!></div> <!> <!></div> <!>',1),TQ=be('<div class="jse-separator svelte-wovgt4">:</div>'),$Q=be('<div class="jse-bracket jse-expanded svelte-wovgt4">&lbrace;</div>'),NQ=be('<div class="jse-bracket svelte-wovgt4">&lbrace;</div> <button type="button" class="jse-tag svelte-wovgt4"> </button> <div class="jse-bracket svelte-wovgt4">&rbrace;</div>',1),IQ=be('<div class="jse-context-menu-pointer-anchor svelte-wovgt4"><!></div>'),DQ=be('<div role="none" class="jse-insert-selection-area jse-inside svelte-wovgt4" data-type="insert-selection-area-inside"></div>'),LQ=be('<div role="none" class="jse-insert-selection-area jse-after svelte-wovgt4" data-type="insert-selection-area-after"></div>'),zQ=be('<div data-type="insert-selection-area-inside"><!></div>'),BQ=be('<div slot="identifier"><!></div>'),qQ=be('<div role="none" class="jse-insert-selection-area jse-after svelte-wovgt4" data-type="insert-selection-area-after"></div>'),FQ=be('<div class="jse-props svelte-wovgt4"><!> <!></div> <div class="jse-footer-outer svelte-wovgt4"><div data-type="selectable-value" class="jse-footer svelte-wovgt4"><div class="jse-bracket svelte-wovgt4">&rbrace;</div></div> <!></div>',1),UQ=be('<div class="jse-header-outer svelte-wovgt4"><div class="jse-header svelte-wovgt4"><button type="button" class="jse-expand svelte-wovgt4" title="Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"><!></button> <!> <!> <div class="jse-meta svelte-wovgt4" data-type="selectable-value"><div class="jse-meta-inner svelte-wovgt4"><!></div></div> <!></div> <!> <!></div> <!>',1),WQ=be('<div class="jse-separator svelte-wovgt4">:</div>'),VQ=be('<div class="jse-context-menu-pointer-anchor svelte-wovgt4"><!></div>'),HQ=be('<div role="none" class="jse-insert-selection-area jse-after svelte-wovgt4" data-type="insert-selection-area-after"></div>'),KQ=be('<div class="jse-contents-outer svelte-wovgt4"><div class="jse-contents svelte-wovgt4"><!> <!> <div class="jse-value-outer svelte-wovgt4"><!></div> <!></div> <!> <!></div>'),GQ=be('<div data-type="insert-selection-area-after"><!></div>'),JQ=be('<div role="treeitem" tabindex="-1"><!> <!></div>');function i1(t,e){Ct(e,!1);var n=Y(void 0,!0),r=Y(void 0,!0),i=C(e,"pointer",9),s=C(e,"value",9),o=C(e,"state",9),a=C(e,"validationErrors",9),l=C(e,"searchResults",9),f=C(e,"selection",9),c=C(e,"context",9),d=C(e,"onDragSelectionStart",9),h=fi("jsoneditor:JSONNode"),m=Y(void 0,!0),p=void 0,y=Y(void 0,!0),g=Y(void 0,!0),b=Y(void 0,!0),v=Y(void 0,!0),x=Y(void 0,!0),j=Y(void 0,!0),w=Y(void 0,!0);function k(te){te.stopPropagation();var q=Rx(te);c().onExpand(u(g),!u(b),q)}function S(te){te.stopPropagation(),c().onExpand(u(g),!0)}function M(te,q){var ge=qd(u(g),Object.keys(s()),te,q);return c().onPatch(ge),Et(qs(ge[0].path))}function E(te){c().onDrag(te)}function J(te){yr().selecting&&(yr(yr().selecting=!1),te.stopPropagation()),c().onDragEnd(),document.removeEventListener("mousemove",E,!0),document.removeEventListener("mouseup",J)}function W(){var te;return((te=c().findElement([]))===null||te===void 0||(te=te.getBoundingClientRect())===null||te===void 0?void 0:te.top)||0}function z(te,q){var ge=W()-te.initialContentTop;return q.clientY-te.initialClientY-ge}function K(te){if(!c().readOnly&&f()){var q=hn(dt(f()));if(ln(u(g),q)){var ge=function(H,B){var Te=[];function lt(O){var I=u(g).concat(O),D=c().findElement(I);D!==void 0&&Te.push({path:I,height:D.clientHeight})}if(Array.isArray(s())){var Ze=c().getJson();if(Ze===void 0)return;var Ce=ga(Ze,H),Ve=rl(Ze,H),Ie=parseInt(Et(Ce),10),pt=parseInt(Et(Ve),10),bt=B.find(O=>Ie>=O.start&&pt<=O.end);if(!bt)return;var{start:nt,end:Ne}=bt;TT(nt,Math.min(s().length,Ne),O=>lt(String(O)))}else Object.keys(s()).forEach(lt);return Te}(f(),u(x)||Xu);if(h("dragSelectionStart",{selection:f(),items:ge}),ge){var V=c().getJson();if(V!==void 0){var F=ga(V,f()),ee=ge.findIndex(H=>ln(H.path,F)),{offset:U}=g0({json:V,selection:c().getSelection(),deltaY:0,items:ge});_(y,{initialTarget:te.target,initialClientY:te.clientY,initialContentTop:W(),selectionStartIndex:ee,selectionItemsCount:nl(V,f()).length,items:ge,offset:U,didMoveItems:!1}),yr(yr().dragging=!0),document.addEventListener("mousemove",ue,!0),document.addEventListener("mouseup",ne)}}else h("Cannot drag the current selection (probably spread over multiple sections)")}else d()(te)}}function ue(te){if(u(y)){var q=c().getJson();if(q===void 0)return;var ge=z(u(y),te),{offset:V}=g0({json:q,selection:c().getSelection(),deltaY:ge,items:u(y).items});V!==u(y).offset&&(h("drag selection",V,ge),_(y,Le(Le({},u(y)),{},{offset:V,didMoveItems:!0})))}}function ne(te){if(u(y)){var q=c().getJson();if(q===void 0)return;var ge=z(u(y),te),{operations:V,updatedSelection:F}=g0({json:q,selection:c().getSelection(),deltaY:ge,items:u(y).items});if(V)c().onPatch(V,(H,B)=>({state:B,selection:F??f()}));else if(te.target===u(y).initialTarget&&!u(y).didMoveItems){var ee=t0(te.target),U=VT(te.target);U&&c().onSelect(JS(ee,U))}_(y,void 0),yr(yr().dragging=!1),document.removeEventListener("mousemove",ue,!0),document.removeEventListener("mouseup",ne)}}function re(te){te.shiftKey||(te.stopPropagation(),te.preventDefault(),c().onSelect(Ea(u(g))))}function me(te){te.shiftKey||(te.stopPropagation(),te.preventDefault(),c().onSelect(ja(u(g))))}function de(te){c().onSelect(Ea(u(g))),c().onContextMenu(te)}function pe(te){c().onSelect(ja(u(g))),c().onContextMenu(te)}fe(()=>G(i()),()=>{_(g,qs(i()))}),fe(()=>G(i()),()=>{_(n,encodeURIComponent(i()))}),fe(()=>G(o()),()=>{_(b,!!tu(o())&&o().expanded)}),fe(()=>(G(s()),G(o())),()=>{_(v,wa(s(),o(),[]))}),fe(()=>G(o()),()=>{_(x,Ei(o())?o().visibleSections:void 0)}),fe(()=>G(a()),()=>{var te;_(j,(te=a())===null||te===void 0?void 0:te.validationError)}),fe(()=>(G(c()),G(f()),u(g)),()=>{_(w,od(c().getJson(),f(),u(g)))}),fe(()=>u(g),()=>{_(r,u(g).length===0)}),_n(),Mt(!0);var X,$=JQ(),ie=Q($),T=te=>{var q=RQ(),ge=st(q),V=Q(ge),F=Q(V),ee=Q(F),U=oe=>{yn(oe,{data:dl})},H=oe=>{yn(oe,{data:Jf})};we(ee,oe=>{u(b)?oe(U):oe(H,!1)});var B=le(F,2);zr(B,e,"identifier",{},null);var Te=le(B,2),lt=oe=>{Z(oe,wQ())};we(Te,oe=>{u(r)||oe(lt)});var Ze=le(Te,2),Ce=Q(Ze),Ve=Q(Ce),Ie=oe=>{var Me=jQ(),Ye=Q(le(st(Me),2));qe(()=>{var Tt,kt;return Rt(Ye,"".concat((Tt=s().length)!==null&&Tt!==void 0?Tt:"",`
                `).concat((kt=s().length===1?"item":"items")!==null&&kt!==void 0?kt:""))}),Z(oe,Me)},pt=oe=>{var Me=kQ(),Ye=le(st(Me),2),Tt=Q(Ye);qe(()=>{var kt,Ee;return Rt(Tt,"".concat((kt=s().length)!==null&&kt!==void 0?kt:"",`
                `).concat((Ee=s().length===1?"item":"items")!==null&&Ee!==void 0?Ee:""))}),Ae("click",Ye,S),Z(oe,Me)};we(Ve,oe=>{u(b)?oe(Ie):oe(pt,!1)});var bt=le(Ze,2),nt=oe=>{var Me=SQ();La(Q(Me),{get root(){return u(r)},selected:!0,get onContextMenu(){return c().onContextMenu}}),Z(oe,Me)};we(bt,oe=>{!c().readOnly&&u(w)&&f()&&(Qn(f())||xr(f()))&&!Ji(f())&&ln(dt(f()),u(g))&&oe(nt)});var Ne=le(V,2),O=oe=>{tc(oe,{get validationError(){return u(j)},onExpand:S})};we(Ne,oe=>{!u(j)||u(b)&&u(j).isChildError||oe(O)});var I=le(Ne,2),D=oe=>{var Me=CQ();Ae("click",Me,re),Z(oe,Me)},ae=oe=>{var Me=_Q();Ae("click",Me,me),Z(oe,Me)};we(I,oe=>{u(b)?oe(D):oe(ae,!1)});var he=le(ge,2),ke=oe=>{var Me=PQ(),Ye=st(Me),Tt=Q(Ye),kt=On=>{var en,Vt=AQ();$n(Vt,"title",r0);var mn=Q(Vt),En=$e(()=>u(w)&&Ci(f()));La(mn,{insert:!0,get selected(){return u(En)},onContextMenu:de}),qe(Zn=>{en=qt(Vt,1,"jse-insert-area jse-inside svelte-wovgt4",null,en,{"jse-hovered":u(m)===of,"jse-selected":Zn}),Qu(Vt,"--level",u(g).length+1)},[()=>u(w)&&Ci(f())],$e),Z(On,Vt)};we(Tt,On=>{!c().readOnly&&(u(m)===of||u(w)&&Ci(f()))&&On(kt)}),Ur(le(Tt,2),1,()=>u(x)||Xu,ei,(On,en,Vt)=>{var mn=EQ(),En=st(mn);Ur(En,1,()=>function(ot,gn,mt){var Yt=gn.start,xn=Math.min(gn.end,ot.length),Dn=cg(Yt,xn);return mt&&mt.offset!==0?MS(Dn,mt.selectionStartIndex,mt.selectionItemsCount,mt.offset).map((Mn,sr)=>({index:Mn,gutterIndex:sr})):Dn.map(Mn=>({index:Mn,gutterIndex:Mn}))}(s(),u(en),u(y)),ot=>ot.index,(ot,gn)=>{var mt=on(),Yt=$e(()=>Ei(a())?a().items[u(gn).index]:void 0),xn=$e(()=>YS(c().getJson(),f(),u(g).concat(String(u(gn).index)))),Dn=st(mt),Mn=$e(()=>Nj(i(),u(gn).index)),sr=$e(()=>Ei(o())?o().items[u(gn).index]:void 0),Sr=$e(()=>Ei(l())?l().items[u(gn).index]:void 0);i1(Dn,{get value(){return s()[u(gn).index]},get pointer(){return u(Mn)},get state(){return u(sr)},get validationErrors(){return u(Yt)},get searchResults(){return u(Sr)},get selection(){return u(xn)},get context(){return c()},onDragSelectionStart:K,$$slots:{identifier:(hi,Mr)=>{var Yr=OQ(),ti=Q(Yr),Wr=Q(ti);qe(()=>Rt(Wr,u(gn).gutterIndex)),Z(hi,Yr)}}}),Z(ot,mt)});var Zn=le(En,2),cn=ot=>{var gn=$e(()=>u(x)||Xu);pQ(ot,{get visibleSections(){return u(gn)},sectionIndex:Vt,get total(){return s().length},get path(){return u(g)},get onExpandSection(){return c().onExpandSection},get selection(){return f()},get context(){return c()}})};we(Zn,ot=>{u(en).end<s().length&&ot(cn)}),Z(On,mn)});var Ee=le(Ye,2),It=le(Q(Ee),2),Hn=On=>{var en=MQ();Ae("click",en,me),Z(On,en)};we(It,On=>{u(r)||On(Hn)}),Z(oe,Me)};we(he,oe=>{u(b)&&oe(ke)}),Ae("click",F,k),Z(te,q)},A=te=>{var q=on(),ge=st(q),V=ee=>{var U=UQ(),H=st(U),B=Q(H),Te=Q(B),lt=Q(Te),Ze=Ee=>{yn(Ee,{data:dl})},Ce=Ee=>{yn(Ee,{data:Jf})};we(lt,Ee=>{u(b)?Ee(Ze):Ee(Ce,!1)});var Ve=le(Te,2);zr(Ve,e,"identifier",{},null);var Ie=le(Ve,2),pt=Ee=>{Z(Ee,TQ())};we(Ie,Ee=>{u(r)||Ee(pt)});var bt=le(Ie,2),nt=Q(bt),Ne=Q(nt),O=Ee=>{Z(Ee,$Q())},I=Ee=>{var It=NQ(),Hn=le(st(It),2),On=Q(Hn);qe((en,Vt)=>Rt(On,"".concat(en??"",`
                `).concat(Vt??"")),[()=>Object.keys(s()).length,()=>Object.keys(s()).length===1?"prop":"props"],$e),Ae("click",Hn,S),Z(Ee,It)};we(Ne,Ee=>{u(b)?Ee(O):Ee(I,!1)});var D=le(bt,2),ae=Ee=>{var It=IQ();La(Q(It),{get root(){return u(r)},selected:!0,get onContextMenu(){return c().onContextMenu}}),Z(Ee,It)};we(D,Ee=>{!c().readOnly&&u(w)&&f()&&(Qn(f())||xr(f()))&&!Ji(f())&&ln(dt(f()),u(g))&&Ee(ae)});var he=le(B,2),ke=Ee=>{tc(Ee,{get validationError(){return u(j)},onExpand:S})};we(he,Ee=>{!u(j)||u(b)&&u(j).isChildError||Ee(ke)});var oe=le(he,2),Me=Ee=>{var It=DQ();Ae("click",It,re),Z(Ee,It)},Ye=Ee=>{var It=on(),Hn=st(It),On=en=>{var Vt=LQ();Ae("click",Vt,me),Z(en,Vt)};we(Hn,en=>{u(r)||en(On)},!0),Z(Ee,It)};we(oe,Ee=>{u(b)?Ee(Me):Ee(Ye,!1)});var Tt=le(H,2),kt=Ee=>{var It=FQ(),Hn=st(It),On=Q(Hn),en=Zn=>{var cn,ot=zQ();$n(ot,"title",r0);var gn=Q(ot),mt=$e(()=>u(w)&&Ci(f()));La(gn,{insert:!0,get selected(){return u(mt)},onContextMenu:de}),qe(Yt=>{cn=qt(ot,1,"jse-insert-area jse-inside svelte-wovgt4",null,cn,{"jse-hovered":u(m)===of,"jse-selected":Yt}),Qu(ot,"--level",u(g).length+1)},[()=>u(w)&&Ci(f())],$e),Z(Zn,ot)};we(On,Zn=>{!c().readOnly&&(u(m)===of||u(w)&&Ci(f()))&&Zn(en)}),Ur(le(On,2),1,()=>function(Zn,cn){var ot=Object.keys(Zn);return cn&&cn.offset!==0?MS(ot,cn.selectionStartIndex,cn.selectionItemsCount,cn.offset):ot}(s(),u(y)),ei,(Zn,cn)=>{var ot=on(),gn=$e(()=>Nj(i(),u(cn))),mt=$e(()=>co(l())?l().properties[u(cn)]:void 0),Yt=$e(()=>co(a())?a().properties[u(cn)]:void 0),xn=$e(()=>u(g).concat(u(cn))),Dn=$e(()=>YS(c().getJson(),f(),u(xn))),Mn=st(ot),sr=$e(()=>co(o())?o().properties[u(cn)]:void 0);i1(Mn,{get value(){return s()[u(cn)]},get pointer(){return u(gn)},get state(){return u(sr)},get validationErrors(){return u(Yt)},get searchResults(){return u(mt)},get selection(){return u(Dn)},get context(){return c()},onDragSelectionStart:K,$$slots:{identifier:(Sr,hi)=>{var Mr,Yr=BQ(),ti=Q(Yr),Wr=$e(()=>{return br=u(mt),(Pr=LS(br)?br.searchResults.filter(Pe=>Pe.field===uo.key):void 0)&&Pr.length>0?Pr:void 0;var br,Pr});(function(br,Pr){Ct(Pr,!1);var Pe=Y(void 0,!0),tn=Y(void 0,!0),hr=C(Pr,"pointer",9),xe=C(Pr,"key",9),ze=C(Pr,"selection",9),wt=C(Pr,"searchResultItems",9),zt=C(Pr,"onUpdateKey",9),gt=C(Pr,"context",9),Qt=Y(void 0,!0);function wn(nn){u(tn)||gt().readOnly||(nn.preventDefault(),gt().onSelect(Ux(u(Qt))))}function Ht(nn,Ln){var rn=zt()(xe(),gt().normalization.unescapeValue(nn)),Rr=hn(u(Qt)).concat(rn);gt().onSelect(Ln===tl.nextInside?dn(Rr):Oa(Rr)),Ln!==tl.self&&gt().focus()}function Kt(){gt().onSelect(Oa(u(Qt))),gt().focus()}fe(()=>G(hr()),()=>{_(Qt,qs(hr()))}),fe(()=>(G(ze()),u(Qt)),()=>{_(Pe,ui(ze())&&ln(ze().path,u(Qt)))}),fe(()=>(u(Pe),G(ze())),()=>{_(tn,u(Pe)&&Ji(ze()))}),_n(),Mt(!0);var vt=vQ(),yt=st(vt),Pn=nn=>{var Ln=$e(()=>gt().normalization.escapeValue(xe())),rn=$e(()=>Ji(ze())?ze().initialValue:void 0);n5(nn,{get value(){return u(Ln)},get initialValue(){return u(rn)},label:"Edit key",shortText:!0,onChange:Ht,onCancel:Kt,get onFind(){return gt().onFind}})},Bt=nn=>{var Ln,rn=gQ(),Rr=Q(rn),ce=Fe=>{var Ut=$e(()=>gt().normalization.escapeValue(xe()));l5(Fe,{get text(){return u(Ut)},get searchResultItems(){return wt()}})},je=Fe=>{var Ut=Bi();qe(kn=>Rt(Ut,kn),[()=>Vg(gt().normalization.escapeValue(xe()))],$e),Z(Fe,Ut)};we(Rr,Fe=>{wt()?Fe(ce):Fe(je,!1)}),qe(()=>Ln=qt(rn,1,"jse-key svelte-2iqnqn",null,Ln,{"jse-empty":xe()===""})),Ae("dblclick",rn,wn),Z(nn,rn)};we(yt,nn=>{!gt().readOnly&&u(tn)?nn(Pn):nn(Bt,!1)});var Kn=le(yt,2),jn=nn=>{La(nn,{selected:!0,get onContextMenu(){return gt().onContextMenu}})};we(Kn,nn=>{gt().readOnly||!u(Pe)||u(tn)||nn(jn)}),Z(br,vt),_t()})(ti,{get pointer(){return u(gn)},get key(){return u(cn)},get selection(){return u(Dn)},get searchResultItems(){return u(Wr)},get context(){return c()},onUpdateKey:M}),qe(br=>Mr=qt(Yr,1,"jse-key-outer svelte-wovgt4",null,Mr,{"jse-selected-key":br}),[()=>ui(u(Dn))&&ln(u(Dn).path,u(xn))],$e),Z(Sr,Yr)}}}),Z(Zn,ot)});var Vt=le(Hn,2),mn=le(Q(Vt),2),En=Zn=>{var cn=qQ();Ae("click",cn,me),Z(Zn,cn)};we(mn,Zn=>{u(r)||Zn(En)}),Z(Ee,It)};we(Tt,Ee=>{u(b)&&Ee(kt)}),Ae("click",Te,k),Z(ee,U)},F=ee=>{var U=KQ(),H=Q(U),B=Q(H);zr(B,e,"identifier",{},null);var Te=le(B,2),lt=D=>{Z(D,WQ())};we(Te,D=>{u(r)||D(lt)});var Ze=le(Te,2),Ce=Q(Ze),Ve=$e(()=>u(w)?f():void 0),Ie=$e(()=>{return D=l(),(ae=LS(D)?D.searchResults.filter(he=>he.field===uo.value):void 0)&&ae.length>0?ae:void 0;var D,ae});S5(Ce,{get path(){return u(g)},get value(){return s()},get enforceString(){return u(v)},get selection(){return u(Ve)},get searchResultItems(){return u(Ie)},get context(){return c()}});var pt=le(Ze,2),bt=D=>{var ae=VQ();La(Q(ae),{get root(){return u(r)},selected:!0,get onContextMenu(){return c().onContextMenu}}),Z(D,ae)};we(pt,D=>{!c().readOnly&&u(w)&&f()&&(Qn(f())||xr(f()))&&!Ji(f())&&ln(dt(f()),u(g))&&D(bt)});var nt=le(H,2),Ne=D=>{tc(D,{get validationError(){return u(j)},onExpand:S})};we(nt,D=>{u(j)&&D(Ne)});var O=le(nt,2),I=D=>{var ae=HQ();Ae("click",ae,me),Z(D,ae)};we(O,D=>{u(r)||D(I)}),Z(ee,U)};we(ge,ee=>{Vn(s())?ee(V):ee(F,!1)},!0),Z(te,q)};we(ie,te=>{Array.isArray(s())?te(T):te(A,!1)});var P=le(ie,2),se=te=>{var q,ge=GQ();$n(ge,"title",r0);var V=Q(ge),F=$e(()=>u(w)&&Ds(f()));La(V,{insert:!0,get selected(){return u(F)},onContextMenu:pe}),qe(ee=>q=qt(ge,1,"jse-insert-area jse-after svelte-wovgt4",null,q,{"jse-hovered":u(m)===i0,"jse-selected":ee}),[()=>u(w)&&Ds(f())],$e),Z(te,ge)};we(P,te=>{!c().readOnly&&(u(m)===i0||u(w)&&Ds(f()))&&te(se)}),qe((te,q,ge)=>{X=qt($,1,vl(te),"svelte-wovgt4",X,{"jse-root":u(r),"jse-selected":q,"jse-selected-value":ge,"jse-readonly":c().readOnly,"jse-hovered":u(m)===$S}),$n($,"data-path",u(n)),$n($,"aria-selected",u(w)),Qu($,"--level",u(g).length)},[()=>zc("jse-json-node",{"jse-expanded":u(b)},c().onClassName(u(g),s())),()=>u(w)&&xr(f()),()=>u(w)&&Qn(f())],$e),Ae("mousedown",$,function(te){if((te.buttons===1||te.buttons===2)&&!((q=te.target).nodeName==="DIV"&&q.contentEditable==="true"||te.buttons===1&&UT(te.target,"BUTTON"))){var q;te.stopPropagation(),te.preventDefault(),c().focus(),document.addEventListener("mousemove",E,!0),document.addEventListener("mouseup",J);var ge=t0(te.target),V=c().getJson(),F=c().getDocumentState();if(!f()||ge===rr.after||ge===rr.inside||f().type!==ge&&f().type!==rr.multi||!od(V,f(),u(g)))if(yr(yr().selecting=!0),yr(yr().selectionAnchor=u(g)),yr(yr().selectionAnchorType=ge),yr(yr().selectionFocus=u(g)),te.shiftKey){var ee=c().getSelection();ee&&c().onSelect(Ni(Ul(ee),u(g)))}else if(ge===rr.multi)if(u(r)&&te.target.hasAttribute("data-path")){var U=Et(QT(s(),F));c().onSelect(Yb(U))}else c().onSelect(Ni(u(g),u(g)));else V!==void 0&&c().onSelect(JS(ge,u(g)));else te.button===0&&d()(te)}}),Ae("mousemove",$,function(te){if(yr().selecting){te.preventDefault(),te.stopPropagation(),yr().selectionFocus===void 0&&window.getSelection&&window.getSelection().empty();var q=t0(te.target);ln(u(g),yr().selectionFocus)&&q===yr().selectionAnchorType||(yr(yr().selectionFocus=u(g)),yr(yr().selectionAnchorType=q),c().onSelect(Ni(yr().selectionAnchor||yr().selectionFocus,yr().selectionFocus)))}}),Ae("mouseover",$,function(te){yr().selecting||yr().dragging||(te.stopPropagation(),Ga(te.target,"data-type","selectable-value")?_(m,$S):Ga(te.target,"data-type","selectable-key")?_(m,void 0):Ga(te.target,"data-type","insert-selection-area-inside")?_(m,of):Ga(te.target,"data-type","insert-selection-area-after")&&_(m,i0),clearTimeout(p))}),Ae("mouseout",$,function(te){te.stopPropagation(),p=window.setTimeout(()=>_(m,void 0))}),Z(t,$),_t()}var YQ={prefix:"fas",iconName:"jsoneditor-expand",icon:[512,512,[],"","M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"]},QQ={prefix:"fas",iconName:"jsoneditor-collapse",icon:[512,512,[],"","m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"]},fC={prefix:"fas",iconName:"jsoneditor-format",icon:[512,512,[],"","M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"]},XQ={prefix:"fas",iconName:"jsoneditor-compact",icon:[512,512,[],"","M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"]};Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-welcome.svelte-1eamlhk {
  flex: 1;
  overflow: auto;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  display: flex;
  flex-direction: column;
  align-items: center;
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-welcome.svelte-1eamlhk:last-child {
  border-bottom: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-welcome.svelte-1eamlhk .jse-space.jse-before:where(.svelte-1eamlhk) {
  flex: 1;
}
.jse-welcome.svelte-1eamlhk .jse-space.jse-after:where(.svelte-1eamlhk) {
  flex: 2;
}
.jse-welcome.svelte-1eamlhk .jse-contents:where(.svelte-1eamlhk) {
  display: flex;
  flex-direction: column;
  max-width: 300px;
  margin: 2em var(--jse-padding, 10px);
  gap: var(--jse-padding, 10px);
}
.jse-welcome.svelte-1eamlhk .jse-contents:where(.svelte-1eamlhk) .jse-welcome-info:where(.svelte-1eamlhk) {
  color: var(--jse-panel-color-readonly, #b2b2b2);
}
.jse-welcome.svelte-1eamlhk .jse-contents:where(.svelte-1eamlhk) button:where(.svelte-1eamlhk) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));
  color: var(--jse-button-primary-color, #fff);
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  border-radius: 3px;
}
.jse-welcome.svelte-1eamlhk .jse-contents:where(.svelte-1eamlhk) button:where(.svelte-1eamlhk):hover {
  background: var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff));
}
.jse-welcome.svelte-1eamlhk .jse-contents:where(.svelte-1eamlhk) button:where(.svelte-1eamlhk):disabled {
  background: var(--jse-button-primary-background-disabled, #9d9d9d);
}`);var ZQ=be('<div class="jse-welcome-info svelte-1eamlhk">You can paste clipboard data using <b>Ctrl+V</b>, or use the following options:</div> <button class="svelte-1eamlhk">Create object</button> <button class="svelte-1eamlhk">Create array</button>',1),eX=be('<div class="jse-welcome svelte-1eamlhk" role="none"><div class="jse-space jse-before svelte-1eamlhk"></div> <div class="jse-contents svelte-1eamlhk"><div class="jse-welcome-title">Empty document</div> <!></div> <div class="jse-space jse-after svelte-1eamlhk"></div></div>');function s1(t,e){var n=typeof t=="string"?t.toLowerCase():t,r=typeof e=="string"?e.toLowerCase():e;return WH(n,r)}function C5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,i=rt(t,e);if(Fr(i)){if(n===void 0)throw new Error("Cannot sort: no property selected by which to sort the array");return function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,f=function(d,h){return function(m,p){var y=rt(m,d),g=rt(p,d);return y===void 0?h:g===void 0?-h:typeof y!="string"&&typeof g!="string"?y>g?h:y<g?-h:0:h*s1(y,g)}}(a,l),c=rt(s,o);return[{op:"replace",path:jt(o),value:c.slice(0).sort(f)}]}(t,e,n,r)}if(Vn(i))return function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=rt(s,o),f=Object.keys(l).slice();f.sort((d,h)=>a*s1(d,h));var c={};return f.forEach(d=>c[d]=l[d]),[{op:"replace",path:jt(o),value:c}]}(t,e,r);throw new Error("Cannot sort: no array or object")}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-navigation-bar-dropdown.svelte-2nnd2m {
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 3;
  background: var(--jse-navigation-bar-background, var(--jse-background-color, #fff));
  color: var(--jse-navigation-bar-dropdown-color, #656565);
  box-shadow: var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));
  display: flex;
  flex-direction: column;
  max-height: 300px;
  overflow: auto;
  min-width: 80px;
}
.jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item:where(.svelte-2nnd2m) {
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  outline: none;
  text-align: left;
  white-space: nowrap;
  box-sizing: border-box;
  padding: calc(0.5 * var(--jse-padding, 10px)) 36px;
}
.jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item:where(.svelte-2nnd2m):focus, .jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item:where(.svelte-2nnd2m):hover {
  background: var(--jse-navigation-bar-background-highlight, #e5e5e5);
}
.jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item.jse-selected:where(.svelte-2nnd2m) {
  background: var(--jse-navigation-bar-dropdown-color, #656565);
  color: var(--jse-navigation-bar-background, var(--jse-background-color, #fff));
}`);var tX=be('<button type="button"> </button>'),nX=be('<button type="button" class="jse-navigation-bar-dropdown-item svelte-2nnd2m">...</button>'),rX=be('<div class="jse-navigation-bar-dropdown svelte-2nnd2m"><!> <!></div>');function iX(t,e){Ct(e,!1);var n=C(e,"items",9),r=C(e,"selectedItem",9),i=C(e,"onSelect",9);Mt(!0);var s=rX(),o=Q(s);Ur(o,1,()=>$T(n(),100),f=>f,(f,c)=>{var d,h=tX(),m=Q(h);qe((p,y)=>{d=qt(h,1,"jse-navigation-bar-dropdown-item svelte-2nnd2m",null,d,{"jse-selected":u(c)===r()}),$n(h,"title",p),Rt(m,y)},[()=>u(c).toString(),()=>td(u(c).toString(),30)],$e),Ae("click",h,no(()=>i()(u(c)))),Z(f,h)});var a=le(o,2),l=f=>{var c=nX();$n(c,"title","Limited to ".concat(100," items")),Z(f,c)};we(a,f=>{n().length>100&&f(l)}),Z(t,s),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-navigation-bar-item.svelte-752ro1 {
  position: relative;
  display: flex;
}
.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button:where(.svelte-752ro1) {
  font-family: inherit;
  font-size: inherit;
  padding: calc(0.5 * var(--jse-padding, 10px)) 2px;
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  outline: none;
  min-width: 2em;
  white-space: nowrap;
}
.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button:where(.svelte-752ro1):focus, .jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button:where(.svelte-752ro1):hover {
  background: var(--jse-panel-button-background-highlight, #e0e0e0);
  color: var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));
}
.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button.jse-navigation-bar-arrow:where(.svelte-752ro1) {
  padding: 2px var(--jse-padding, 10px) 0;
}
.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button.jse-navigation-bar-arrow.jse-open:where(.svelte-752ro1) {
  background: var(--jse-navigation-bar-background, var(--jse-background-color, #fff));
  color: var(--jse-navigation-bar-dropdown-color, #656565);
}
.jse-navigation-bar-item.svelte-752ro1:last-child {
  padding-right: var(--jse-padding, 10px);
}`);var sX=be('<button type="button" class="jse-navigation-bar-button svelte-752ro1"> </button>'),oX=be('<div class="jse-navigation-bar-item svelte-752ro1"><button type="button"><!></button> <!></div>');function dC(t,e){Ct(e,!1);var n,r=Y(void 0,!0),i=Y(void 0,!0),{openAbsolutePopup:s,closeAbsolutePopup:o}=Cl("absolute-popup"),a=C(e,"path",9),l=C(e,"index",9),f=C(e,"onSelect",9),c=C(e,"getItems",9),d=Y(void 0,!0),h=Y(!1,!0);function m(x){o(n),f()(u(r).concat(x))}fe(()=>(G(a()),G(l())),()=>{_(r,a().slice(0,l()))}),fe(()=>(G(a()),G(l())),()=>{_(i,a()[l()])}),_n(),Mt(!0);var p,y=oX(),g=Q(y);yn(Q(g),{data:LR});var b=le(g,2),v=x=>{var j=sX(),w=Q(j);qe(()=>Rt(w,u(i))),Ae("click",j,()=>m(u(i))),Z(x,j)};we(b,x=>{u(i)!==void 0&&x(v)}),jr(y,x=>_(d,x),()=>u(d)),qe(()=>p=qt(g,1,"jse-navigation-bar-button jse-navigation-bar-arrow svelte-752ro1",null,p,{"jse-open":u(h)})),Ae("click",g,function(){if(u(d)){_(h,!0);var x={items:c()(u(r)),selectedItem:u(i),onSelect:m};n=s(iX,x,{anchor:u(d),closeOnOuterClick:!0,onClose:()=>{_(h,!1)}})}}),Z(t,y),_t()}function Yx(t){var e,n;if(navigator.clipboard)return navigator.clipboard.writeText(t);if((e=(n=document).queryCommandSupported)!==null&&e!==void 0&&e.call(n,"copy")){var r=document.createElement("textarea");r.value=t,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select();try{document.execCommand("copy")}catch(i){console.error(i)}finally{document.body.removeChild(r)}return Promise.resolve()}return console.error("Copy failed."),Promise.resolve()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-navigation-bar-path-editor.svelte-zc2wx7 {
  flex: 1;
  display: flex;
  border: var(--jse-edit-outline, 2px solid #656565);
  background: var(--jse-background-color, #fff);
}
.jse-navigation-bar-path-editor.svelte-zc2wx7 input.jse-navigation-bar-text:where(.svelte-zc2wx7) {
  flex: 1;
  font-family: inherit;
  font-size: inherit;
  padding: 0 5px 1px;
  background: var(--jse-background-color, #fff);
  color: var(--jse-text-color, #4d4d4d);
  border: none;
  outline: none;
}
.jse-navigation-bar-path-editor.svelte-zc2wx7 button:where(.svelte-zc2wx7) {
  border: none;
  background: var(--jse-background-color, #fff);
  cursor: pointer;
  font-family: inherit;
  font-size: 80%;
  color: inherit;
}
.jse-navigation-bar-path-editor.svelte-zc2wx7 button.jse-navigation-bar-copy.copied:where(.svelte-zc2wx7) {
  color: var(--message-success-background, #9ac45d);
}
.jse-navigation-bar-path-editor.svelte-zc2wx7 button.jse-navigation-bar-validation-error:where(.svelte-zc2wx7) {
  color: var(--jse-error-color, #ee5341);
}
.jse-navigation-bar-path-editor.error.svelte-zc2wx7 {
  border-color: var(--jse-error-color, #ee5341);
}
.jse-navigation-bar-path-editor.error.svelte-zc2wx7 input.jse-navigation-bar-text:where(.svelte-zc2wx7) {
  color: var(--jse-error-color, #ee5341);
}
.jse-navigation-bar-path-editor.svelte-zc2wx7 .jse-copied-text:where(.svelte-zc2wx7) {
  background: var(--message-success-background, #9ac45d);
  color: var(--jse-message-success-color, #fff);
  position: relative;
  margin: 2px;
  padding: 0 5px;
  border-radius: 3px;
}`);var aX=be('<button type="button" class="jse-navigation-bar-validation-error svelte-zc2wx7"><!></button>'),lX=be('<div class="jse-copied-text svelte-zc2wx7">Copied!</div>'),uX=be('<div><input type="text" class="jse-navigation-bar-text svelte-zc2wx7"> <!> <!> <button type="button" title="Copy selected path to the clipboard"><!></button></div>');function cX(t,e){Ct(e,!1);var n=Y(),r=Cl("absolute-popup"),i=C(e,"path",8),s=C(e,"pathParser",8),o=C(e,"onChange",8),a=C(e,"onClose",8),l=C(e,"onError",8),f=C(e,"pathExists",8),c=Y(),d=Y(),h=Y(!1),m=void 0,p=Y(!1);function y(){u(c).focus()}function g(J){try{var W=s().parse(J);return function(z){if(!f()(z))throw new Error("Path does not exist in current document")}(W),{path:W,error:void 0}}catch(z){return{path:void 0,error:z}}}Pi(()=>{y()}),Ks(()=>{clearTimeout(m)}),fe(()=>(G(s()),G(i())),()=>{_(d,s().stringify(i()))}),fe(()=>(u(h),u(d)),()=>{_(n,u(h)?g(u(d)).error:void 0)}),_n(),Mt();var b,v=uX(),x=Q(v);jr(x,J=>_(c,J),()=>u(c));var j=le(x,2),w=J=>{var W=aX();yn(Q(W),{data:Xl}),Li(W,(z,K)=>gc==null?void 0:gc(z,K),()=>Le({text:String(u(n)||"")},r)),Z(J,W)};we(j,J=>{u(n)&&J(w)});var k=le(j,2),S=J=>{Z(J,lX())};we(k,J=>{u(p)&&J(S)});var M,E=le(k,2);yn(Q(E),{data:Ha}),qe(()=>{b=qt(v,1,"jse-navigation-bar-path-editor svelte-zc2wx7",null,b,{error:u(n)}),eu(x,u(d)),M=qt(E,1,"jse-navigation-bar-copy svelte-zc2wx7",null,M,{copied:u(p)})}),Ae("keydown",x,no(function(J){var W=_a(J);if(W==="Escape"&&(J.preventDefault(),a()()),W==="Enter"){J.preventDefault(),_(h,!0);var z=g(u(d));z.path!==void 0?o()(z.path):l()(z.error)}})),Ae("input",x,function(J){_(d,J.currentTarget.value)}),Ae("click",E,function(){Yx(u(d)),_(p,!0),m=window.setTimeout(()=>_(p,!1),1e3),y()}),Z(t,v),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-navigation-bar.svelte-xs03gj {
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  background: var(--jse-panel-background, #ebebeb);
  color: var(--jse-panel-button-color, inherit);
  padding: 0;
  margin: 0;
  display: flex;
  overflow: auto;
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit:where(.svelte-xs03gj) {
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);
  color: var(--jse-panel-color-readonly, #b2b2b2);
  background: transparent;
  border: none;
  display: flex;
  cursor: pointer;
  outline: none;
  align-items: center;
}
.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit.flex:where(.svelte-xs03gj) {
  flex: 1;
}
.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit:where(.svelte-xs03gj):focus, .jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit:where(.svelte-xs03gj):hover, .jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit.editing:where(.svelte-xs03gj) {
  background: var(--jse-panel-button-background-highlight, #e0e0e0);
  color: var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));
  transition: color 0.2s ease-in, background 0.2s ease-in;
}
.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit:where(.svelte-xs03gj) .jse-navigation-bar-space:where(.svelte-xs03gj) {
  flex: 1;
  text-align: left;
}`);var fX=be("<!> <!>",1),dX=be('<div class="jse-navigation-bar svelte-xs03gj"><!> <button type="button"><span class="jse-navigation-bar-space svelte-xs03gj"> </span> <!></button></div>');function hX(t,e){Ct(e,!1);var n=Y(void 0,!0),r=Y(void 0,!0),i=fi("jsoneditor:NavigationBar"),s=C(e,"json",9),o=C(e,"selection",9),a=C(e,"onSelect",9),l=C(e,"onError",9),f=C(e,"pathParser",9),c=Y(void 0,!0),d=Y(!1,!0);function h(W){i("get items for path",W);var z=rt(s(),W);if(Array.isArray(z))return cg(0,z.length).map(String);if(Vn(z)){var K=Object.keys(z).slice(0);return K.sort(s1),K}return[]}function m(W){return Is(s(),W)}function p(W){i("select path",JSON.stringify(W)),a()(Ni(W,W))}function y(){_(d,!1)}function g(W){y(),p(W)}fe(()=>(G(o()),dt),()=>{_(n,o()?dt(o()):[])}),fe(()=>(G(s()),u(n)),()=>{_(r,Xr(rt(s(),u(n))))}),fe(()=>u(n),()=>{u(n),setTimeout(()=>{if(u(c)&&u(c).scrollTo){var W=u(c).scrollWidth-u(c).clientWidth;W>0&&(i("scrollTo ",W),u(c).scrollTo({left:W,behavior:"smooth"}))}})}),_n(),Mt(!0);var b=dX(),v=Q(b),x=W=>{var z=fX(),K=st(z);Ur(K,1,()=>u(n),ei,(re,me,de)=>{dC(re,{getItems:h,get path(){return u(n)},index:de,onSelect:p})});var ue=le(K,2),ne=re=>{dC(re,{getItems:h,get path(){return u(n)},get index(){return u(n).length},onSelect:p})};we(ue,re=>{u(r)&&re(ne)}),Z(W,z)},j=W=>{cX(W,{get path(){return u(n)},onClose:y,onChange:g,get onError(){return l()},pathExists:m,get pathParser(){return f()}})};we(v,W=>{u(d)?W(j,!1):W(x)});var w,k=le(v,2),S=Q(k),M=Q(S),E=le(S,2),J=$e(()=>u(d)?LH:wH);yn(E,{get data(){return u(J)}}),jr(b,W=>_(c,W),()=>u(c)),qe(W=>{w=qt(k,1,"jse-navigation-bar-edit svelte-xs03gj",null,w,{flex:!u(d),editing:u(d)}),$n(k,"title",u(d)?"Cancel editing the selected path":"Edit the selected path"),Rt(M,W)},[()=>Xr(s())||u(d)?" ":"Navigation bar"],$e),Ae("click",k,function(){_(d,!u(d))}),Z(t,b),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-search-box.svelte-1mxl2uo {
  border: var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));
  border-radius: 3px;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  background: var(--jse-panel-background, #ebebeb);
  color: var(--jse-panel-color-readonly, #b2b2b2);
  box-shadow: var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));
  display: inline-block;
  width: 400px;
  max-width: 100%;
  overflow: auto;
}
.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) {
  display: flex;
  align-items: stretch;
}
.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) button:where(.svelte-1mxl2uo),
.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) input:where(.svelte-1mxl2uo) {
  font-family: inherit;
  font-size: inherit;
}
.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) button:where(.svelte-1mxl2uo) {
  display: block;
  text-align: center;
  border: none;
  padding: 0 5px;
  margin: 0;
  cursor: pointer;
  color: var(--jse-panel-button-color, inherit);
  background: var(--jse-panel-button-background, transparent);
}
.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) button:where(.svelte-1mxl2uo):hover {
  color: var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));
  background: var(--jse-panel-button-background-highlight, #e0e0e0);
}
.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) input:where(.svelte-1mxl2uo) {
  color: var(--jse-panel-color, var(--jse-text-color, #4d4d4d));
  border: var(--jse-input-border, 1px solid #d8dbdf);
  border-radius: 3px;
  background: var(--jse-input-background, var(--jse-background-color, #fff));
  height: 28px;
  padding: 0 5px;
  margin: 0;
  flex: 1;
  width: 0;
  min-width: 50px;
  outline: none;
}
.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-replace-toggle:where(.svelte-1mxl2uo) {
  padding: var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px));
  min-width: 20px;
  background: var(--jse-panel-button-background-highlight, #e0e0e0);
}
.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: calc(0.5 * var(--jse-padding, 10px));
  gap: calc(0.5 * var(--jse-padding, 10px));
}
.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-search-section:where(.svelte-1mxl2uo) {
  flex: 1;
  display: flex;
  align-items: center;
  position: relative;
}
.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-search-section:where(.svelte-1mxl2uo) .jse-search-icon:where(.svelte-1mxl2uo) {
  color: inherit;
  cursor: inherit;
  background: inherit;
  width: 32px;
  text-align: center;
}
.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-search-section:where(.svelte-1mxl2uo) label.jse-search-input-label:where(.svelte-1mxl2uo) {
  flex: 1;
  display: flex;
}
.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-search-section:where(.svelte-1mxl2uo) .jse-search-count:where(.svelte-1mxl2uo) {
  color: inherit;
  font-size: 80%;
  visibility: hidden;
  padding: 0 5px;
  min-width: 36px;
  text-align: center;
}
.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-search-section:where(.svelte-1mxl2uo) .jse-search-count.jse-visible:where(.svelte-1mxl2uo) {
  visibility: visible;
}
.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-replace-section:where(.svelte-1mxl2uo) {
  flex: 1;
  display: flex;
  padding-left: 32px;
}
.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-replace-section:where(.svelte-1mxl2uo) button:where(.svelte-1mxl2uo) {
  width: auto;
}`);var pX=be('<button type="button" class="jse-replace-toggle svelte-1mxl2uo" title="Toggle visibility of replace options (Ctrl+H)"><!></button>'),mX=be('<div class="jse-replace-section svelte-1mxl2uo"><input class="jse-replace-input svelte-1mxl2uo" title="Enter replacement text" type="text" placeholder="Replace"> <button type="button" title="Replace current occurrence (Ctrl+Enter)" class="svelte-1mxl2uo">Replace</button> <button type="button" title="Replace all occurrences" class="svelte-1mxl2uo">All</button></div>'),gX=be('<div class="jse-search-box svelte-1mxl2uo"><form class="jse-search-form svelte-1mxl2uo"><!> <div class="jse-search-contents svelte-1mxl2uo"><div class="jse-search-section svelte-1mxl2uo"><div class="jse-search-icon svelte-1mxl2uo"><!></div> <label class="jse-search-input-label svelte-1mxl2uo" about="jse-search input"><input class="jse-search-input svelte-1mxl2uo" title="Enter text to search" type="text" placeholder="Find"></label> <div> </div> <button type="button" class="jse-search-next svelte-1mxl2uo" title="Go to next search result (Enter)"><!></button> <button type="button" class="jse-search-previous svelte-1mxl2uo" title="Go to previous search result (Shift+Enter)"><!></button> <button type="button" class="jse-search-clear svelte-1mxl2uo" title="Close search box (Esc)"><!></button></div> <!></div></form></div>');function _5(t,e){Ct(e,!1);var n=Y(void 0,!0),r=Y(void 0,!0),i=Y(void 0,!0),s=fi("jsoneditor:SearchBox"),o=C(e,"json",9),a=C(e,"documentState",9),l=C(e,"parser",9),f=C(e,"showSearch",9),c=C(e,"showReplace",13),d=C(e,"readOnly",9),h=C(e,"columns",9),m=C(e,"onSearch",9),p=C(e,"onFocus",9),y=C(e,"onPatch",9),g=C(e,"onClose",9),b=Y("",!0),v="",x=Y("",!0),j=Y(!1,!0),w=Y(void 0,!0),k=Hl(function(U){return P.apply(this,arguments)},300),S=Hl(function(U){return se.apply(this,arguments)},300);function M(){c(!c()&&!d())}function E(U){U.stopPropagation();var H=_a(U);H==="Enter"&&(U.preventDefault(),u(b)!==v?k.flush():de()),H==="Shift+Enter"&&(U.preventDefault(),X()),H==="Ctrl+Enter"&&(U.preventDefault(),c()?K():de()),H==="Ctrl+H"&&(U.preventDefault(),M()),H==="Escape"&&(U.preventDefault(),ge())}function J(U){_a(U)==="Enter"&&(U.preventDefault(),U.stopPropagation(),K())}function W(){return z.apply(this,arguments)}function z(){return(z=Lt(function*(){Nr(),yield k.flush()})).apply(this,arguments)}function K(){return ue.apply(this,arguments)}function ue(){return(ue=Lt(function*(){var U;if(!d()){var H=(U=u(w))===null||U===void 0?void 0:U.activeItem;if(s("handleReplace",{replaceText:u(x),activeItem:H}),u(w)&&H&&o()!==void 0){_(w,Le(Le({},QS(u(w))),{},{activeIndex:u(r)}));var{operations:B,newSelection:Te}=KJ(o(),a(),u(x),H,l());y()(B,(lt,Ze)=>({state:Ze,selection:Te})),Nr(),yield S.flush(),yield ie()}}})).apply(this,arguments)}function ne(){return re.apply(this,arguments)}function re(){return(re=Lt(function*(){if(!d()){s("handleReplaceAll",{text:u(b),replaceText:u(x)});var{operations:U,newSelection:H}=function(B,Te,lt,Ze,Ce){for(var Ve=XS(lt,B,{maxResults:1/0}),Ie=[],pt=0;pt<Ve.length;pt++){var bt=Ve[pt-1],nt=Ve[pt];pt!==0&&nt.field===bt.field&&ln(nt.path,bt.path)?Et(Ie).items.push(nt):Ie.push({path:nt.path,field:nt.field,items:[nt]})}Ie.sort((I,D)=>I.field!==D.field?I.field===uo.key?1:-1:D.path.length-I.path.length);var Ne,O=[];return Ie.forEach(I=>{var{field:D,path:ae,items:he}=I;if(D===uo.key){var ke=hn(ae),oe=rt(B,ke),Me=Et(ae),Ye=qd(ke,Object.keys(oe),Me,eC(Me,Ze,he));O=O.concat(Ye),Ne=mc(B,Ye)}else{if(D!==uo.value)throw new Error("Cannot replace: unknown type of search result field ".concat(D));var Tt=rt(B,ae);if(Tt===void 0)throw new Error("Cannot replace: path not found ".concat(jt(ae)));var kt=typeof Tt=="string"?Tt:String(Tt),Ee=wa(B,Te,ae),It=eC(kt,Ze,he),Hn=[{op:"replace",path:jt(ae),value:Ee?It:Dc(It,Ce)}];O=O.concat(Hn),Ne=mc(B,Hn)}}),{operations:O,newSelection:Ne}}(o(),a(),u(b),u(x),l());y()(U,(B,Te)=>({state:Te,selection:H})),yield ie()}})).apply(this,arguments)}function me(U){U.select()}function de(){return pe.apply(this,arguments)}function pe(){return(pe=Lt(function*(){_(w,u(w)?QS(u(w)):void 0),yield ie()})).apply(this,arguments)}function X(){return $.apply(this,arguments)}function $(){return $=Lt(function*(){_(w,u(w)?function(U){var H=U.activeIndex>0?U.activeIndex-1:U.items.length-1,B=U.items[H],Te=U.items.map((lt,Ze)=>Le(Le({},lt),{},{active:Ze===H}));return Le(Le({},U),{},{items:Te,activeItem:B,activeIndex:H})}(u(w)):void 0),yield ie()}),$.apply(this,arguments)}function ie(){return T.apply(this,arguments)}function T(){return(T=Lt(function*(){var U;s("handleFocus",u(w));var H=(U=u(w))===null||U===void 0?void 0:U.activeItem;H&&o()!==void 0&&(yield p()(H.path))})).apply(this,arguments)}function A(){return A=Lt(function*(U){yield te(U,u(b),o())}),A.apply(this,arguments)}function P(){return P=Lt(function*(U){yield te(f(),U,o()),yield ie()}),P.apply(this,arguments)}function se(){return se=Lt(function*(U){yield te(f(),u(b),U)}),se.apply(this,arguments)}function te(U,H,B){return q.apply(this,arguments)}function q(){return q=Lt(function*(U,H,B){return U?(s("applySearch",{showSearch:U,text:H}),H===""?(s("clearing search result"),u(w)!==void 0&&_(w,void 0),Promise.resolve()):(v=H,_(j,!0),new Promise(Te=>{setTimeout(()=>{var lt=XS(H,B,{maxResults:n0,columns:h()});_(w,function(Ze,Ce){var Ve=Ce!=null&&Ce.activeItem?tC(Ce.activeItem):void 0,Ie=Ze.findIndex(nt=>ln(Ve,tC(nt))),pt=Ie!==-1?Ie:(Ce==null?void 0:Ce.activeIndex)!==void 0&&(Ce==null?void 0:Ce.activeIndex)<Ze.length?Ce==null?void 0:Ce.activeIndex:Ze.length>0?0:-1,bt=Ze.map((nt,Ne)=>Le(Le({},nt),{},{active:Ne===pt}));return{items:bt,activeItem:bt[pt],activeIndex:pt}}(lt,u(w))),_(j,!1),Te()})}))):(u(w)&&_(w,void 0),Promise.resolve())}),q.apply(this,arguments)}function ge(){s("handleClose"),k.cancel(),S.cancel(),te(!1,u(b),o()),g()()}fe(()=>u(w),()=>{var U;_(n,((U=u(w))===null||U===void 0||(U=U.items)===null||U===void 0?void 0:U.length)||0)}),fe(()=>u(w),()=>{var U;_(r,((U=u(w))===null||U===void 0?void 0:U.activeIndex)||0)}),fe(()=>(u(n),n0),()=>{_(i,u(n)>=n0?"".concat(999,"+"):String(u(n)))}),fe(()=>(G(m()),u(w)),()=>{m()(u(w))}),fe(()=>G(f()),()=>{(function(U){A.apply(this,arguments)})(f())}),fe(()=>u(b),()=>{k(u(b))}),fe(()=>G(o()),()=>{S(o())}),_n(),Mt(!0);var V=on(),F=st(V),ee=U=>{var H=gX(),B=Q(H),Te=Q(B),lt=Me=>{var Ye=pX(),Tt=Q(Ye),kt=$e(()=>c()?dl:Jf);yn(Tt,{get data(){return u(kt)}}),Ae("click",Ye,M),Z(Me,Ye)};we(Te,Me=>{d()||Me(lt)});var Ze=Q(le(Te,2)),Ce=Q(Ze),Ve=Q(Ce),Ie=Me=>{yn(Me,{data:pH,spin:!0})},pt=Me=>{yn(Me,{data:Eg})};we(Ve,Me=>{u(j)?Me(Ie):Me(pt,!1)});var bt=le(Ce,2),nt=Q(bt);vi(()=>Om(nt,()=>u(b),Me=>_(b,Me))),Li(nt,Me=>me==null?void 0:me(Me)),vi(()=>Ae("paste",nt,W));var Ne,O=le(bt,2),I=Q(O),D=le(O,2);yn(Q(D),{data:DH});var ae=le(D,2);yn(Q(ae),{data:jH});var he=le(ae,2);yn(Q(he),{data:Mg});var ke=le(Ze,2),oe=Me=>{var Ye=mX(),Tt=Q(Ye),kt=le(Tt,2),Ee=le(kt,2);Om(Tt,()=>u(x),It=>_(x,It)),Ae("keydown",Tt,J),Ae("click",kt,K),Ae("click",Ee,ne),Z(Me,Ye)};we(ke,Me=>{c()&&!d()&&Me(oe)}),qe(()=>{var Me,Ye;Ne=qt(O,1,"jse-search-count svelte-1mxl2uo",null,Ne,{"jse-visible":u(b)!==""}),Rt(I,"".concat((Me=u(r)!==-1&&u(r)<u(n)?"".concat(u(r)+1,"/"):"")!==null&&Me!==void 0?Me:"").concat((Ye=u(i))!==null&&Ye!==void 0?Ye:""))}),Ae("click",D,de),Ae("click",ae,X),Ae("click",he,ge),Ae("keydown",B,E),Z(U,H)};we(F,U=>{f()&&U(ee)}),Z(t,V),_t()}var cd=Symbol("path");function vX(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1/0,r={};Array.isArray(t)&&function(s,o,a){if(s.length<o)s.forEach(a);else for(var l=o>1?(s.length-1)/(o-1):s.length,f=0;f<o;f++){var c=Math.floor(f*l);a(s[c],c,s)}}(t,n,s=>{Vn(s)?A5(s,r,e):r[cd]=!0});var i=[];return cd in r&&i.push([]),O5(r,[],i,e),i}function A5(t,e,n){for(var r in t){var i=t[r],s=e[r]||(e[r]={});Vn(i)&&n?A5(i,s,n):s[cd]===void 0&&(s[cd]=!0)}}function O5(t,e,n,r){for(var i in t){var s=e.concat(i),o=t[i];o&&o[cd]===!0&&n.push(s),Zr(o)&&r&&O5(o,s,n,r)}}function bX(t,e,n,r,i,s){for(var o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:80,a=Fr(n)?n.length:0,l=function(v,x){var j=Object.values(v);if(Yn(j))return x;var w=(k,S)=>k+S;return j.reduce(w)/j.length}(r,i),f=t-o,c=e+2*o,d=v=>r[v]||i,h=0,m=s;m<f&&h<a;)m+=d(h),h++;h>0&&(m-=d(--h));for(var p=h,y=0;y<c&&p<a;)y+=d(p),p++;for(var g=0,b=p;b<a;b++)g+=d(b);return{startIndex:h,endIndex:p,startHeight:m,endHeight:g,averageItemHeight:l,visibleHeight:y,visibleItems:Fr(n)?n.slice(h,p):[]}}function hC(t,e,n,r){for(var{rowIndex:i}=Ms(t,e),s=0,o=0;o<i;o++)s+=n[o]||r;return s}function Ms(t,e){var[n,...r]=t,i=parseInt(n,10);return{rowIndex:isNaN(i)?-1:i,columnIndex:e.findIndex(s=>Aa(r,s))}}function $l(t,e){var{rowIndex:n,columnIndex:r}=t;return[String(n),...e[r]]}function yX(t,e){var[n,r]=ly(t,o=>_x(o.path[0])),i=G1(n,xX),s=ny(i,o=>{var a={row:[],columns:{}};return o.forEach(l=>{var f=function(c,d){var h=Ms(c.path,d);return h.columnIndex!==-1?h.columnIndex:-1}(l,e);f!==-1?(a.columns[f]===void 0&&(a.columns[f]=[]),a.columns[f].push(l)):a.row.push(l)}),a});return{root:r,rows:s}}function v0(t,e){if(e&&e.length!==0)return e.length===1?e[0]:{path:t,message:"Multiple validation issues: "+e.map(n=>so(n.path)+" "+n.message).join(", "),severity:lo.warning}}function xX(t){return parseInt(t.path[0],10)}function wX(t,e,n){var r=e.some(i=>function(s,o,a){if(!s)return!1;if(o.op==="replace"){var l=qs(o.path),{rowIndex:f,columnIndex:c}=Ms(l,a),d=a.findIndex(h=>ln(h,s.path));if(f!==-1&&c!==-1&&c!==d)return!1}return!0}(t,i,n));return r?void 0:t}function pC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=[];return function r(i,s){Zr(i)&&s.length<e&&Object.keys(i).forEach(o=>{r(i[o],s.concat(o))}),Fr(i)&&n.push(s)}(t,[]),n}var Di=fi("jsoneditor:actions");function E5(t){return o1.apply(this,arguments)}function o1(){return o1=Lt(function*(t){var{json:e,selection:n,indentation:r,readOnly:i,parser:s,onPatch:o}=t;if(!i&&e!==void 0&&n&&Lu(n)){var a=e5(e,n,r,s);if(a!==void 0){Di("cut",{selection:n,clipboard:a,indentation:r}),yield Yx(a);var{operations:l,newSelection:f}=s5(e,n);o(l,(c,d)=>({state:d,selection:f}))}}}),o1.apply(this,arguments)}function M5(t){return a1.apply(this,arguments)}function a1(){return a1=Lt(function*(t){var{json:e,selection:n,indentation:r,parser:i}=t,s=e5(e,n,r,i);s!==void 0&&(Di("copy",{clipboard:s,indentation:r}),yield Yx(s))}),a1.apply(this,arguments)}function P5(t){var{clipboardText:e,json:n,selection:r,readOnly:i,parser:s,onPatch:o,onChangeText:a,openRepairModal:l}=t;if(!i)try{f(e)}catch{l(e,d=>{Di("repaired pasted text: ",d),f(d)})}function f(c){if(n!==void 0){var d=r||dn([]),h=i5(n,d,c,s);Di("paste",{pastedText:c,operations:h,ensureSelection:d}),o(h,(m,p)=>{var y=p;return h.filter(g=>(vR(g)||sx(g))&&Xr(g.value)).forEach(g=>{var b=ao(n,g.path);y=nu(m,y,b)}),{state:y}})}else Di("paste text",{pastedText:c}),a(e,(m,p)=>{if(m)return{state:nu(m,p,[])}})}}function R5(t){var{json:e,text:n,selection:r,keepSelection:i,readOnly:s,onChange:o,onPatch:a}=t;if(!s&&r){var l=e!==void 0&&(ui(r)||Qn(r))?Ni(r.path,r.path):r;if(Yn(dt(r)))Di("remove root",{selection:r}),o&&o({text:"",json:void 0},e!==void 0?{text:void 0,json:e}:{text:n||"",json:e},{contentErrors:void 0,patchResult:void 0});else if(e!==void 0){var{operations:f,newSelection:c}=s5(e,l);Di("remove",{operations:f,selection:r,newSelection:c}),a(f,(d,h)=>({state:h,selection:i?r:c}))}}}function qm(t){var{insertType:e,selectInside:n,initialValue:r,json:i,selection:s,readOnly:o,parser:a,onPatch:l,onReplaceJson:f}=t;if(!o){var c=function(y,g,b){if(b==="object")return{};if(b==="array")return[];if(b==="structure"&&y!==void 0){var v=g?XT(g):[],x=rt(y,v);if(Array.isArray(x)&&!Yn(x)){var j=zs(x);return Xr(j)?I1(j,w=>Array.isArray(w)?[]:Vn(w)?void 0:""):""}}return""}(i,s,e);if(i!==void 0){var d=a.stringify(c),h=i5(i,s,d,a);Di("onInsert",{insertType:e,operations:h,newValue:c,data:d});var m=Et(h.filter(y=>y.op==="add"||y.op==="replace"));l(h,(y,g,b)=>{if(m){var v=ao(y,m.path);if(Xr(c))return{state:to(y,g,v,Fx),selection:n?Ea(v):b};if(c===""){var x=Yn(v)?void 0:rt(y,hn(v));return{state:to(y,g,v,Ip),selection:Vn(x)?Ux(v,r):Rm(v,r)}}}}),Di("after patch")}else{Di("onInsert",{insertType:e,newValue:c});var p=[];f(c,(y,g)=>({state:nu(y,g,p),selection:Xr(c)?Ea(p):Rm(p)}))}}}function T5(t){return l1.apply(this,arguments)}function l1(){return l1=Lt(function*(t){var{char:e,selectInside:n,json:r,selection:i,readOnly:s,parser:o,onPatch:a,onReplaceJson:l,onSelect:f}=t;s||(ui(i)?f(Le(Le({},i),{},{edit:!0,initialValue:e})):e==="{"?qm({insertType:"object",selectInside:n,initialValue:void 0,json:r,selection:i,readOnly:s,parser:o,onPatch:a,onReplaceJson:l}):e==="["?qm({insertType:"array",selectInside:n,initialValue:void 0,json:r,selection:i,readOnly:s,parser:o,onPatch:a,onReplaceJson:l}):Qn(i)&&r!==void 0?Xr(rt(r,i.path))||f(Le(Le({},i),{},{edit:!0,initialValue:e})):(Di("onInsertValueWithCharacter",{char:e}),yield function(c){return u1.apply(this,arguments)}({char:e,json:r,selection:i,readOnly:s,parser:o,onPatch:a,onReplaceJson:l})))}),l1.apply(this,arguments)}function u1(){return u1=Lt(function*(t){var{char:e,json:n,selection:r,readOnly:i,parser:s,onPatch:o,onReplaceJson:a}=t;i||qm({insertType:"value",selectInside:!1,initialValue:e,json:n,selection:r,readOnly:i,parser:s,onPatch:o,onReplaceJson:a})}),u1.apply(this,arguments)}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-json-preview.svelte-1vjn89h {
  flex: 1;
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  color: var(--jse-panel-color-readonly, #b2b2b2);
  overflow: auto;
  white-space: pre-wrap;
  padding: 2px;
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
  border-bottom: var(--jse-main-border, 1px solid #d7d7d7);
}`);var jX=be('<div class="jse-json-preview svelte-1vjn89h"> </div>');function $5(t,e){Ct(e,!1);var n=Y(),r=Y(),i=C(e,"text",8),s=C(e,"json",8),o=C(e,"indentation",8),a=C(e,"parser",8);fe(()=>(G(s()),G(i())),()=>{_(n,s()!==void 0?{json:s()}:{text:i()||""})}),fe(()=>(u(n),G(o()),G(a()),Kb),()=>{_(r,td(Wb(u(n),o(),a()),Kb))}),_n(),Mt();var l=jX(),f=Q(l);qe(()=>Rt(f,u(r))),Z(t,l),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
button.jse-context-menu-button.svelte-1idfykj {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  flex: 1;
  white-space: nowrap;
  padding: var(--jse-padding, 10px);
  color: inherit;
}
button.jse-context-menu-button.svelte-1idfykj:hover {
  background: var(--jse-context-menu-background-highlight, #7a7a7a);
}
button.jse-context-menu-button.svelte-1idfykj:focus {
  background: var(--jse-context-menu-background-highlight, #7a7a7a);
  z-index: 1;
}
button.jse-context-menu-button.svelte-1idfykj:disabled {
  color: var(--jse-context-menu-color-disabled, #9d9d9d);
  background: unset;
}
button.jse-context-menu-button.left.svelte-1idfykj {
  text-align: left;
}
button.jse-context-menu-button.svelte-1idfykj svg {
  width: 16px;
}`);var kX=be('<button type="button"><!> <!></button>');function b0(t,e){Ct(e,!1);var n=C(e,"item",8),r=C(e,"className",8,void 0),i=C(e,"onRequestClose",8);Mt();var s=kX(),o=Q(s),a=c=>{yn(c,{get data(){return n().icon}})};we(o,c=>{n().icon&&c(a)});var l=le(o,2),f=c=>{var d=Bi();qe(()=>Rt(d,n().text)),Z(c,d)};we(l,c=>{n().text&&c(f)}),qe(c=>{qt(s,1,vl(c),"svelte-1idfykj"),$n(s,"title",n().title),s.disabled=n().disabled||!1},[()=>zc("jse-context-menu-button",r(),n().className)],$e),Ae("click",s,c=>{i()(),n().onClick(c)}),Z(t,s),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-dropdown-button.svelte-11rxb2m {
  flex: 1;
  line-height: normal;
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  position: relative;
  padding: 0;
  display: flex;
}
.jse-dropdown-button.svelte-11rxb2m ul:where(.svelte-11rxb2m) {
  margin: 0;
  padding: 0;
}
.jse-dropdown-button.svelte-11rxb2m ul:where(.svelte-11rxb2m) li:where(.svelte-11rxb2m) {
  margin: 0;
  padding: 0;
  list-style-type: none;
}
.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown:where(.svelte-11rxb2m) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  width: 2em;
  background: var(--jse-context-menu-background, #656565);
  color: var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));
  border-radius: 0;
}
.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown.jse-visible:where(.svelte-11rxb2m) {
  background: var(--jse-context-menu-background, #656565);
}
.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown:where(.svelte-11rxb2m):hover {
  background: var(--jse-context-menu-background-highlight, #7a7a7a);
}
.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown:where(.svelte-11rxb2m):focus {
  z-index: 1;
}
.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown:where(.svelte-11rxb2m):disabled {
  color: var(--jse-context-menu-color-disabled, #9d9d9d);
  background: unset;
}
.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items:where(.svelte-11rxb2m) {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 1;
  background: var(--jse-context-menu-background, #656565);
  color: var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));
  box-shadow: var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));
}
.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items.jse-visible:where(.svelte-11rxb2m) {
  display: block;
}
.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items:where(.svelte-11rxb2m) button:where(.svelte-11rxb2m) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  width: 100%;
  text-align: left;
  padding: var(--jse-padding, 10px);
  margin: 0;
}
.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items:where(.svelte-11rxb2m) button:where(.svelte-11rxb2m):hover {
  background: var(--jse-context-menu-background-highlight, #7a7a7a);
}
.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items:where(.svelte-11rxb2m) button:where(.svelte-11rxb2m):disabled {
  color: var(--jse-context-menu-color-disabled, #9d9d9d);
  background: unset;
}`);var SX=be('<li class="svelte-11rxb2m"><button type="button"><!> </button></li>'),CX=be('<div role="button" tabindex="0" class="jse-dropdown-button svelte-11rxb2m"><!> <button type="button" data-type="jse-open-dropdown"><!></button> <div><ul class="svelte-11rxb2m"></ul></div></div>');Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
button.jse-context-menu-button.svelte-1idfykj {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  flex: 1;
  white-space: nowrap;
  padding: var(--jse-padding, 10px);
  color: inherit;
}
button.jse-context-menu-button.svelte-1idfykj:hover {
  background: var(--jse-context-menu-background-highlight, #7a7a7a);
}
button.jse-context-menu-button.svelte-1idfykj:focus {
  background: var(--jse-context-menu-background-highlight, #7a7a7a);
  z-index: 1;
}
button.jse-context-menu-button.svelte-1idfykj:disabled {
  color: var(--jse-context-menu-color-disabled, #9d9d9d);
  background: unset;
}
button.jse-context-menu-button.left.svelte-1idfykj {
  text-align: left;
}
button.jse-context-menu-button.svelte-1idfykj svg {
  width: 16px;
}`);var _X=be('<button type="button" slot="defaultItem"><!> </button>');function y0(t,e){Ct(e,!1);var n=Y(),r=C(e,"item",8),i=C(e,"className",8,void 0),s=C(e,"onRequestClose",8);fe(()=>(G(r()),G(s())),()=>{_(n,r().items.map(o=>Le(Le({},o),{},{onClick:a=>{s()(),o.onClick(a)}})))}),_n(),Mt(),function(o,a){Ct(a,!1);var l=Y(void 0,!0),f=C(a,"items",25,()=>[]),c=C(a,"title",9,void 0),d=C(a,"width",9,"120px"),h=Y(!1,!0);function m(){_(h,!1)}function p(w){_a(w)==="Escape"&&(w.preventDefault(),_(h,!1))}Pi(()=>{document.addEventListener("click",m),document.addEventListener("keydown",p)}),Ks(()=>{document.removeEventListener("click",m),document.removeEventListener("keydown",p)}),fe(()=>G(f()),()=>{_(l,f().every(w=>w.disabled===!0))}),_n(),Mt(!0);var y=CX(),g=Q(y);zr(g,a,"defaultItem",{},null);var b,v=le(g,2);yn(Q(v),{data:dl});var x,j=le(v,2);Ur(Q(j),5,f,ei,(w,k)=>{var S=SX(),M=Q(S),E=Q(M),J=z=>{yn(z,{get data(){return u(k).icon}})};we(E,z=>{u(k).icon&&z(J)});var W=le(E);qe(()=>{var z;$n(M,"title",u(k).title),M.disabled=u(k).disabled,qt(M,1,vl(u(k).className),"svelte-11rxb2m"),Rt(W," ".concat((z=u(k).text)!==null&&z!==void 0?z:""))}),Ae("click",M,z=>u(k).onClick(z)),Z(w,S)}),qe(()=>{var w;$n(y,"title",c()),b=qt(v,1,"jse-open-dropdown svelte-11rxb2m",null,b,{"jse-visible":u(h)}),v.disabled=u(l),x=qt(j,1,"jse-dropdown-items svelte-11rxb2m",null,x,{"jse-visible":u(h)}),$n(j,"style","width: ".concat((w=d())!==null&&w!==void 0?w:"",";"))}),Ae("click",v,function(){var w=u(h);setTimeout(()=>_(h,!w))}),Ae("click",y,m),Z(o,y),_t()}(t,{get width(){return r().width},get items(){return u(n)},$$slots:{defaultItem:(o,a)=>{var l=_X(),f=Q(l),c=h=>{yn(h,{get data(){return r().main.icon}})};we(f,h=>{r().main.icon&&h(c)});var d=le(f);qe(h=>{var m;qt(l,1,vl(h),"svelte-1idfykj"),$n(l,"title",r().main.title),l.disabled=r().main.disabled||!1,Rt(d," ".concat((m=r().main.text)!==null&&m!==void 0?m:""))},[()=>zc("jse-context-menu-button",i(),r().main.className)],$e),Ae("click",l,h=>{s()(),r().main.onClick(h)}),Z(o,l)}}}),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-contextmenu.svelte-12z7bz1 {
  box-shadow: var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  background: var(--jse-context-menu-background, #656565);
  color: var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));
}
.jse-contextmenu.svelte-12z7bz1 .jse-row:where(.svelte-12z7bz1) {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: stretch;
}
.jse-contextmenu.svelte-12z7bz1 .jse-row:where(.svelte-12z7bz1) div.jse-label:where(.svelte-12z7bz1) {
  flex: 1;
  white-space: nowrap;
  padding: var(--jse-padding, 10px);
  color: var(--jse-context-menu-color-disabled, #9d9d9d);
  line-height: normal;
}
.jse-contextmenu.svelte-12z7bz1 .jse-row:where(.svelte-12z7bz1) div.jse-tip:where(.svelte-12z7bz1) {
  flex: 1;
  background: var(--jse-context-menu-tip-background, rgba(255, 255, 255, 0.2));
  color: var(--context-menu-tip-color, inherit);
  margin: calc(0.5 * var(--jse-padding, 10px));
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);
  font-size: 80%;
  line-height: 1.3em;
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: var(--jse-padding, 10px);
  border-radius: 3px;
}
.jse-contextmenu.svelte-12z7bz1 .jse-row:where(.svelte-12z7bz1) div.jse-tip:where(.svelte-12z7bz1) div.jse-tip-icon:where(.svelte-12z7bz1) {
  padding-top: calc(0.5 * var(--jse-padding, 10px));
}
.jse-contextmenu.svelte-12z7bz1 .jse-column:where(.svelte-12z7bz1) {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
.jse-contextmenu.svelte-12z7bz1 .jse-column:where(.svelte-12z7bz1):not(:last-child) {
  border-right: 1px solid var(--jse-context-menu-separator-color, #7a7a7a);
}
.jse-contextmenu.svelte-12z7bz1 .jse-separator:where(.svelte-12z7bz1) {
  width: 100%;
  height: 1px;
  background: var(--jse-context-menu-separator-color, #7a7a7a);
}`);var AX=be('<div class="jse-separator svelte-12z7bz1"></div>'),OX=be('<div class="jse-label svelte-12z7bz1"> </div>'),EX=be('<div class="jse-column svelte-12z7bz1"></div>'),MX=be('<div class="jse-separator svelte-12z7bz1"></div>'),PX=be('<div class="jse-row svelte-12z7bz1"></div>'),RX=be('<div class="jse-separator svelte-12z7bz1"></div>'),TX=be('<div class="jse-row svelte-12z7bz1"><div class="jse-tip svelte-12z7bz1"><div class="jse-tip-icon svelte-12z7bz1"><!></div> <div class="jse-tip-text"> </div></div></div>'),$X=be('<div role="menu" tabindex="-1" class="jse-contextmenu svelte-12z7bz1"><!> <!></div>');function N5(t,e){Ct(e,!1);var n=C(e,"items",9),r=C(e,"onRequestClose",9),i=C(e,"tip",9),s=Y(void 0,!0);Pi(()=>{var h=Array.from(u(s).querySelectorAll("button")).find(m=>!m.disabled);h&&h.focus()});var o={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};function a(h){return console.error("Unknown type of context menu item",h),"???"}Mt(!0);var l=$X(),f=Q(l);Ur(f,1,n,ei,(h,m)=>{var p=on(),y=st(p),g=v=>{b0(v,{get item(){return u(m)},get onRequestClose(){return r()}})},b=v=>{var x=on(),j=st(x),w=S=>{y0(S,{get item(){return u(m)},get onRequestClose(){return r()}})},k=S=>{var M=on(),E=st(M),J=z=>{var K=PX();Ur(K,5,()=>u(m).items,ei,(ue,ne)=>{var re=on(),me=st(re),de=X=>{b0(X,{get item(){return u(ne)},get onRequestClose(){return r()}})},pe=X=>{var $=on(),ie=st($),T=P=>{y0(P,{get item(){return u(ne)},get onRequestClose(){return r()}})},A=P=>{var se=on(),te=st(se),q=V=>{var F=EX();Ur(F,5,()=>u(ne).items,ei,(ee,U)=>{var H=on(),B=st(H),Te=Ze=>{b0(Ze,{className:"left",get item(){return u(U)},get onRequestClose(){return r()}})},lt=Ze=>{var Ce=on(),Ve=st(Ce),Ie=bt=>{y0(bt,{className:"left",get item(){return u(U)},get onRequestClose(){return r()}})},pt=bt=>{var nt=on(),Ne=st(nt),O=D=>{Z(D,AX())},I=D=>{var ae=on(),he=st(ae),ke=Me=>{var Ye=OX(),Tt=Q(Ye);qe(()=>Rt(Tt,u(U).text)),Z(Me,Ye)},oe=Me=>{var Ye=Bi();qe(Tt=>Rt(Ye,Tt),[()=>a(u(U))],$e),Z(Me,Ye)};we(he,Me=>{DJ(u(U))?Me(ke):Me(oe,!1)},!0),Z(D,ae)};we(Ne,D=>{Np(u(U))?D(O):D(I,!1)},!0),Z(bt,nt)};we(Ve,bt=>{o0(u(U))?bt(Ie):bt(pt,!1)},!0),Z(Ze,Ce)};we(B,Ze=>{_f(u(U))?Ze(Te):Ze(lt,!1)}),Z(ee,H)}),Z(V,F)},ge=V=>{var F=on(),ee=st(F),U=B=>{Z(B,MX())},H=B=>{var Te=Bi();qe(lt=>Rt(Te,lt),[()=>a(u(ne))],$e),Z(B,Te)};we(ee,B=>{Np(u(ne))?B(U):B(H,!1)},!0),Z(V,F)};we(te,V=>{zJ(u(ne))?V(q):V(ge,!1)},!0),Z(P,se)};we(ie,P=>{o0(u(ne))?P(T):P(A,!1)},!0),Z(X,$)};we(me,X=>{_f(u(ne))?X(de):X(pe,!1)}),Z(ue,re)}),Z(z,K)},W=z=>{var K=on(),ue=st(K),ne=me=>{Z(me,RX())},re=me=>{var de=Bi();qe(pe=>Rt(de,pe),[()=>a(u(m))],$e),Z(me,de)};we(ue,me=>{Np(u(m))?me(ne):me(re,!1)},!0),Z(z,K)};we(E,z=>{LJ(u(m))?z(J):z(W,!1)},!0),Z(S,M)};we(j,S=>{o0(u(m))?S(w):S(k,!1)},!0),Z(v,x)};we(y,v=>{_f(u(m))?v(g):v(b,!1)}),Z(h,p)});var c=le(f,2),d=h=>{var m=TX(),p=Q(m),y=Q(p);yn(Q(y),{data:cH});var g=Q(le(y,2));qe(()=>Rt(g,i())),Z(h,m)};we(c,h=>{i()&&h(d)}),jr(l,h=>_(s,h),()=>u(s)),Ae("keydown",l,function(h){var m=_a(h),p=o[m];if(p&&h.target){h.preventDefault();var y=vJ({allElements:Array.from(u(s).querySelectorAll("button:not([disabled])")),currentElement:h.target,direction:p,hasPrio:g=>g.getAttribute("data-type")!=="jse-open-dropdown"});y&&y.focus()}}),Z(t,l),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-value.jse-string.svelte-6ttr41 {
  color: var(--jse-value-color-string, #008000);
}
.jse-value.jse-object.svelte-6ttr41, .jse-value.jse-array.svelte-6ttr41 {
  min-width: 16px;
  color: var(--jse-delimiter-color, rgba(0, 0, 0, 0.38));
}
.jse-value.jse-number.svelte-6ttr41 {
  color: var(--jse-value-color-number, #ee422e);
}
.jse-value.jse-boolean.svelte-6ttr41 {
  color: var(--jse-value-color-boolean, #ff8c00);
}
.jse-value.jse-null.svelte-6ttr41 {
  color: var(--jse-value-color-null, #004ed0);
}
.jse-value.jse-invalid.svelte-6ttr41 {
  color: var(--jse-text-color, #4d4d4d);
}
.jse-value.jse-url.svelte-6ttr41 {
  color: var(--jse-value-color-url, #008000);
  text-decoration: underline;
}

.jse-enum-value.svelte-6ttr41 {
  background: var(--jse-hover-background-color, rgba(0, 0, 0, 0.06));
  border: none;
  padding: 0;
  font-family: inherit;
  font-size: inherit;
  cursor: pointer;
  outline: none;
}
.jse-enum-value.jse-selected.svelte-6ttr41 {
  background: var(--jse-selection-background-color, #d3d3d3);
  color: inherit;
}
.jse-enum-value.jse-value.svelte-6ttr41:focus {
  color: var(--jse-text-color, #4d4d4d);
}`);be("<option> </option>");be("<select></select>");var oee={id:"lodash",name:"Lodash",description:`
<p>
  Enter a JavaScript function to filter, sort, or transform the data.
  You can use <a href="https://lodash.com" target="_blank" rel="noopener noreferrer">Lodash</a>
  functions like <code>_.map</code>, <code>_.filter</code>,
  <code>_.orderBy</code>, <code>_.sortBy</code>, <code>_.groupBy</code>,
  <code>_.pick</code>, <code>_.uniq</code>, <code>_.get</code>, etcetera.
</p>
`,createQuery:function(t,e){var{filter:n,sort:r,projection:i}=e,s=[`  return _.chain(data)
`];if(n&&n.path&&n.relation&&n.value){var o="item => item".concat(Oo(n.path)),a=Tx(n.value),l=typeof a=="string"?"'".concat(n.value,"'"):RT(n.value)&&!Number.isSafeInteger(a)?"".concat(n.value,"n"):n.value;s.push("    .filter(".concat(o," ").concat(n.relation," ").concat(l,`)
`))}if(r&&r.path&&r.direction&&s.push("    .orderBy([".concat(function(d){return d.length===0?"":d.every(h=>Gg.test(h)||Wx.test(h))?"'"+d.map(iY).join("").replace(/^\./,"")+"'":JSON.stringify(d)}(r.path),"], ['").concat(r.direction,`'])
`)),i&&i.paths)if(i.paths.length>1){var f=i.paths.map(d=>{var h=Et(d)||"item";return"      ".concat(JSON.stringify(h),": item").concat(Oo(d))});s.push(`    .map(item => ({
`.concat(f.join(`,
`),`
    }))
`))}else{var c=i.paths[0];s.push("    .map(item => item".concat(Oo(c),`)
`))}return s.push(`    .value()
`),`function query (data) {
`.concat(s.join(""),"}")},executeQuery:function(t,e){(function(r){var i,s,o=(i=r.match(/_\.chain\(/g))===null||i===void 0?void 0:i.length,a=(s=r.match(/\.value\(\)/g))===null||s===void 0?void 0:s.length;if(o!==a)throw new Error("Cannot execute query: Lodash _.chain(...) must end with .value()")})(e);var n=new Function("_",`"use strict";

`+e+`

if (typeof query !== "function") {
  throw new Error("Cannot execute query: expecting a function named 'query' but is undefined")
}

return query;
`)(PL)(t);return n!==void 0?n:null}},mp,gp,aee={id:"javascript",name:"JavaScript",description:`
<p>
  Enter a JavaScript function to filter, sort, or transform the data.
</p>
`,createQuery:function(t,e){var{filter:n,sort:r,projection:i}=e,s=[`  return data
`];if(n&&n.path&&n.relation&&n.value){var o="item => item".concat(Oo(n.path)),a=Tx(n.value),l=typeof a=="string"?"'".concat(n.value,"'"):RT(n.value)&&!Number.isSafeInteger(a)?"".concat(n.value,"n"):n.value;s.push("    .filter(".concat(o," ").concat(n.relation," ").concat(l,`)
`))}if(r&&r.path&&r.direction&&(r.direction==="desc"?s.push(`    .slice()
    .sort((a, b) => {
      // sort descending
`+"      const valueA = a".concat(Oo(r.path),`
`)+"      const valueB = b".concat(Oo(r.path),`
`)+`      return valueA > valueB ? -1 : valueA < valueB ? 1 : 0
    })
`):s.push(`    .slice()
    .sort((a, b) => {
      // sort ascending
`+"      const valueA = a".concat(Oo(r.path),`
`)+"      const valueB = b".concat(Oo(r.path),`
`)+`      return valueA > valueB ? 1 : valueA < valueB ? -1 : 0
    })
`)),i&&i.paths)if(i.paths.length>1){var f=i.paths.map(d=>{var h=d[d.length-1]||"item",m="item".concat(Oo(d));return"      ".concat(JSON.stringify(h),": ").concat(m)});s.push(`    .map(item => ({
`.concat(f.join(`,
`),`})
    )
`))}else{var c="item".concat(Oo(i.paths[0]));s.push("    .map(item => ".concat(c,`)
`))}return`function query (data) {
`.concat(s.join(""),"}")},executeQuery:function(t,e){var n=new Function(`"use strict";

`+e+`

if (typeof query !== "function") {
  throw new Error("Cannot execute query: expecting a function named 'query' but is undefined")
}

return query;
`)()(t);return n!==void 0?n:null}};function vp(t,e){return mp||(gp=new WeakMap,mp=new ResizeObserver(n=>{for(var r of n){var i=gp.get(r.target);i&&i(r.target)}})),gp.set(t,e),mp.observe(t),{destroy:()=>{gp.delete(t),mp.unobserve(t)}}}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-tree-mode.svelte-vrx1dr {
  flex: 1;
  display: flex;
  flex-direction: column;
  position: relative;
  background: var(--jse-background-color, #fff);
  min-width: 0;
  min-height: 0;
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  color: var(--jse-text-color, #4d4d4d);
  line-height: var(--jse-line-height, calc(1em + 4px));
}
.jse-tree-mode.svelte-vrx1dr .jse-hidden-input-label:where(.svelte-vrx1dr) .jse-hidden-input:where(.svelte-vrx1dr) {
  position: fixed;
  top: -10px;
  left: -10px;
  width: 1px;
  height: 1px;
  padding: 0;
  border: 0;
  outline: none;
}
.jse-tree-mode.no-main-menu.svelte-vrx1dr {
  border-top: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-tree-mode.svelte-vrx1dr .jse-search-box-container:where(.svelte-vrx1dr) {
  position: relative;
  height: 0;
  top: var(--jse-padding, 10px);
  margin-right: calc(var(--jse-padding, 10px) + 20px);
  margin-left: var(--jse-padding, 10px);
  text-align: right;
  z-index: 3;
}
.jse-tree-mode.svelte-vrx1dr .jse-contents:where(.svelte-vrx1dr) {
  flex: 1;
  overflow: auto;
  position: relative;
  padding: 2px;
  display: flex;
  flex-direction: column;
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-tree-mode.svelte-vrx1dr .jse-contents:where(.svelte-vrx1dr):last-child {
  border-bottom: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-tree-mode.svelte-vrx1dr .jse-contents:where(.svelte-vrx1dr) .jse-loading-space:where(.svelte-vrx1dr) {
  flex: 1;
}
.jse-tree-mode.svelte-vrx1dr .jse-contents:where(.svelte-vrx1dr) .jse-loading:where(.svelte-vrx1dr) {
  flex: 2;
  text-align: center;
  color: var(--jse-panel-color-readonly, #b2b2b2);
  box-sizing: border-box;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
}
.jse-tree-mode.svelte-vrx1dr .jse-contents:where(.svelte-vrx1dr) .jse-search-box-background:where(.svelte-vrx1dr) {
  border: 50px solid var(--jse-modal-background, #f5f5f5);
  margin: -2px;
  margin-bottom: 2px;
  display: inline-block;
}`);var NX=be("<!> <!>",1),IX=be('<div class="jse-search-box-background svelte-vrx1dr"></div>'),DX=be('<div class="jse-search-box-container svelte-vrx1dr"><!></div> <div class="jse-contents svelte-vrx1dr"><!> <!></div> <!> <!> <!>',1),LX=be('<label class="jse-hidden-input-label svelte-vrx1dr"><input type="text" tabindex="-1" class="jse-hidden-input svelte-vrx1dr"></label> <!>',1),zX=be('<div class="jse-contents svelte-vrx1dr"><div class="jse-loading-space svelte-vrx1dr"></div> <div class="jse-loading svelte-vrx1dr">loading...</div></div>'),BX=be('<div role="tree" tabindex="-1"><!> <!> <!></div> <!> <!>',1);function c1(t,e){Ct(e,!1);var n=Y(void 0,!0),r=fi("jsoneditor:TreeMode"),i=typeof window>"u";r("isSSR:",i);var s=ol(),o=ol(),{openAbsolutePopup:a,closeAbsolutePopup:l}=Cl("absolute-popup"),f=Y(void 0,!0),c=Y(void 0,!0),d=Y(void 0,!0),h=!1,m=x5(),p=C(e,"readOnly",9),y=C(e,"externalContent",9),g=C(e,"externalSelection",9),b=C(e,"history",9),v=C(e,"mainMenuBar",9),x=C(e,"navigationBar",9),j=C(e,"escapeControlCharacters",9),w=C(e,"escapeUnicodeCharacters",9),k=C(e,"parser",9),S=C(e,"parseMemoizeOne",9),M=C(e,"validator",9),E=C(e,"validationParser",9),J=C(e,"pathParser",9),W=C(e,"indentation",9),z=C(e,"onError",9),K=C(e,"onChange",9),ue=C(e,"onChangeMode",9),ne=C(e,"onSelect",9),re=C(e,"onUndo",9),me=C(e,"onRedo",9),de=C(e,"onRenderValue",9),pe=C(e,"onRenderMenu",9),X=C(e,"onRenderContextMenu",9),$=C(e,"onClassName",9),ie=C(e,"onFocus",9),T=C(e,"onBlur",9),A=C(e,"onSortModal",9),P=C(e,"onTransformModal",9),se=C(e,"onJSONEditorModal",9),te=!1,q=Y(!1,!0),ge=Y(void 0,!0);Gx({onMount:Pi,onDestroy:Ks,getWindow:()=>Ld(u(d)),hasFocus:()=>te&&document.hasFocus()||Mx(u(d)),onFocus:()=>{h=!0,ie()&&ie()()},onBlur:()=>{h=!1,T()&&T()()}});var V=Y(void 0,!0),F=Y(void 0,!0),ee=void 0,U=!1,H=Y(Jb({json:u(V)}),!0),B=Y(sd(g())?g():void 0,!0);function Te(N){_(B,N)}Pi(()=>{if(u(B)){var N=dt(u(B));_(H,to(u(V),u(H),N,Ip)),setTimeout(()=>Bt(N))}});var lt,Ze=Y(void 0,!0),Ce=Y(void 0,!0),Ve=Y(void 0,!0),Ie=Y(!1,!0),pt=Y(!1,!0);function bt(N){_(Ve,(lt=N)?a5(u(V),lt.items):void 0)}function nt(N){return Ne.apply(this,arguments)}function Ne(){return(Ne=Lt(function*(N){_(H,to(u(V),u(H),N,Ip)),yield vt(N)})).apply(this,arguments)}function O(){_(Ie,!1),_(pt,!1),sn()}function I(N){r("select validation error",N),_(B,dn(N.path)),vt(N.path)}function D(N){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:VS;r("expand"),_(H,to(u(V),u(H),N,ve))}function ae(N,ve){_(H,qS(u(V),u(H),N,ve)),u(B)&&function(_e,et){return Aa(dt(_e),et)&&(dt(_e).length>et.length||Ci(_e))}(u(B),N)&&_(B,void 0)}var he=Y(!1,!0),ke=Y([],!0),oe=Y(void 0,!0),Me=Yf(w5);function Ye(N,ve,_e,et){Bu(()=>{var He;try{He=Me(N,ve,_e,et)}catch(Ue){He=[{path:[],message:"Failed to validate: "+Ue.message,severity:lo.warning}]}ln(He,u(ke))||(r("validationErrors changed:",He),_(ke,He),_(oe,function(Ue,We){var ct;return We.forEach(At=>{ct=cC(Ue,ct,At.path,(Cn,an)=>Le(Le({},an),{},{validationError:At}))}),We.forEach(At=>{for(var Cn=At.path;Cn.length>0;)Cn=hn(Cn),ct=cC(Ue,ct,Cn,(an,tr)=>tr.validationError?tr:Le(Le({},tr),{},{validationError:{isChildError:!0,path:Cn,message:"Contains invalid data",severity:lo.warning}}))}),ct}(N,u(ke))))},He=>r("validationErrors updated in ".concat(He," ms")))}function Tt(){return r("validate"),ee?{parseError:ee,isRepairable:!1}:(Ye(u(V),M(),k(),E()),Yn(u(ke))?void 0:{validationErrors:u(ke)})}function kt(){return u(V)}function Ee(){return u(H)}function It(){return u(B)}function Hn(N){r("applyExternalContent",{updatedContent:N}),ed(N)?function(ve){if(ve!==void 0){var _e=!ln(u(V),ve);if(r("update external json",{isChanged:_e,currentlyText:u(V)===void 0}),!!_e){var et={documentState:u(H),selection:u(B),json:u(V),text:u(F),textIsRepaired:u(he)};_(V,ve),_(H,bs(ve,u(H))),On(u(V)),_(F,void 0),_(he,!1),ee=void 0,en(u(V)),Vt(et)}}}(N.json):Zf(N)&&function(ve){if(!(ve===void 0||ed(y()))){var _e=ve!==u(F);if(r("update external text",{isChanged:_e}),!!_e){var et={documentState:u(H),selection:u(B),json:u(V),text:u(F),textIsRepaired:u(he)};try{_(V,S()(ve)),_(H,bs(u(V),u(H))),On(u(V)),_(F,ve),_(he,!1),ee=void 0}catch(He){try{_(V,S()(zo(ve))),_(H,bs(u(V),u(H))),On(u(V)),_(F,ve),_(he,!0),ee=void 0,en(u(V))}catch{_(V,void 0),_(H,void 0),_(F,y().text),_(he,!1),ee=u(F)!==void 0&&u(F)!==""?hc(u(F),He.message||String(He)):void 0}}en(u(V)),Vt(et)}}}(N.text)}function On(N){U||(U=!0,_(H,nu(N,u(H),[])))}function en(N){u(B)&&(Is(N,Ul(u(B)))&&Is(N,dt(u(B)))||(r("clearing selection: path does not exist anymore",u(B)),_(B,ju(N,u(H)))))}function Vt(N){if(N.json!==void 0||N.text!==void 0){var ve=u(V)!==void 0&&N.json!==void 0;b().add({type:"tree",undo:{patch:ve?[{op:"replace",path:"",value:N.json}]:void 0,json:N.json,text:N.text,documentState:N.documentState,textIsRepaired:N.textIsRepaired,selection:Ro(N.selection),sortedColumn:void 0},redo:{patch:ve?[{op:"replace",path:"",value:u(V)}]:void 0,json:u(V),text:u(F),documentState:u(H),textIsRepaired:u(he),selection:Ro(u(B)),sortedColumn:void 0}})}}function mn(N,ve){var _e;if(r("patch",N,ve),u(V)===void 0)throw new Error("Cannot apply patch: no JSON");var et=u(V),He={json:void 0,text:u(F),documentState:u(H),selection:Ro(u(B)),textIsRepaired:u(he),sortedColumn:void 0},Ue=o5(u(V),N),We=JT(u(V),u(H),N),ct=(_e=mc(u(V),N))!==null&&_e!==void 0?_e:u(B),At=typeof ve=="function"?ve(We.json,We.documentState,ct):void 0;return _(V,(At==null?void 0:At.json)!==void 0?At.json:We.json),_(H,(At==null?void 0:At.state)!==void 0?At.state:We.documentState),_(B,(At==null?void 0:At.selection)!==void 0?At.selection:ct),_(F,void 0),_(he,!1),_(Ce,void 0),ee=void 0,en(u(V)),b().add({type:"tree",undo:Le({patch:Ue},He),redo:{patch:N,json:void 0,text:u(F),documentState:u(H),selection:Ro(u(B)),sortedColumn:void 0,textIsRepaired:u(he)}}),{json:u(V),previousJson:et,undo:Ue,redo:N}}function En(){!p()&&u(B)&&_(B,Ux(dt(u(B))))}function Zn(){if(!p()&&u(B)){var N=dt(u(B)),ve=rt(u(V),N);Xr(ve)?function(_e,et){r("openJSONEditorModal",{path:_e,value:et}),te=!0,se()({content:{json:et},path:_e,onPatch:u(zn).onPatch,onClose:()=>{te=!1,setTimeout(sn)}})}(N,ve):_(B,Rm(N))}}function cn(){if(!p()&&Qn(u(B))){var N=dt(u(B)),ve=jt(N),_e=rt(u(V),N),et=!wa(u(V),u(H),N),He=et?String(_e):Dc(String(_e),k());r("handleToggleEnforceString",{enforceString:et,value:_e,updatedValue:He}),jn([{op:"replace",path:ve,value:He}],(Ue,We)=>({state:Hg(u(V),We,N,{type:"value",enforceString:et})}))}}function ot(){return u(he)&&u(V)!==void 0&&nn(u(V)),u(V)!==void 0?{json:u(V)}:{text:u(F)||""}}function gn(){return mt.apply(this,arguments)}function mt(){return mt=Lt(function*(){var N=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];yield E5({json:u(V),selection:u(B),indentation:N?W():void 0,readOnly:p(),parser:k(),onPatch:jn})}),mt.apply(this,arguments)}function Yt(){return xn.apply(this,arguments)}function xn(){return xn=Lt(function*(){var N=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];u(V)!==void 0&&(yield M5({json:u(V),selection:u(B),indentation:N?W():void 0,parser:k()}))}),xn.apply(this,arguments)}function Dn(N){var ve;N.preventDefault(),Sr((ve=N.clipboardData)===null||ve===void 0?void 0:ve.getData("text/plain"))}function Mn(){return sr.apply(this,arguments)}function sr(){return(sr=Lt(function*(){try{Sr(yield navigator.clipboard.readText())}catch(N){console.error(N),_(q,!0)}})).apply(this,arguments)}function Sr(N){N!==void 0&&P5({clipboardText:N,json:u(V),selection:u(B),readOnly:p(),parser:k(),onPatch:jn,onChangeText:Ln,openRepairModal:hi})}function hi(N,ve){_(ge,{text:N,onParse:_e=>Wg(_e,et=>Dd(et,k())),onRepair:IT,onApply:ve,onClose:sn})}function Mr(){R5({json:u(V),text:u(F),selection:u(B),keepSelection:!1,readOnly:p(),onChange:K(),onPatch:jn})}function Yr(){!p()&&u(V)!==void 0&&u(B)&&Lu&&!Yn(dt(u(B)))&&(r("duplicate",{selection:u(B)}),jn(r5(u(V),nl(u(V),u(B)))))}function ti(){if(!p()&&u(B)&&(xr(u(B))||Qn(u(B)))&&!Yn(dt(u(B)))){r("extract",{selection:u(B)});var N=function(ve,_e){if(Qn(_e))return[{op:"move",from:jt(_e.path),path:""}];if(!xr(_e))throw new Error("Cannot create extract operations: parent must be an Object or Array");var et=hn(_e.focusPath),He=rt(ve,et);if(Fr(He)){var Ue=nl(ve,_e).map(ct=>{var At=bi(Et(ct));return He[At]});return[{op:"replace",path:"",value:Ue}]}if(Zr(He)){var We={};return nl(ve,_e).forEach(ct=>{var At=String(Et(ct));We[At]=He[At]}),[{op:"replace",path:"",value:We}]}throw new Error("Cannot extract: unsupported type of selection "+JSON.stringify(_e))}(u(V),u(B));jn(N,(ve,_e)=>{if(Xr(ve))return{state:l0(ve,_e,[])}})}}function Wr(N){qm({insertType:N,selectInside:!0,initialValue:void 0,json:u(V),selection:u(B),readOnly:p(),parser:k(),onPatch:jn,onReplaceJson:nn})}function br(N){ui(u(B))&&_(B,dn(u(B).path)),u(B)||_(B,ju(u(V),u(H))),Wr(N)}function Pr(N){if(!p()&&u(B))if(fp(u(B)))try{var ve=Ul(u(B)),_e=rt(u(V),ve),et=function(Ue,We,ct){if(We==="array"){if(Array.isArray(Ue))return Ue;if(Vn(Ue))return ES(Ue);if(typeof Ue=="string")try{var At=ct.parse(Ue);if(Array.isArray(At))return At;if(Vn(At))return ES(At)}catch{return[Ue]}return[Ue]}if(We==="object"){if(Array.isArray(Ue))return OS(Ue);if(Vn(Ue))return Ue;if(typeof Ue=="string")try{var Cn=ct.parse(Ue);if(Vn(Cn))return Cn;if(Array.isArray(Cn))return OS(Cn)}catch{return{value:Ue}}return{value:Ue}}if(We==="value")return Xr(Ue)?ct.stringify(Ue):Ue;throw new Error("Cannot convert ".concat(Ax(Ue,ct)," to ").concat(We))}(_e,N,k());if(et===_e)return;var He=[{op:"replace",path:jt(ve),value:et}];r("handleConvert",{selection:u(B),path:ve,type:N,operations:He}),jn(He,(Ue,We)=>({state:u(B)?nu(Ue,We,dt(u(B))):u(H)}))}catch(Ue){z()(Ue)}else z()(new Error("Cannot convert current selection to ".concat(N)))}function Pe(){if(u(B)){var N=HS(u(V),u(H),u(B),!1),ve=hn(dt(u(B)));N&&!Yn(dt(N))&&ln(ve,hn(dt(N)))?_(B,ja(dt(N))):_(B,Ea(ve)),r("insert before",{selection:u(B),selectionBefore:N,parentPath:ve}),Nr(),fn()}}function tn(){if(u(B)){var N=rl(u(V),u(B));r("insert after",N),_(B,ja(N)),Nr(),fn()}}function hr(N){return xe.apply(this,arguments)}function xe(){return(xe=Lt(function*(N){yield T5({char:N,selectInside:!0,json:u(V),selection:u(B),readOnly:p(),parser:k(),onPatch:jn,onReplaceJson:nn,onSelect:Te})})).apply(this,arguments)}function ze(){if(!p()&&b().canUndo){var N=b().undo();if(Mm(N)){var ve={json:u(V),text:u(F)};_(V,N.undo.patch?oo(u(V),N.undo.patch):N.undo.json),_(H,N.undo.documentState),_(B,N.undo.selection),_(F,N.undo.text),_(he,N.undo.textIsRepaired),ee=void 0,r("undo",{item:N,json:u(V),documentState:u(H),selection:u(B)}),Kn(ve,N.undo.patch&&N.redo.patch?{json:u(V),previousJson:ve.json,redo:N.undo.patch,undo:N.redo.patch}:void 0),sn(),u(B)&&vt(dt(u(B)),!1)}else re()(N)}}function wt(){if(!p()&&b().canRedo){var N=b().redo();if(Mm(N)){var ve={json:u(V),text:u(F)};_(V,N.redo.patch?oo(u(V),N.redo.patch):N.redo.json),_(H,N.redo.documentState),_(B,N.redo.selection),_(F,N.redo.text),_(he,N.redo.textIsRepaired),ee=void 0,r("redo",{item:N,json:u(V),documentState:u(H),selection:u(B)}),Kn(ve,N.undo.patch&&N.redo.patch?{json:u(V),previousJson:ve.json,redo:N.redo.patch,undo:N.undo.patch}:void 0),sn(),u(B)&&vt(dt(u(B)),!1)}else me()(N)}}function zt(N){var ve;p()||u(V)===void 0||(te=!0,A()({id:s,json:u(V),rootPath:N,onSort:(ve=Lt(function*(_e){var{operations:et}=_e;r("onSort",N,et),jn(et,(He,Ue)=>({state:l0(He,Ue,N),selection:dn(N)}))}),function(_e){return ve.apply(this,arguments)}),onClose:()=>{te=!1,setTimeout(sn)}}))}function gt(){u(B)&&zt(GS(u(V),u(B)))}function Qt(){zt([])}function wn(N){if(u(V)!==void 0){var{id:ve,onTransform:_e,onClose:et}=N,He=N.rootPath||[];te=!0,P()({id:ve||o,json:u(V),rootPath:He,onTransform:Ue=>{_e?_e({operations:Ue,json:u(V),transformedJson:oo(u(V),Ue)}):(r("onTransform",He,Ue),jn(Ue,(We,ct)=>({state:l0(We,ct,He),selection:dn(He)})))},onClose:()=>{te=!1,setTimeout(sn),et&&et()}})}}function Ht(){u(B)&&wn({rootPath:GS(u(V),u(B))})}function Kt(){wn({rootPath:[]})}function vt(N){return yt.apply(this,arguments)}function yt(){return yt=Lt(function*(N){var ve=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];_(H,to(u(V),u(H),N,Ip));var _e=Pn(N);if(r("scrollTo",{path:N,elem:_e,refContents:u(f)}),!_e||!u(f))return Promise.resolve();var et=u(f).getBoundingClientRect(),He=_e.getBoundingClientRect();if(!ve&&He.bottom>et.top&&He.top<et.bottom)return Promise.resolve();var Ue=-et.height/4;return new Promise(We=>{m(_e,{container:u(f),offset:Ue,duration:300,callback:()=>We()})})}),yt.apply(this,arguments)}function Pn(N){var ve,_e;return Nr(),(ve=(_e=u(f))===null||_e===void 0?void 0:_e.querySelector('div[data-path="'.concat(Vb(N),'"]')))!==null&&ve!==void 0?ve:void 0}function Bt(N){var ve=Pn(N);if(ve&&u(f)){var _e=u(f).getBoundingClientRect(),et=ve.getBoundingClientRect(),He=Xr(rt(u(V),N))?20:et.height;et.top<_e.top+20?m(ve,{container:u(f),offset:-20,duration:0}):et.top+He>_e.bottom-20&&m(ve,{container:u(f),offset:-(_e.height-He-20),duration:0})}}function Kn(N,ve){if(N.json!==void 0||(N==null?void 0:N.text)!==void 0){if(u(F)!==void 0){var _e,et={text:u(F),json:void 0};(_e=K())===null||_e===void 0||_e(et,N,{contentErrors:Tt(),patchResult:ve})}else if(u(V)!==void 0){var He,Ue={text:void 0,json:u(V)};(He=K())===null||He===void 0||He(Ue,N,{contentErrors:Tt(),patchResult:ve})}}}function jn(N,ve){r("handlePatch",N,ve);var _e={json:u(V),text:u(F)},et=mn(N,ve);return Kn(_e,et),et}function nn(N,ve){var _e={json:u(V),text:u(F)},et={documentState:u(H),selection:u(B),json:u(V),text:u(F),textIsRepaired:u(he)},He=to(u(V),bs(N,u(H)),[],bf),Ue=typeof ve=="function"?ve(N,He,u(B)):void 0;_(V,(Ue==null?void 0:Ue.json)!==void 0?Ue.json:N),_(H,(Ue==null?void 0:Ue.state)!==void 0?Ue.state:He),_(B,(Ue==null?void 0:Ue.selection)!==void 0?Ue.selection:u(B)),_(F,void 0),_(he,!1),ee=void 0,en(u(V)),Vt(et),Kn(_e,void 0)}function Ln(N,ve){r("handleChangeText");var _e={json:u(V),text:u(F)},et={documentState:u(H),selection:u(B),json:u(V),text:u(F),textIsRepaired:u(he)};try{_(V,S()(N)),_(H,to(u(V),bs(u(V),u(H)),[],bf)),_(F,void 0),_(he,!1),ee=void 0}catch(Ue){try{_(V,S()(zo(N))),_(H,to(u(V),bs(u(V),u(H)),[],bf)),_(F,N),_(he,!0),ee=void 0}catch{_(V,void 0),_(H,Jb({json:u(V),expand:bf})),_(F,N),_(he,!1),ee=u(F)!==""?hc(u(F),Ue.message||String(Ue)):void 0}}if(typeof ve=="function"){var He=ve(u(V),u(H),u(B));_(V,(He==null?void 0:He.json)!==void 0?He.json:u(V)),_(H,(He==null?void 0:He.state)!==void 0?He.state:u(H)),_(B,(He==null?void 0:He.selection)!==void 0?He.selection:u(B))}en(u(V)),Vt(et),Kn(_e,void 0)}function rn(N,ve){var _e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];r("handleExpand",{path:N,expanded:ve,recursive:_e}),ve?D(N,_e?Fx:VS):ae(N,_e),sn()}function Rr(){rn([],!0,!0)}function ce(){rn([],!1,!0)}function je(N){r("openFind",{findAndReplace:N}),_(Ie,!1),_(pt,!1),Nr(),_(Ie,!0),_(pt,N)}function Fe(N,ve){r("handleExpandSection",N,ve),_(H,function(_e,et,He,Ue){return pc(_e,et,He,(We,ct)=>{if(!Ei(ct))return ct;var At=HT(ct.visibleSections.concat(Ue));return Le(Le({},ct),{},{visibleSections:At})})}(u(V),u(H),N,ve))}function Ut(N){r("pasted json as text",N),_(Ce,N)}function kn(N){var ve,{anchor:_e,left:et,top:He,width:Ue,height:We,offsetTop:ct,offsetLeft:At,showTip:Cn}=N,an=function(or){var{json:Cr,documentState:St,selection:Je,readOnly:Wt,onEditKey:Vr,onEditValue:Jn,onToggleEnforceString:Bn,onCut:cr,onCopy:Qr,onPaste:Gt,onRemove:gr,onDuplicate:wi,onExtract:Qs,onInsertBefore:Ti,onInsert:Wi,onConvert:sa,onInsertAfter:mu,onSort:$a,onTransform:mi}=or,_r=Cr!==void 0,Vi=!!Je,fs=!!Je&&Yn(dt(Je)),Xs=Je?rt(Cr,dt(Je)):void 0,Bc=Array.isArray(Xs)?"Edit array":Vn(Xs)?"Edit object":"Edit value",ts=_r&&(xr(Je)||ui(Je)||Qn(Je)),qc=Je&&!fs?rt(Cr,hn(dt(Je))):void 0,Zg=!Wt&&_r&&Pm(Je)&&!fs&&!Array.isArray(qc),Fc=!Wt&&_r&&Je!==void 0&&Pm(Je),ev=Fc&&!Xr(Xs),Uc=!Wt&&ts,Wc=ts,tv=!Wt&&Vi,ni=!Wt&&_r&&ts&&!fs,jo=!Wt&&_r&&Je!==void 0&&(xr(Je)||Qn(Je))&&!fs,Es=ts,oa=Es?"Convert to:":"Insert:",Al=!Wt&&(Ci(Je)&&Array.isArray(Xs)||Ds(Je)&&Array.isArray(qc)),ns=!Wt&&(Es?fp(Je)&&!Vn(Xs):Vi),nv=!Wt&&(Es?fp(Je)&&!Array.isArray(Xs):Vi),rv=!Wt&&(Es?fp(Je)&&Xr(Xs):Vi),iv=Je!==void 0&&wa(Cr,St,dt(Je));function gu(Vc){ts?Vc!=="structure"&&sa(Vc):Wi(Vc)}return[{type:"row",items:[{type:"button",onClick:()=>Vr(),icon:Yu,text:"Edit key",title:"Edit the key (Double-click on the key)",disabled:!Zg},{type:"dropdown-button",main:{type:"button",onClick:()=>Jn(),icon:Yu,text:Bc,title:"Edit the value (Double-click on the value)",disabled:!Fc},width:"11em",items:[{type:"button",icon:Yu,text:Bc,title:"Edit the value (Double-click on the value)",onClick:()=>Jn(),disabled:!Fc},{type:"button",icon:iv?DR:zR,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:()=>Bn(),disabled:!ev}]}]},{type:"separator"},{type:"row",items:[{type:"dropdown-button",main:{type:"button",onClick:()=>cr(!0),icon:Ju,text:"Cut",title:"Cut selected contents, formatted with indentation (Ctrl+X)",disabled:!Uc},width:"10em",items:[{type:"button",icon:Ju,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:()=>cr(!0),disabled:!Uc},{type:"button",icon:Ju,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:()=>cr(!1),disabled:!Uc}]},{type:"dropdown-button",main:{type:"button",onClick:()=>Qr(!0),icon:Ha,text:"Copy",title:"Copy selected contents, formatted with indentation (Ctrl+C)",disabled:!Wc},width:"12em",items:[{type:"button",icon:Ha,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:()=>Qr(!0),disabled:!Wc},{type:"button",icon:Ha,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:()=>Qr(!1),disabled:!Wc}]},{type:"button",onClick:()=>Gt(),icon:IR,text:"Paste",title:"Paste clipboard contents (Ctrl+V)",disabled:!tv}]},{type:"separator"},{type:"row",items:[{type:"column",items:[{type:"button",onClick:()=>wi(),icon:FR,text:"Duplicate",title:"Duplicate selected contents (Ctrl+D)",disabled:!ni},{type:"button",onClick:()=>Qs(),icon:MH,text:"Extract",title:"Extract selected contents",disabled:!jo},{type:"button",onClick:()=>$a(),icon:bm,text:"Sort",title:"Sort array or object contents",disabled:Wt||!ts},{type:"button",onClick:()=>mi(),icon:gm,text:"Transform",title:"Transform array or object contents (filter, sort, project)",disabled:Wt||!ts},{type:"button",onClick:()=>gr(),icon:Tb,text:"Remove",title:"Remove selected contents (Delete)",disabled:Wt||!ts}]},{type:"column",items:[{type:"label",text:oa},{type:"button",onClick:()=>gu("structure"),icon:Es?xh:Iu,text:"Structure",title:oa+" structure like the first item in the array",disabled:!Al},{type:"button",onClick:()=>gu("object"),icon:Es?xh:Iu,text:"Object",title:oa+" object",disabled:!ns},{type:"button",onClick:()=>gu("array"),icon:Es?xh:Iu,text:"Array",title:oa+" array",disabled:!nv},{type:"button",onClick:()=>gu("value"),icon:Es?xh:Iu,text:"Value",title:oa+" value",disabled:!rv}]}]},{type:"separator"},{type:"row",items:[{type:"button",onClick:()=>Ti(),icon:SH,text:"Insert before",title:"Select area before current entry to insert or paste contents",disabled:Wt||!ts||fs},{type:"button",onClick:()=>mu(),icon:vH,text:"Insert after",title:"Select area after current entry to insert or paste contents",disabled:Wt||!ts||fs}]}]}({json:u(V),documentState:u(H),selection:u(B),readOnly:p(),onEditKey:En,onEditValue:Zn,onToggleEnforceString:cn,onCut:gn,onCopy:Yt,onPaste:Mn,onRemove:Mr,onDuplicate:Yr,onExtract:ti,onInsertBefore:Pe,onInsert:br,onInsertAfter:tn,onConvert:Pr,onSort:gt,onTransform:Ht}),tr=(ve=X()(an))!==null&&ve!==void 0?ve:an;if(tr!==!1){var Pt={left:et,top:He,offsetTop:ct,offsetLeft:At,width:Ue,height:We,anchor:_e,closeOnOuterClick:!0,onClose:()=>{te=!1,sn()}};te=!0;var Lr=a(N5,{tip:Cn?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0,items:tr,onRequestClose:()=>l(Lr)},Pt)}}function fn(N){if(!Ji(u(B)))if(N&&(N.stopPropagation(),N.preventDefault()),N&&N.type==="contextmenu"&&N.target!==u(c))kn({left:N.clientX,top:N.clientY,width:ma,height:pa,showTip:!1});else{var ve,_e=(ve=u(f))===null||ve===void 0?void 0:ve.querySelector(".jse-context-menu-pointer.jse-selected");if(_e)kn({anchor:_e,offsetTop:2,width:ma,height:pa,showTip:!1});else{var et,He=(et=u(f))===null||et===void 0?void 0:et.getBoundingClientRect();He&&kn({top:He.top+2,left:He.left+2,width:ma,height:pa,showTip:!1})}}}function Gn(N){kn({anchor:WT(N.target,"BUTTON"),offsetTop:0,width:ma,height:pa,showTip:!0})}function pr(){return er.apply(this,arguments)}function er(){return(er=Lt(function*(){if(r("apply pasted json",u(Ce)),u(Ce)){var{onPasteAsJson:N}=u(Ce);_(Ce,void 0),N(),setTimeout(sn)}})).apply(this,arguments)}function Dr(){r("clear pasted json"),_(Ce,void 0),sn()}function it(){ue()(li.text)}function ur(N){_(B,N),sn(),vt(dt(N))}function sn(){r("focus"),u(c)&&(u(c).focus(),u(c).select())}function pi(N){return function(ve,_e,et){var He=hn(et),Ue=[Et(et)],We=rt(ve,He),ct=We?a0(We,_e,Ue):void 0;return ct?dn(He.concat(ct)):ja(et)}(u(V),u(H),N)}function Ot(N){u(n)&&u(n).onDrag(N)}function Rn(){u(n)&&u(n).onDragEnd()}var zn=Y(void 0,!0);fe(()=>u(B),()=>{var N;N=u(B),ln(N,g())||(r("onSelect",N),ne()(N))}),fe(()=>(G(j()),G(w())),()=>{_(Ze,Ox({escapeControlCharacters:j(),escapeUnicodeCharacters:w()}))}),fe(()=>u(Ie),()=>{(function(N){u(f)&&N&&u(f).scrollTop===0&&(xs(f,u(f).style.overflowAnchor="none"),xs(f,u(f).scrollTop+=vf),setTimeout(()=>{u(f)&&xs(f,u(f).style.overflowAnchor="")}))})(u(Ie))}),fe(()=>G(y()),()=>{Hn(y())}),fe(()=>G(g()),()=>{(function(N){ln(u(B),N)||(r("applyExternalSelection",{selection:u(B),externalSelection:N}),sd(N)&&_(B,N))})(g())}),fe(()=>(u(V),G(M()),G(k()),G(E())),()=>{Ye(u(V),M(),k(),E())}),fe(()=>(u(f),uC),()=>{_(n,u(f)?uC(u(f)):void 0)}),fe(()=>(G(p()),G(k()),u(Ze),G(de()),G($())),()=>{_(zn,{mode:li.tree,readOnly:p(),parser:k(),normalization:u(Ze),getJson:kt,getDocumentState:Ee,getSelection:It,findElement:Pn,findNextInside:pi,focus:sn,onPatch:jn,onInsert:Wr,onExpand:rn,onSelect:Te,onFind:je,onExpandSection:Fe,onPasteJson:Ut,onRenderValue:de(),onContextMenu:kn,onClassName:$()||(()=>{}),onDrag:Ot,onDragEnd:Rn})}),fe(()=>u(zn),()=>{r("context changed",u(zn))}),_n(),Mt(!0);var mr=BX();Ae("mousedown",xa,function(N){!Lc(N.target,ve=>ve===u(d))&&Ji(u(B))&&(r("click outside the editor, exit edit mode"),_(B,Ro(u(B))),h&&u(c)&&(u(c).focus(),u(c).blur()),r("blur (outside editor)"),u(c)&&u(c).blur())});var L,ye=st(mr),Re=Q(ye),De=N=>{(function(ve,_e){Ct(_e,!1);var et=Y(void 0,!0),He=Y(void 0,!0),Ue=Y(void 0,!0),We=C(_e,"json",9),ct=C(_e,"selection",9),At=C(_e,"readOnly",9),Cn=C(_e,"showSearch",13,!1),an=C(_e,"history",9),tr=C(_e,"onExpandAll",9),Pt=C(_e,"onCollapseAll",9),Lr=C(_e,"onUndo",9),or=C(_e,"onRedo",9),Cr=C(_e,"onSort",9),St=C(_e,"onTransform",9),Je=C(_e,"onContextMenu",9),Wt=C(_e,"onCopy",9),Vr=C(_e,"onRenderMenu",9);function Jn(){Cn(!Cn())}var Bn=Y(void 0,!0),cr=Y(void 0,!0),Qr=Y(void 0,!0),Gt=Y(void 0,!0);fe(()=>G(We()),()=>{_(et,We()!==void 0)}),fe(()=>(u(et),G(ct()),Qn),()=>{_(He,u(et)&&(xr(ct())||ui(ct())||Qn(ct())))}),fe(()=>(G(tr()),G(We())),()=>{_(Bn,{type:"button",icon:YQ,title:"Expand all",className:"jse-expand-all",onClick:tr(),disabled:!Xr(We())})}),fe(()=>(G(Pt()),G(We())),()=>{_(cr,{type:"button",icon:QQ,title:"Collapse all",className:"jse-collapse-all",onClick:Pt(),disabled:!Xr(We())})}),fe(()=>G(We()),()=>{_(Qr,{type:"button",icon:Eg,title:"Search (Ctrl+F)",className:"jse-search",onClick:Jn,disabled:We()===void 0})}),fe(()=>(G(At()),u(Bn),u(cr),G(Cr()),G(We()),G(St()),u(Qr),G(Je()),G(Lr()),G(an()),G(or()),G(Wt()),u(He)),()=>{_(Gt,At()?[u(Bn),u(cr),{type:"separator"},{type:"button",icon:Ha,title:"Copy (Ctrl+C)",className:"jse-copy",onClick:Wt(),disabled:!u(He)},{type:"separator"},u(Qr),{type:"space"}]:[u(Bn),u(cr),{type:"separator"},{type:"button",icon:bm,title:"Sort",className:"jse-sort",onClick:Cr(),disabled:At()||We()===void 0},{type:"button",icon:gm,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:St(),disabled:At()||We()===void 0},u(Qr),{type:"button",icon:BR,title:$x,className:"jse-contextmenu",onClick:Je()},{type:"separator"},{type:"button",icon:hx,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:Lr(),disabled:!an().canUndo},{type:"button",icon:dx,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:or(),disabled:!an().canRedo},{type:"space"}])}),fe(()=>(G(Vr()),u(Gt)),()=>{_(Ue,Vr()(u(Gt))||u(Gt))}),_n(),Mt(!0),Xg(ve,{get items(){return u(Ue)}}),_t()})(N,{get json(){return u(V)},get selection(){return u(B)},get readOnly(){return p()},get history(){return b()},onExpandAll:Rr,onCollapseAll:ce,onUndo:ze,onRedo:wt,onSort:Qt,onTransform:Kt,onContextMenu:Gn,onCopy:Yt,get onRenderMenu(){return pe()},get showSearch(){return u(Ie)},set showSearch(ve){_(Ie,ve)},$$legacy:!0})};we(Re,N=>{v()&&N(De)});var Be=le(Re,2),Qe=N=>{hX(N,{get json(){return u(V)},get selection(){return u(B)},onSelect:ur,get onError(){return z()},get pathParser(){return J()}})};we(Be,N=>{x()&&N(Qe)});var Ke=le(Be,2),ft=N=>{var ve=LX(),_e=st(ve),et=Q(_e);et.readOnly=!0,jr(et,ct=>_(c,ct),()=>u(c));var He=le(_e,2),Ue=ct=>{var At=on(),Cn=st(At),an=Pt=>{(function(Lr,or){Ct(or,!1);var Cr=C(or,"readOnly",9),St=C(or,"onCreateArray",9),Je=C(or,"onCreateObject",9),Wt=C(or,"onClick",9);Mt(!0);var Vr=eX(),Jn=le(Q(Vr),2),Bn=le(Q(Jn),2),cr=Qr=>{var Gt=ZQ(),gr=le(st(Gt),2);$n(gr,"title","Create an empty JSON object (press '{')");var wi=le(gr,2);$n(wi,"title","Create an empty JSON array (press '[')"),Ae("click",gr,no(()=>Je()())),Ae("click",wi,no(()=>St()())),Z(Qr,Gt)};we(Bn,Qr=>{Cr()||Qr(cr)}),Ae("click",Vr,()=>Wt()()),Z(Lr,Vr),_t()})(Pt,{get readOnly(){return p()},onCreateObject:()=>{sn(),hr("{")},onCreateArray:()=>{sn(),hr("[")},onClick:()=>{sn()}})},tr=Pt=>{var Lr=NX(),or=st(Lr),Cr=$e(()=>p()?[]:[{icon:vm,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:it}]);po(or,{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",get actions(){return u(Cr)}}),$5(le(or,2),{get text(){return u(F)},get json(){return u(V)},get indentation(){return W()},get parser(){return k()}}),Z(Pt,Lr)};we(Cn,Pt=>{u(F)===""||u(F)===void 0?Pt(an):Pt(tr,!1)}),Z(ct,At)},We=ct=>{var At=DX(),Cn=st(At);_5(Q(Cn),{get json(){return u(V)},get documentState(){return u(H)},get parser(){return k()},get showSearch(){return u(Ie)},get showReplace(){return u(pt)},get readOnly(){return p()},columns:void 0,onSearch:bt,onFocus:nt,onPatch:jn,onClose:O});var an=le(Cn,2);$n(an,"data-jsoneditor-scrollable-contents",!0);var tr=Q(an),Pt=Je=>{Z(Je,IX())};we(tr,Je=>{u(Ie)&&Je(Pt)}),i1(le(tr,2),{get value(){return u(V)},pointer:"",get state(){return u(H)},get validationErrors(){return u(oe)},get searchResults(){return u(Ve)},get selection(){return u(B)},get context(){return u(zn)},onDragSelectionStart:$r}),jr(an,Je=>_(f,Je),()=>u(f));var Lr=le(an,2),or=Je=>{var Wt=$e(()=>"You pasted a JSON ".concat(Array.isArray(u(Ce).contents)?"array":"object"," as text"));po(Je,{type:"info",get message(){return u(Wt)},actions:[{icon:fc,text:"Paste as JSON instead",title:"Replace the value with the pasted JSON",onMouseDown:pr},{text:"Leave as is",title:"Keep the JSON embedded in the value",onClick:Dr}]})};we(Lr,Je=>{u(Ce)&&Je(or)});var Cr=le(Lr,2),St=Je=>{var Wt=$e(()=>p()?[]:[{icon:px,text:"Ok",title:"Accept the repaired document",onClick:ot},{icon:vm,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:it}]);po(Je,{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",get actions(){return u(Wt)},onClose:sn})};we(Cr,Je=>{u(he)&&Je(St)}),Jx(le(Cr,2),{get validationErrors(){return u(ke)},selectError:I}),Z(ct,At)};we(He,ct=>{u(V)===void 0?ct(Ue):ct(We,!1)}),Ae("paste",et,Dn),Z(N,ve)},Ft=N=>{Z(N,zX())};we(Ke,N=>{i?N(Ft,!1):N(ft)}),jr(ye,N=>_(d,N),()=>u(d));var vn=le(ye,2),bn=N=>{j5(N,{onClose:()=>_(q,!1)})};we(vn,N=>{u(q)&&N(bn)});var Fn=le(vn,2),Un=N=>{k5(N,el(()=>u(ge),{onClose:()=>{var ve;(ve=u(ge))===null||ve===void 0||ve.onClose(),_(ge,void 0)}}))};return we(Fn,N=>{u(ge)&&N(Un)}),qe(()=>L=qt(ye,1,"jse-tree-mode svelte-vrx1dr",null,L,{"no-main-menu":!v()})),Ae("keydown",ye,function(N){var ve=_a(N),_e=N.shiftKey;if(r("keydown",{combo:ve,key:N.key}),ve==="Ctrl+X"&&(N.preventDefault(),gn(!0)),ve==="Ctrl+Shift+X"&&(N.preventDefault(),gn(!1)),ve==="Ctrl+C"&&(N.preventDefault(),Yt(!0)),ve==="Ctrl+Shift+C"&&(N.preventDefault(),Yt(!1)),ve==="Ctrl+D"&&(N.preventDefault(),Yr()),ve!=="Delete"&&ve!=="Backspace"||(N.preventDefault(),Mr()),ve==="Insert"&&(N.preventDefault(),Wr("structure")),ve==="Ctrl+A"&&(N.preventDefault(),_(B,dn([]))),ve==="Ctrl+Q"&&fn(N),ve==="ArrowUp"||ve==="Shift+ArrowUp"){N.preventDefault();var et=u(B)?HS(u(V),u(H),u(B),_e)||u(B):ju(u(V),u(H));_(B,et),Bt(dt(et))}if(ve==="ArrowDown"||ve==="Shift+ArrowDown"){N.preventDefault();var He=u(B)?function(an,tr,Pt){var Lr=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(Pt){var or=Lr?dt(Pt):rl(an,Pt),Cr=Xr(rt(an,or))?qS(an,tr,or,!0):tr,St=a0(an,tr,or),Je=a0(an,Cr,or);if(Lr)return Ci(Pt)?St!==void 0?Ni(St,St):void 0:Ds(Pt)?Je!==void 0?Ni(Je,Je):void 0:Je!==void 0?Ni(Ul(Pt),Je):void 0;if(Ds(Pt))return Je!==void 0?dn(Je):void 0;if(Ci(Pt)||Qn(Pt))return St!==void 0?dn(St):void 0;if(ui(Pt)){if(St===void 0||St.length===0)return;var Wt=hn(St),Vr=rt(an,Wt);return Array.isArray(Vr)?dn(St):Oa(St)}return xr(Pt)?Je!==void 0?dn(Je):St!==void 0?dn(St):void 0:void 0}}(u(V),u(H),u(B),_e)||u(B):ju(u(V),u(H));_(B,He),Bt(dt(He))}if(ve==="ArrowLeft"||ve==="Shift+ArrowLeft"){N.preventDefault();var Ue=u(B)?function(an,tr,Pt){var Lr=arguments.length>3&&arguments[3]!==void 0&&arguments[3],or=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(Pt){var{caret:Cr,previous:St}=KS(an,tr,Pt,or);if(Lr)return xr(Pt)?void 0:Ni(Pt.path,Pt.path);if(Cr&&St)return Yb(St);var Je=hn(dt(Pt)),Wt=rt(an,Je);return Qn(Pt)&&Array.isArray(Wt)?Ni(Pt.path,Pt.path):xr(Pt)&&!Array.isArray(Wt)?Oa(Pt.focusPath):void 0}}(u(V),u(H),u(B),_e,!p())||u(B):ju(u(V),u(H));_(B,Ue),Bt(dt(Ue))}if(ve==="ArrowRight"||ve==="Shift+ArrowRight"){N.preventDefault();var We=u(B)&&u(V)!==void 0?function(an,tr,Pt){var Lr=arguments.length>3&&arguments[3]!==void 0&&arguments[3],or=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(Pt){var{caret:Cr,next:St}=KS(an,tr,Pt,or);return Lr?xr(Pt)?void 0:Ni(Pt.path,Pt.path):Cr&&St?Yb(St):xr(Pt)?dn(Pt.focusPath):void 0}}(u(V),u(H),u(B),_e,!p())||u(B):ju(u(V),u(H));_(B,We),Bt(dt(We))}if(ve==="Enter"&&u(B)){if(Kg(u(B))){var ct=u(B).focusPath,At=rt(u(V),hn(ct));Array.isArray(At)&&(N.preventDefault(),_(B,dn(ct)))}ui(u(B))&&(N.preventDefault(),_(B,Le(Le({},u(B)),{},{edit:!0}))),Qn(u(B))&&(N.preventDefault(),Xr(rt(u(V),u(B).path))?rn(u(B).path,!0):_(B,Le(Le({},u(B)),{},{edit:!0})))}if(ve.replace(/^Shift\+/,"").length===1&&u(B))return N.preventDefault(),void hr(N.key);if(ve==="Enter"&&(Ds(u(B))||Ci(u(B))))return N.preventDefault(),void hr("");if(ve==="Ctrl+Enter"&&Qn(u(B))){var Cn=rt(u(V),u(B).path);Ug(Cn)&&window.open(String(Cn),"_blank")}ve==="Escape"&&u(B)&&(N.preventDefault(),_(B,void 0)),ve==="Ctrl+F"&&(N.preventDefault(),je(!1)),ve==="Ctrl+H"&&(N.preventDefault(),je(!0)),ve==="Ctrl+Z"&&(N.preventDefault(),ze()),ve==="Ctrl+Shift+Z"&&(N.preventDefault(),wt())}),Ae("mousedown",ye,function(N){r("handleMouseDown",N);var ve=N.target;UT(ve,"BUTTON")||ve.isContentEditable||(sn(),u(B)||u(V)!==void 0||u(F)!==""&&u(F)!==void 0||(r("createDefaultSelection"),_(B,dn([]))))}),Ae("contextmenu",ye,fn),Z(t,mr),Dt(e,"expand",D),Dt(e,"collapse",ae),Dt(e,"validate",Tt),Dt(e,"getJson",kt),Dt(e,"patch",mn),Dt(e,"acceptAutoRepair",ot),Dt(e,"openTransformModal",wn),Dt(e,"scrollTo",vt),Dt(e,"findElement",Pn),Dt(e,"focus",sn),_t({expand:D,collapse:ae,validate:Tt,getJson:kt,patch:mn,acceptAutoRepair:ot,openTransformModal:wn,scrollTo:vt,findElement:Pn,focus:sn})}function I5(t){return typeof(e=t)!="object"||e===null?t:new Proxy(t,{get:(n,r,i)=>I5(Reflect.get(n,r,i)),set:()=>!1,deleteProperty:()=>!1});var e}var bp=fi("jsoneditor:History");function D5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.maxItems||1e3,n=[],r=0;function i(){return r<n.length}function s(){return r>0}function o(){return{canUndo:i(),canRedo:s(),items:()=>n.slice().reverse(),add:l,undo:c,redo:d,clear:f}}function a(){t.onChange&&t.onChange(o())}function l(h){bp("add",h),n=[h].concat(n.slice(r)).slice(0,e),r=0,a()}function f(){bp("clear"),n=[],r=0,a()}function c(){if(i()){var h=n[r];return r+=1,bp("undo",h),a(),h}}function d(){if(s())return bp("redo",n[r-=1]),a(),n[r]}return{get:o}}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-transform-modal-inner.svelte-rrrjnb {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-width: 0;
  min-height: 0;
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) {
  color: inherit;
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 0;
  overflow: auto;
  min-width: 0;
  min-height: 0;
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-actions:where(.svelte-rrrjnb) {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  padding-top: var(--jse-padding, 10px);
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-actions:where(.svelte-rrrjnb) button.jse-primary:where(.svelte-rrrjnb) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));
  color: var(--jse-button-primary-color, #fff);
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  border-radius: 3px;
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-actions:where(.svelte-rrrjnb) button.jse-primary:where(.svelte-rrrjnb):hover {
  background: var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff));
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-actions:where(.svelte-rrrjnb) button.jse-primary:where(.svelte-rrrjnb):disabled {
  background: var(--jse-button-primary-background-disabled, #9d9d9d);
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) {
  flex: 1;
  display: flex;
  gap: calc(2 * var(--jse-padding, 10px));
  min-height: 0;
  box-sizing: border-box;
  padding: 0 calc(2 * var(--jse-padding, 10px)) var(--jse-padding, 10px);
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) {
  flex: 1;
  display: flex;
  flex-direction: column;
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) .jse-description:where(.svelte-rrrjnb) p {
  margin: var(--jse-padding, 10px) 0;
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) .jse-description:where(.svelte-rrrjnb) p:first-child {
  margin-top: 0;
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) .jse-description:where(.svelte-rrrjnb) p:last-child {
  margin-bottom: 0;
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) .jse-description:where(.svelte-rrrjnb) code {
  background: var(--jse-modal-code-background, rgba(0, 0, 0, 0.05));
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) .query-error:where(.svelte-rrrjnb) {
  color: var(--jse-error-color, #ee5341);
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) textarea.jse-query:where(.svelte-rrrjnb) {
  flex: 1;
  outline: none;
  resize: vertical;
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents:where(.svelte-rrrjnb) {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: calc(2 * var(--jse-padding, 10px));
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents:where(.svelte-rrrjnb) .jse-original-data:where(.svelte-rrrjnb) {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  box-sizing: border-box;
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents:where(.svelte-rrrjnb) .jse-original-data.jse-hide:where(.svelte-rrrjnb) {
  flex: none;
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents:where(.svelte-rrrjnb) .jse-preview-data:where(.svelte-rrrjnb) {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  box-sizing: border-box;
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents.jse-hide-original-data:where(.svelte-rrrjnb) {
  flex-direction: column;
  gap: 0;
  margin-bottom: 0;
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-actions:where(.svelte-rrrjnb) {
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px)) calc(2 * var(--jse-padding, 10px));
}
@media screen and (max-width: 1200px) {
  .jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) {
    flex-direction: column;
    overflow: auto;
  }
  .jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) textarea.jse-query:where(.svelte-rrrjnb) {
    min-height: 150px;
    flex: none;
  }
  .jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents:where(.svelte-rrrjnb) .jse-tree-mode {
    height: 300px;
    flex: none;
  }
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-label:where(.svelte-rrrjnb) {
  font-weight: bold;
  display: block;
  box-sizing: border-box;
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-label:where(.svelte-rrrjnb) .jse-label-inner:where(.svelte-rrrjnb) {
  margin-top: calc(2 * var(--jse-padding, 10px));
  margin-bottom: calc(0.5 * var(--jse-padding, 10px));
  box-sizing: border-box;
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-label:where(.svelte-rrrjnb) .jse-label-inner:where(.svelte-rrrjnb) button:where(.svelte-rrrjnb) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  font-weight: bold;
  padding: 0;
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-tree-mode {
  flex: 1;
  background: var(--jse-input-background-readonly, transparent);
  box-shadow: none;
  box-sizing: border-box;
  --jse-main-border: var(--jse-input-border, 1px solid #d8dbdf);
}
.jse-transform-modal-inner.svelte-rrrjnb input:where(.svelte-rrrjnb),
.jse-transform-modal-inner.svelte-rrrjnb textarea:where(.svelte-rrrjnb) {
  border: var(--jse-input-border, 1px solid #d8dbdf);
  outline: none;
  box-sizing: border-box;
  padding: calc(0.5 * var(--jse-padding, 10px));
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  color: inherit;
  background: var(--jse-input-background, var(--jse-background-color, #fff));
}
.jse-transform-modal-inner.svelte-rrrjnb input:where(.svelte-rrrjnb):focus,
.jse-transform-modal-inner.svelte-rrrjnb textarea:where(.svelte-rrrjnb):focus {
  border: var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)));
}
.jse-transform-modal-inner.svelte-rrrjnb input:where(.svelte-rrrjnb):read-only,
.jse-transform-modal-inner.svelte-rrrjnb textarea:where(.svelte-rrrjnb):read-only {
  background: var(--jse-input-background-readonly, transparent);
}
.jse-transform-modal-inner.svelte-rrrjnb .jse-preview.jse-error:where(.svelte-rrrjnb) {
  flex: 1;
  background: var(--jse-input-background-readonly, transparent);
  border: var(--jse-input-border, 1px solid #d8dbdf);
  color: var(--jse-error-color, #ee5341);
  padding: calc(0.5 * var(--jse-padding, 10px));
}
.jse-transform-modal-inner.svelte-rrrjnb a {
  color: var(--jse-a-color, #156fc5);
}
.jse-transform-modal-inner.svelte-rrrjnb a:hover {
  color: var(--jse-a-color-highlight, #0f508d);
}`);var af=Fg(()=>sY),ku=Fg(()=>oY),qX=be('<div class="query-error svelte-rrrjnb"> </div>'),FX=be("<!> <!>",1),UX=be('<div class="jse-preview jse-error svelte-rrrjnb"> </div>'),WX=be('<!> <div class="jse-modal-contents svelte-rrrjnb"><div class="jse-main-contents svelte-rrrjnb"><div class="jse-query-contents svelte-rrrjnb"><div class="jse-label svelte-rrrjnb"><div class="jse-label-inner svelte-rrrjnb">Language</div></div> <div class="jse-description svelte-rrrjnb"><!></div> <div class="jse-label svelte-rrrjnb"><div class="jse-label-inner svelte-rrrjnb">Path</div></div> <input class="jse-path svelte-rrrjnb" type="text" readonly="" title="Selected path"> <div class="jse-label svelte-rrrjnb"><div class="jse-label-inner svelte-rrrjnb"><button type="button" class="svelte-rrrjnb"><!> Wizard</button></div></div> <!> <div class="jse-label svelte-rrrjnb"><div class="jse-label-inner svelte-rrrjnb">Query</div></div> <textarea class="jse-query svelte-rrrjnb" spellcheck="false"></textarea></div> <div><div><div class="jse-label svelte-rrrjnb"><div class="jse-label-inner svelte-rrrjnb"><button type="button" class="svelte-rrrjnb"><!> Original</button></div></div> <!></div> <div class="jse-preview-data svelte-rrrjnb"><div class="jse-label svelte-rrrjnb"><div class="jse-label-inner svelte-rrrjnb">Preview</div></div> <!></div></div></div> <div class="jse-actions svelte-rrrjnb"><button type="button" class="jse-primary svelte-rrrjnb">Transform</button></div></div>',1),VX=be('<div class="jse-transform-modal-inner svelte-rrrjnb"><!></div>');function HX(t,e){var n,r,i;Ct(e,!1);var s=fi("jsoneditor:TransformModal"),o=C(e,"id",25,()=>"transform-modal-"+Du()),a=C(e,"json",9),l=C(e,"rootPath",25,()=>[]),f=C(e,"indentation",9),c=C(e,"escapeControlCharacters",9),d=C(e,"escapeUnicodeCharacters",9),h=C(e,"parser",9),m=C(e,"parseMemoizeOne",9),p=C(e,"validationParser",9),y=C(e,"pathParser",9),g=C(e,"queryLanguages",9),b=C(e,"queryLanguageId",13),v=C(e,"onChangeQueryLanguage",9),x=C(e,"onRenderValue",9),j=C(e,"onRenderMenu",9),w=C(e,"onRenderContextMenu",9),k=C(e,"onClassName",9),S=C(e,"onTransform",9),M=C(e,"onClose",9),E=Y(void 0,!0),J=Y(D5({onChange:H=>_(J,H)}).get(),!0),W=Y(void 0,!0),z=Y(void 0,!0),K=Y(!1,!0),ue="".concat(o(),":").concat(jt(l())),ne=(n=af()[ue])!==null&&n!==void 0?n:{},re=Y(ku().showWizard!==!1,!0),me=Y(ku().showOriginal!==!1,!0),de=Y((r=ne.queryOptions)!==null&&r!==void 0?r:{},!0),pe=Y(b()===ne.queryLanguageId&&ne.query?ne.query:"",!0),X=Y((i=ne.isManual)!==null&&i!==void 0&&i,!0),$=Y(void 0,!0),ie=Y(void 0,!0),T=Y({text:""},!0);function A(H){var B;return(B=g().find(Te=>Te.id===H))!==null&&B!==void 0?B:g()[0]}function P(H){try{_(de,H),_(pe,A(b()).createQuery(u(W),H)),_($,void 0),_(X,!1),s("updateQueryByWizard",{queryOptions:u(de),query:u(pe),isManual:u(X)})}catch(B){_($,String(B))}}function se(H){_(pe,H.target.value),_(X,!0),s("handleChangeQuery",{query:u(pe),isManual:u(X)})}u(X)||P(u(de)),Pi(()=>{var H;(H=u(E))===null||H===void 0||H.focus()});var te=Hl(function(H,B){if(H===void 0)return _(T,{text:""}),void _(ie,"Error: No JSON");if(B.trim()!=="")try{s("previewTransform",{query:B});var Te=A(b()).executeQuery(H,B,h());_(T,{json:Te}),_(ie,void 0)}catch(lt){_(T,{text:""}),_(ie,String(lt))}else _(T,{json:H})},300);function q(){if(u(W)===void 0)return _(T,{text:""}),void _(ie,"Error: No JSON");try{s("handleTransform",{query:u(pe)});var H=A(b()).executeQuery(u(W),u(pe),h());S()([{op:"replace",path:jt(l()),value:H}]),M()()}catch(B){console.error(B),_(T,{text:""}),_(ie,String(B))}}function ge(){_(re,!u(re)),ku(ku().showWizard=u(re))}function V(){_(me,!u(me)),ku(ku().showOriginal=u(me))}function F(H){H.focus()}function ee(H){s("handleChangeQueryLanguage",H),b(H),v()(H),P(u(de))}function U(){u(K)?_(K,!u(K)):M()()}fe(()=>(G(a()),G(l())),()=>{_(W,I5(rt(a(),l())))}),fe(()=>u(W),()=>{_(z,u(W)?{json:u(W)}:{text:""})}),fe(()=>(u(W),u(pe)),()=>{te(u(W),u(pe))}),fe(()=>(af(),u(de),u(pe),G(b()),u(X)),()=>{af(af()[ue]={queryOptions:u(de),query:u(pe),queryLanguageId:b(),isManual:u(X)}),s("store state in memory",ue,af()[ue])}),_n(),Mt(!0),ud(t,{get onClose(){return M()},className:"jse-transform-modal",get fullscreen(){return u(K)},children:(H,B)=>{var Te=VX();Hb(Q(Te),{children:(lt,Ze)=>{var Ce=WX(),Ve=st(Ce);(function(mt,Yt){Ct(Yt,!1);var xn,Dn=C(Yt,"queryLanguages",9),Mn=C(Yt,"queryLanguageId",9),sr=C(Yt,"fullscreen",13),Sr=C(Yt,"onChangeQueryLanguage",9),hi=C(Yt,"onClose",9),Mr=Y(void 0,!0),{openAbsolutePopup:Yr,closeAbsolutePopup:ti}=Cl("absolute-popup");function Wr(){var br={queryLanguages:Dn(),queryLanguageId:Mn(),onChangeQueryLanguage:Pr=>{ti(xn),Sr()(Pr)}};xn=Yr(FY,br,{offsetTop:-2,offsetLeft:0,anchor:u(Mr),closeOnOuterClick:!0})}Mt(!0),zm(mt,{title:"Transform",fullScreenButton:!0,get onClose(){return hi()},get fullscreen(){return sr()},set fullscreen(br){sr(br)},$$slots:{actions:(br,Pr)=>{var Pe,tn=VY();yn(Q(tn),{data:RH}),jr(tn,hr=>_(Mr,hr),()=>u(Mr)),qe(()=>Pe=qt(tn,1,"jse-config svelte-1kpylsp",null,Pe,{hide:Dn().length<=1})),Ae("click",tn,Wr),Z(br,tn)}},$$legacy:!0}),_t()})(Ve,{get queryLanguages(){return g()},get queryLanguageId(){return b()},onChangeQueryLanguage:ee,get onClose(){return M()},get fullscreen(){return u(K)},set fullscreen(mt){_(K,mt)},$$legacy:!0});var Ie=Q(le(Ve,2)),pt=Q(Ie),bt=le(Q(pt),2);_T(Q(bt),()=>A(b()).description,!1,!1);var nt=le(bt,4),Ne=le(nt,2),O=Q(Ne),I=Q(O),D=Q(I),ae=$e(()=>u(re)?dl:Jf);yn(D,{get data(){return u(ae)}});var he=le(Ne,2),ke=mt=>{var Yt=on(),xn=st(Yt),Dn=sr=>{var Sr=FX(),hi=st(Sr);zY(hi,{get queryOptions(){return u(de)},get json(){return u(W)},onChange:P});var Mr=le(hi,2),Yr=ti=>{var Wr=qX(),br=Q(Wr);qe(()=>Rt(br,u($))),Z(ti,Wr)};we(Mr,ti=>{u($)&&ti(Yr)}),Z(sr,Sr)},Mn=sr=>{Z(sr,Bi("(Only available for arrays, not for objects)"))};we(xn,sr=>{Array.isArray(u(W))?sr(Dn):sr(Mn,!1)}),Z(mt,Yt)};we(he,mt=>{u(re)&&mt(ke)});var oe=le(he,4);jr(oe,mt=>_(E,mt),()=>u(E));var Me,Ye,Tt=le(pt,2),kt=Q(Tt),Ee=Q(kt),It=Q(Ee),Hn=Q(It),On=Q(Hn),en=$e(()=>u(me)?dl:Jf);yn(On,{get data(){return u(en)}});var Vt=le(Ee,2),mn=mt=>{c1(mt,{get externalContent(){return u(z)},externalSelection:void 0,get history(){return u(J)},readOnly:!0,mainMenuBar:!1,navigationBar:!1,get indentation(){return f()},get escapeControlCharacters(){return c()},get escapeUnicodeCharacters(){return d()},get parser(){return h()},get parseMemoizeOne(){return m()},get onRenderValue(){return x()},get onRenderMenu(){return j()},get onRenderContextMenu(){return w()},onError:console.error,onChange:$r,onChangeMode:$r,onSelect:$r,onUndo:$r,onRedo:$r,onFocus:$r,onBlur:$r,onSortModal:$r,onTransformModal:$r,onJSONEditorModal:$r,get onClassName(){return k()},validator:void 0,get validationParser(){return p()},get pathParser(){return y()}})};we(Vt,mt=>{u(me)&&mt(mn)});var En=le(kt,2),Zn=le(Q(En),2),cn=mt=>{c1(mt,{get externalContent(){return u(T)},externalSelection:void 0,get history(){return u(J)},readOnly:!0,mainMenuBar:!1,navigationBar:!1,get indentation(){return f()},get escapeControlCharacters(){return c()},get escapeUnicodeCharacters(){return d()},get parser(){return h()},get parseMemoizeOne(){return m()},get onRenderValue(){return x()},get onRenderMenu(){return j()},get onRenderContextMenu(){return w()},onError:console.error,onChange:$r,onChangeMode:$r,onSelect:$r,onUndo:$r,onRedo:$r,onFocus:$r,onBlur:$r,onSortModal:$r,onTransformModal:$r,onJSONEditorModal:$r,get onClassName(){return k()},validator:void 0,get validationParser(){return p()},get pathParser(){return y()}})},ot=mt=>{var Yt=UX(),xn=Q(Yt);qe(()=>Rt(xn,u(ie))),Z(mt,Yt)};we(Zn,mt=>{u(ie)?mt(ot,!1):mt(cn)});var gn=Q(le(Ie,2));vi(()=>Ae("click",gn,q)),Li(gn,mt=>F==null?void 0:F(mt)),qe(mt=>{eu(nt,mt),eu(oe,u(pe)),Me=qt(Tt,1,"jse-data-contents svelte-rrrjnb",null,Me,{"jse-hide-original-data":!u(me)}),Ye=qt(kt,1,"jse-original-data svelte-rrrjnb",null,Ye,{"jse-hide":!u(me)}),gn.disabled=!!u(ie)},[()=>Yn(l())?"(document root)":so(l())],$e),Ae("click",I,ge),Ae("input",oe,se),Ae("click",Hn,V),Z(lt,Ce)},$$slots:{default:!0}}),Li(Te,(lt,Ze)=>Bm==null?void 0:Bm(lt,Ze),()=>U),Z(H,Te)},$$slots:{default:!0}}),_t()}function Ps(){}function mC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<.9*e)return t.toFixed()+" B";var n=t/e;if(n<.9*e)return n.toFixed(1)+" KB";var r=n/e;if(r<.9*e)return r.toFixed(1)+" MB";var i=r/e;return i<.9*e?i.toFixed(1)+" GB":(i/e).toFixed(1)+" TB"}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-status-bar.svelte-1ulj7zd {
  background: var(--jse-panel-background, #ebebeb);
  color: var(--jse-panel-color-readonly, #b2b2b2);
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  margin: 0;
  border-top: var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
  display: flex;
  gap: var(--jse-padding, 10px);
}
.jse-status-bar.svelte-1ulj7zd:last-child {
  border-bottom: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-status-bar.svelte-1ulj7zd .jse-status-bar-info:where(.svelte-1ulj7zd) {
  padding: 2px;
}`);var KX=be('<div class="jse-status-bar-info svelte-1ulj7zd"> </div>'),GX=be('<div class="jse-status-bar-info svelte-1ulj7zd"> </div>'),JX=be('<div class="jse-status-bar-info svelte-1ulj7zd"> </div>'),YX=be('<div class="jse-status-bar svelte-1ulj7zd"><!> <!> <!></div>'),Qx=Ed.define([{tag:Ge.propertyName,color:"var(--internal-key-color)"},{tag:Ge.number,color:"var(--internal-value-color-number)"},{tag:Ge.bool,color:"var(--internal-value-color-boolean)"},{tag:Ge.string,color:"var(--internal-value-color-string)"},{tag:Ge.keyword,color:"var(--internal-value-color-null)"}]),QX=XM(Qx),XX=Qx.style;Qx.style=t=>XX(t||[]);var ZX=[Jr.fromClass(class{constructor(t){this.view=t,this.indentUnit=bo(t.state),this.initialPaddingLeft=null,this.isChrome=window==null?void 0:window.navigator.userAgent.includes("Chrome"),this.generate(t.state)}update(t){var e=bo(t.state);(e!==this.indentUnit||t.docChanged||t.viewportChanged)&&(this.indentUnit=e,this.generate(t.state))}generate(t){var e=new Ho;this.initialPaddingLeft?this.addStyleToBuilder(e,t,this.initialPaddingLeft):this.view.requestMeasure({read:n=>{var r=n.contentDOM.querySelector(".cm-line");r&&(this.initialPaddingLeft=window.getComputedStyle(r).getPropertyValue("padding-left"),this.addStyleToBuilder(e,n.state,this.initialPaddingLeft)),this.decorations=e.finish()}}),this.decorations=e.finish()}addStyleToBuilder(t,e,n){var r=this.getVisibleLines(e);for(var i of r){var{numColumns:s,containsTab:o}=this.numColumns(i.text,e.tabSize),a="calc(".concat(s+this.indentUnit,"ch + ").concat(n,")"),l=this.isChrome?"calc(-".concat(s+this.indentUnit,"ch - ").concat(o?1:0,"px)"):"-".concat(s+this.indentUnit,"ch");t.add(i.from,i.from,xt.line({attributes:{style:"padding-left: ".concat(a,"; text-indent: ").concat(l,";")}}))}}getVisibleLines(t){var e=new Set,n=null;for(var{from:r,to:i}of this.view.visibleRanges)for(var s=r;s<=i;){var o=t.doc.lineAt(s);n!==o&&(e.add(o),n=o),s=o.to+1}return e}numColumns(t,e){var n=0,r=!1;e:for(var i=0;i<t.length;i++)switch(t[i]){case" ":n+=1;continue e;case"	":n+=e-n%e,r=!0;continue e;case"\r":continue e;default:break e}return{numColumns:n,containsTab:r}}},{decorations:t=>t.decorations})];Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-text-mode.svelte-xt61xw {
  --internal-key-color: var(--jse-key-color, #1a1a1a);
  --internal-value-color-number: var(--jse-value-color-number, #ee422e);
  --internal-value-color-boolean: var(--jse-value-color-boolean, #ff8c00);
  --internal-value-color-string: var(--jse-value-color-string, #008000);
  --internal-value-color-null: var(--jse-value-color-null, #004ed0);
  flex: 1;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  background: var(--jse-background-color, #fff);
}
.jse-text-mode.no-main-menu.svelte-xt61xw {
  border-top: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) {
  flex: 1;
  display: flex;
  position: relative;
  flex-direction: column;
  overflow: hidden;
  min-width: 0;
  min-height: 0;
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw):last-child {
  border-bottom: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-text-mode.svelte-xt61xw .jse-contents.jse-hidden:where(.svelte-xt61xw) {
  visibility: hidden;
  position: absolute;
  top: 0;
  left: 0;
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor {
  flex: 1;
  overflow: hidden;
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-scroller {
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  line-height: var(--jse-line-height, calc(1em + 4px));
  color: var(--jse-delimiter-color, rgba(0, 0, 0, 0.38));
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-gutters {
  background: var(--jse-panel-background, #ebebeb);
  color: var(--jse-panel-color-readonly, #b2b2b2);
  border-right: var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-activeLine,
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-activeLineGutter {
  background: var(--jse-active-line-background-color, rgba(0, 0, 0, 0.06));
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-selectionBackground {
  background: var(--jse-selection-background-color, #d3d3d3);
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-searchMatch {
  background-color: var(--jse-search-match-color, #ffe665);
  outline: var(--jse-search-match-outline, none);
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-searchMatch.cm-searchMatch-selected {
  background-color: var(--jse-search-match-active-color, var(--jse-search-match-color, #ffe665));
  outline: var(--jse-search-match-outline, 2px solid #e0be00);
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-selectionMatch {
  background-color: var(--jse-search-match-background-color, rgba(153, 255, 119, 0.5019607843));
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-foldPlaceholder {
  background: var(--jse-tag-background, rgba(0, 0, 0, 0.2));
  color: var(--jse-tag-color, var(--jse-text-color-inverse, #fff));
  border: none;
  padding: 0 var(--jse-padding, 10px);
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-tooltip {
  font-size: var(--jse-font-size, 16px);
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  color: var(--jse-tooltip-color, var(--jse-text-color, #4d4d4d));
  background: var(--jse-tooltip-background, var(--jse-modal-background, #f5f5f5));
  border: var(--jse-tooltip-border, var(--jse-main-border, 1px solid #d7d7d7));
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-diagnosticAction {
  background: var(--jse-tooltip-action-button-color, var(--jse-text-color-inverse, #fff));
  background: var(--jse-tooltip-action-button-background, #4d4d4d);
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-panels {
  border-bottom: var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search {
  background: var(--jse-panel-background, #ebebeb);
  color: var(--jse-panel-color, var(--jse-text-color, #4d4d4d));
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search input {
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size-text-mode-search, 80%);
  color: var(--jse-input-color, var(--jse-text-color, #4d4d4d));
  border: var(--jse-input-border, 1px solid #d8dbdf);
  background: var(--jse-input-background, var(--jse-background-color, #fff));
  margin-right: 2px;
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search button {
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size-text-mode-search, 80%);
  color: var(--jse-panel-button-color, inherit);
  background: var(--jse-panel-button-background, transparent);
  border: none;
  cursor: pointer;
  text-transform: capitalize;
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);
  margin: 0;
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search button:hover {
  color: var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));
  background: var(--jse-panel-button-background-highlight, #e0e0e0);
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search label {
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size-text-mode-search, 80%);
  padding-left: var(--jse-padding, 10px);
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search label input {
  margin-right: 2px;
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search button[name="close"] {
  width: 32px;
  height: 32px;
  font-size: 24px;
  line-height: 24px;
  padding: 0;
  right: 0;
  top: -4px;
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-cursor-primary {
  border-color: var(--jse-text-color, #4d4d4d);
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .jse-loading-space:where(.svelte-xt61xw) {
  flex: 1;
}
.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .jse-loading:where(.svelte-xt61xw) {
  flex: 2;
  text-align: center;
  color: var(--jse-panel-color-readonly, #b2b2b2);
  box-sizing: border-box;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
}
.jse-text-mode.svelte-xt61xw .jse-contents.jse-preview:where(.svelte-xt61xw) {
  flex: 1;
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  color: var(--jse-panel-color-readonly, #b2b2b2);
  overflow: auto;
  white-space: pre-wrap;
  word-break: break-word;
  padding: 2px;
}`);var eZ=be('<!> <div class="jse-contents jse-preview svelte-xt61xw"> </div>',1),tZ=be("<!> <!> <!> <!>",1),nZ=be("<div></div> <!> <!>",1),rZ=be('<div class="jse-contents svelte-xt61xw"><div class="jse-loading-space svelte-xt61xw"></div> <div class="jse-loading svelte-xt61xw">loading...</div></div>'),iZ=be("<div><!> <!></div>");function sZ(t,e){Ct(e,!1);var n=Y(void 0,!0),r=Y(void 0,!0),i=C(e,"readOnly",9),s=C(e,"mainMenuBar",9),o=C(e,"statusBar",9),a=C(e,"askToFormat",9),l=C(e,"externalContent",9),f=C(e,"externalSelection",9),c=C(e,"history",9),d=C(e,"indentation",9),h=C(e,"tabSize",9),m=C(e,"escapeUnicodeCharacters",9),p=C(e,"parser",9),y=C(e,"validator",9),g=C(e,"validationParser",9),b=C(e,"onChange",9),v=C(e,"onChangeMode",9),x=C(e,"onSelect",9),j=C(e,"onUndo",9),w=C(e,"onRedo",9),k=C(e,"onError",9),S=C(e,"onFocus",9),M=C(e,"onBlur",9),E=C(e,"onRenderMenu",9),J=C(e,"onSortModal",9),W=C(e,"onTransformModal",9),z=fi("jsoneditor:TextMode"),K={key:"Mod-i",run:Ce,shift:Ve,preventDefault:!0},ue=typeof window>"u";z("isSSR:",ue);var ne,re=Y(void 0,!0),me=Y(void 0,!0),de=Y(void 0,!0),pe=Y(!1,!0),X=Y(a(),!0),$=Y([],!0),ie=new da,T=new da,A=new da,P=new da,se=new da,te=l(),q=Y(Wb(te,d(),p()),!0),ge=na.define(),V=null;function F(){if(!V||V.length===0)return!1;var xe=V[0].startState,ze=V[V.length-1].state,wt=V.map(gt=>gt.changes).reduce((gt,Qt)=>gt.compose(Qt)),zt={type:"text",undo:{changes:wt.invert(xe.doc).toJSON(),selection:Yt(xe.selection)},redo:{changes:wt.toJSON(),selection:Yt(ze.selection)}};return z("add history item",zt),c().add(zt),V=null,!0}var ee=Y(m(),!0);Pi(Lt(function*(){if(!ue)try{ne=function(xe){var{target:ze,initialText:wt,readOnly:zt,indentation:gt}=xe;z("Create CodeMirror editor",{readOnly:zt,indentation:gt});var Qt=function(Ht,Kt){return u0(Ht)?Ht.ranges.every(vt=>vt.anchor<Kt.length&&vt.head<Kt.length):!1}(f(),wt)?On(f()):void 0,wn=Tn.create({doc:wt,selection:Qt,extensions:[Lf.of([QF,K]),ie.of(Ye()),zW(),HB(),JB(),dB(),wq(),tB(),oB(),Tn.allowMultipleSelections.of(!0),aq(),XM(Cq,{fallback:!0}),Rq(),uW(),xW(),CB(),OB(),bB(),rU(),Lf.of([...hW,...YF,...kU,{key:"Mod-z",run:O,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:I,preventDefault:!0},{key:"Ctrl-Shift-z",run:I,preventDefault:!0},...vq,...oR,...OW]),QX,yG({hideFirstIndent:!0}),tt.domEventHandlers({dblclick:Me}),tt.updateListener.of(Ht=>{_(de,Ht.state),Ht.docChanged&&(Ht.transactions.some(Kt=>!!Kt.annotation(ge))||(V=[...V??[],Ht]),cn()),Ht.selectionSet&&mt()}),YR(),dU({top:!0}),tt.lineWrapping,T.of(Tn.readOnly.of(zt)),P.of(Tn.tabSize.of(h())),A.of(Zn(gt)),se.of(tt.theme({},{dark:Tt()}))]});return ne=new tt({state:wn,parent:ze}),Qt&&ne.dispatch(ne.state.update({selection:Qt.main,scrollIntoView:!0})),ne}({target:u(re),initialText:xn(u(q),u(pe))?"":u(n).escapeValue(u(q)),readOnly:i(),indentation:d()})}catch(xe){console.error(xe)}})),Ks(()=>{ot(),ne&&(z("Destroy CodeMirror editor"),ne.destroy())});var U=ol(),H=ol();function B(){ne&&(z("focus"),ne.focus())}var Te=!1;function lt(xe){return Ze(xe,!1)}function Ze(xe,ze){z("handlePatch",xe,ze);var wt=p().parse(u(q)),zt=oo(wt,xe),gt=jR(wt,xe);return Hn({text:p().stringify(zt,null,d())},ze,!1),{json:zt,previousJson:wt,undo:gt,redo:xe}}function Ce(){if(z("format"),i())return!1;try{var xe=p().parse(u(q));return Hn({text:p().stringify(xe,null,d())},!0,!1),_(X,a()),!0}catch(ze){k()(ze)}return!1}function Ve(){if(z("compact"),i())return!1;try{var xe=p().parse(u(q));return Hn({text:p().stringify(xe)},!0,!1),_(X,!1),!0}catch(ze){k()(ze)}return!1}function Ie(){if(z("repair"),!i())try{Hn({text:zo(u(q))},!0,!1),_(Dn,s0),_(Mn,void 0)}catch(xe){k()(xe)}}function pt(){var xe;if(!i())try{var ze=p().parse(u(q));Te=!0,J()({id:U,json:ze,rootPath:[],onSort:(xe=Lt(function*(wt){var{operations:zt}=wt;z("onSort",zt),Ze(zt,!0)}),function(wt){return xe.apply(this,arguments)}),onClose:()=>{Te=!1,B()}})}catch(wt){k()(wt)}}function bt(xe){var{id:ze,rootPath:wt,onTransform:zt,onClose:gt}=xe;try{var Qt=p().parse(u(q));Te=!0,W()({id:ze||H,json:Qt,rootPath:wt||[],onTransform:wn=>{zt?zt({operations:wn,json:Qt,transformedJson:oo(Qt,wn)}):(z("onTransform",wn),Ze(wn,!0))},onClose:()=>{Te=!1,B(),gt&&gt()}})}catch(wn){k()(wn)}}function nt(){i()||bt({rootPath:[]})}function Ne(){ne&&(u(re)&&u(re).querySelector(".cm-search")?Jy(ne):Gy(ne))}function O(){if(i())return!1;ot();var xe=c().undo();return z("undo",xe),zS(xe)?(ne.dispatch({annotations:ge.of("undo"),changes:si.fromJSON(xe.undo.changes),selection:Oe.fromJSON(xe.undo.selection),scrollIntoView:!0}),!0):(j()(xe),!1)}function I(){if(i())return!1;ot();var xe=c().redo();return z("redo",xe),zS(xe)?(ne.dispatch({annotations:ge.of("redo"),changes:si.fromJSON(xe.redo.changes),selection:Oe.fromJSON(xe.redo.selection),scrollIntoView:!0}),!0):(w()(xe),!1)}function D(){_(pe,!0),Hn(l(),!0,!0)}function ae(){v()(li.tree)}function he(){mn()}function ke(xe){z("select validation error",xe);var{from:ze,to:wt}=kt(xe);ze!==void 0&&wt!==void 0&&(oe(ze,wt),B())}function oe(xe,ze){z("setSelection",{anchor:xe,head:ze}),ne&&ne.dispatch(ne.state.update({selection:{anchor:xe,head:ze},scrollIntoView:!0}))}function Me(xe,ze){if(ze.state.selection.ranges.length===1){var wt=ze.state.selection.ranges[0],zt=u(q).slice(wt.from,wt.to);if(zt==="{"||zt==="["){var gt=Dj.parse(u(q)),Qt=Object.keys(gt.pointers).find(Ht=>{var Kt;return((Kt=gt.pointers[Ht].value)===null||Kt===void 0?void 0:Kt.pos)===wt.from}),wn=gt.pointers[Qt];Qt&&wn&&wn.value&&wn.valueEnd&&(z("pointer found, selecting inner contents of path:",Qt,wn),oe(wn.value.pos+1,wn.valueEnd.pos-1))}}}function Ye(){return PW(sr,{delay:300})}function Tt(){return!!u(re)&&getComputedStyle(u(re)).getPropertyValue("--jse-theme").includes("dark")}function kt(xe){var{path:ze,message:wt,severity:zt}=xe,{line:gt,column:Qt,from:wn,to:Ht}=function(Kt,vt){try{var yt=Dj.parse(Kt),Pn=jt(vt),Bt=yt.pointers[Pn];if(Bt)return{path:vt,line:Bt.key?Bt.key.line:Bt.value?Bt.value.line:0,column:Bt.key?Bt.key.column:Bt.value?Bt.value.column:0,from:Bt.key?Bt.key.pos:Bt.value?Bt.value.pos:0,to:Bt.keyEnd?Bt.keyEnd.pos:Bt.valueEnd?Bt.valueEnd.pos:0}}catch(Kn){console.error(Kn)}return{path:vt,line:0,column:0,from:0,to:0}}(u(n).escapeValue(u(q)),ze);return{path:ze,line:gt,column:Qt,from:wn,to:Ht,message:wt,severity:zt,actions:[]}}function Ee(xe,ze){var{line:wt,column:zt,position:gt,message:Qt}=xe;return{path:[],line:wt,column:zt,from:gt,to:gt,severity:lo.error,message:Qt,actions:ze&&!i()?[{name:"Auto repair",apply:()=>Ie()}]:void 0}}function It(xe){return{from:xe.from||0,to:xe.to||0,message:xe.message||"",actions:xe.actions,severity:xe.severity}}function Hn(xe,ze,wt){var zt=Wb(xe,d(),p()),gt=!ln(xe,te),Qt=te;z("setCodeMirrorContent",{isChanged:gt,emitChange:ze,forceUpdate:wt}),ne&&(gt||wt)&&(te=xe,_(q,zt),xn(u(q),u(pe))||ne.dispatch({changes:{from:0,to:ne.state.doc.length,insert:u(n).escapeValue(u(q))}}),F(),gt&&ze&&gn(te,Qt))}function On(xe){return u0(xe)?Oe.fromJSON(xe):void 0}function en(){return Vt.apply(this,arguments)}function Vt(){return Vt=Lt(function*(){z("refresh"),yield function(){return En.apply(this,arguments)}()}),Vt.apply(this,arguments)}function mn(){if(ne){var xe=ne?u(n).unescapeValue(ne.state.doc.toString()):"",ze=xe!==u(q);if(z("onChangeCodeMirrorValue",{isChanged:ze}),ze){var wt=te;_(q,xe),te={text:u(q)},F(),gn(te,wt),Nr(),mt()}}}function En(){return(En=Lt(function*(){if(Nr(),ne){var xe=Tt();return z("updateTheme",{dark:xe}),ne.dispatch({effects:[se.reconfigure(tt.theme({},{dark:xe}))]}),new Promise(ze=>setTimeout(ze))}return Promise.resolve()})).apply(this,arguments)}function Zn(xe){var ze=Ad.of(typeof xe=="number"?" ".repeat(xe):xe);return xe==="	"?[ze]:[ze,ZX]}Gx({onMount:Pi,onDestroy:Ks,getWindow:()=>Ld(u(me)),hasFocus:()=>Te&&document.hasFocus()||Mx(u(me)),onFocus:S(),onBlur:()=>{ot(),M()()}});var cn=Hl(mn,300);function ot(){cn.flush()}function gn(xe,ze){b()&&b()(xe,ze,{contentErrors:Sr(),patchResult:void 0})}function mt(){x()(Yt(u(de).selection))}function Yt(xe){return Le({type:rr.text},xe.toJSON())}function xn(xe,ze){return!!xe&&xe.length>TS&&!ze}var Dn=Y(s0,!0),Mn=Y(void 0,!0);function sr(){if(xn(u(q),u(pe)))return[];var xe=Sr();if(DS(xe)){var{parseError:ze,isRepairable:wt}=xe;return[It(Ee(ze,wt))]}return BJ(xe)?xe.validationErrors.map(kt).map(It):[]}function Sr(){z("validate:start"),ot();var xe=hi(u(n).escapeValue(u(q)),y(),p(),g());return DS(xe)?(_(Dn,xe.isRepairable?NS:"invalid"),_(Mn,xe.parseError),_($,[])):(_(Dn,s0),_(Mn,void 0),_($,(xe==null?void 0:xe.validationErrors)||[])),z("validate:end"),xe}var hi=Yf(GY);function Mr(){u(Mn)&&function(xe){z("select parse error",xe);var ze=Ee(xe,!1);oe(ze.from!=null?ze.from:0,ze.to!=null?ze.to:0),B()}(u(Mn))}var Yr={icon:_H,text:"Show me",title:"Move to the parse error location",onClick:Mr};fe(()=>G(m()),()=>{_(n,Ox({escapeControlCharacters:!1,escapeUnicodeCharacters:m()}))}),fe(()=>G(l()),()=>{Hn(l(),!1,!1)}),fe(()=>G(f()),()=>{(function(xe){if(u0(xe)){var ze=On(xe);!ne||!ze||u(de)&&u(de).selection.eq(ze)||(z("applyExternalSelection",ze),ne.dispatch({selection:ze}))}})(f())}),fe(()=>G(y()),()=>{(function(xe){z("updateLinter",xe),ne&&ne.dispatch({effects:ie.reconfigure(Ye())})})(y())}),fe(()=>G(d()),()=>{(function(xe){ne&&(z("updateIndentation",xe),ne.dispatch({effects:A.reconfigure(Zn(xe))}))})(d())}),fe(()=>G(h()),()=>{(function(xe){ne&&(z("updateTabSize",xe),ne.dispatch({effects:P.reconfigure(Tn.tabSize.of(xe))}))})(h())}),fe(()=>G(i()),()=>{(function(xe){ne&&(z("updateReadOnly",xe),ne.dispatch({effects:[T.reconfigure(Tn.readOnly.of(xe))]}))})(i())}),fe(()=>(u(ee),G(m())),()=>{u(ee)!==m()&&(_(ee,m()),z("forceUpdateText",{escapeUnicodeCharacters:m()}),ne&&ne.dispatch({changes:{from:0,to:ne.state.doc.length,insert:u(n).escapeValue(u(q))}}))}),fe(()=>(u(Dn),G(i()),fc),()=>{_(r,u(Dn)!==NS||i()?[Yr]:[{icon:fc,text:"Auto repair",title:"Automatically repair JSON",onClick:Ie},Yr])}),_n(),Mt(!0);var ti,Wr=iZ(),br=Q(Wr),Pr=xe=>{var ze=$e(()=>u(q).length===0),wt=$e(()=>!u(ze)),zt=$e(()=>!u(ze)),gt=$e(()=>!u(ze)),Qt=$e(()=>!u(ze));(function(wn,Ht){Ct(Ht,!1);var Kt=Y(void 0,!0),vt=C(Ht,"readOnly",9,!1),yt=C(Ht,"onFormat",9),Pn=C(Ht,"onCompact",9),Bt=C(Ht,"onSort",9),Kn=C(Ht,"onTransform",9),jn=C(Ht,"onToggleSearch",9),nn=C(Ht,"onUndo",9),Ln=C(Ht,"onRedo",9),rn=C(Ht,"canUndo",9),Rr=C(Ht,"canRedo",9),ce=C(Ht,"canFormat",9),je=C(Ht,"canCompact",9),Fe=C(Ht,"canSort",9),Ut=C(Ht,"canTransform",9),kn=C(Ht,"onRenderMenu",9),fn={type:"button",icon:Eg,title:"Search (Ctrl+F)",className:"jse-search",onClick:jn()},Gn=Y(void 0,!0);fe(()=>(G(vt()),G(yt()),G(ce()),G(Pn()),G(je()),G(Bt()),G(Fe()),G(Kn()),G(Ut()),G(nn()),G(rn()),G(Ln()),G(Rr())),()=>{_(Gn,vt()?[fn,{type:"space"}]:[{type:"button",icon:fC,title:"Format JSON: add proper indentation and new lines (Ctrl+I)",className:"jse-format",onClick:yt(),disabled:vt()||!ce()},{type:"button",icon:XQ,title:"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)",className:"jse-compact",onClick:Pn(),disabled:vt()||!je()},{type:"separator"},{type:"button",icon:bm,title:"Sort",className:"jse-sort",onClick:Bt(),disabled:vt()||!Fe()},{type:"button",icon:gm,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:Kn(),disabled:vt()||!Ut()},fn,{type:"separator"},{type:"button",icon:hx,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:nn(),disabled:!rn()},{type:"button",icon:dx,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:Ln(),disabled:!Rr()},{type:"space"}])}),fe(()=>(G(kn()),u(Gn)),()=>{_(Kt,kn()(u(Gn))||u(Gn))}),_n(),Mt(!0),Xg(wn,{get items(){return u(Kt)}}),_t()})(xe,{get readOnly(){return i()},onFormat:Ce,onCompact:Ve,onSort:pt,onTransform:nt,onToggleSearch:Ne,onUndo:O,onRedo:I,get canFormat(){return u(wt)},get canCompact(){return u(zt)},get canSort(){return u(gt)},get canTransform(){return u(Qt)},get canUndo(){return c().canUndo},get canRedo(){return c().canRedo},get onRenderMenu(){return E()}})};we(br,xe=>{s()&&xe(Pr)});var Pe=le(br,2),tn=xe=>{var ze,wt=nZ(),zt=$e(()=>xn(u(q),u(pe))),gt=st(wt);jr(gt,vt=>_(re,vt),()=>u(re));var Qt=le(gt,2),wn=vt=>{var yt=eZ(),Pn=st(yt),Bt=$e(()=>"The JSON document is larger than ".concat(mC(TS,1024),", ")+"and may crash your browser when loading it in text mode. Actual size: ".concat(mC(u(q).length,1024),"."));po(Pn,{icon:Xl,type:"error",get message(){return u(Bt)},actions:[{text:"Open anyway",title:"Open the document in text mode. This may freeze or crash your browser.",onClick:D},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:ae},{text:"Cancel",title:"Cancel opening this large document.",onClick:he}],onClose:B});var Kn=Q(le(Pn,2));qe(jn=>Rt(Kn,jn),[()=>td(u(q)||"",Kb)],$e),Z(vt,yt)};we(Qt,vt=>{u(zt)&&vt(wn)});var Ht=le(Qt,2),Kt=vt=>{var yt=tZ(),Pn=st(yt),Bt=rn=>{(function(Rr,ce){Ct(ce,!1);var je=C(ce,"editorState",8),Fe=Y(),Ut=Y(),kn=Y(),fn=Y(),Gn=Y();fe(()=>G(je()),()=>{var Ot;_(Fe,(Ot=je())===null||Ot===void 0||(Ot=Ot.selection)===null||Ot===void 0||(Ot=Ot.main)===null||Ot===void 0?void 0:Ot.head)}),fe(()=>(u(Fe),G(je())),()=>{var Ot;_(Ut,u(Fe)!==void 0?(Ot=je())===null||Ot===void 0||(Ot=Ot.doc)===null||Ot===void 0?void 0:Ot.lineAt(u(Fe)):void 0)}),fe(()=>u(Ut),()=>{_(kn,u(Ut)!==void 0?u(Ut).number:void 0)}),fe(()=>(u(Ut),u(Fe)),()=>{_(fn,u(Ut)!==void 0&&u(Fe)!==void 0?u(Fe)-u(Ut).from+1:void 0)}),fe(()=>G(je()),()=>{var Ot;_(Gn,(Ot=je())===null||Ot===void 0||(Ot=Ot.selection)===null||Ot===void 0||(Ot=Ot.ranges)===null||Ot===void 0?void 0:Ot.reduce((Rn,zn)=>Rn+zn.to-zn.from,0))}),_n(),Mt();var pr=YX(),er=Q(pr),Dr=Ot=>{var Rn=KX(),zn=Q(Rn);qe(()=>{var mr;return Rt(zn,"Line: ".concat((mr=u(kn))!==null&&mr!==void 0?mr:""))}),Z(Ot,Rn)};we(er,Ot=>{u(kn)!==void 0&&Ot(Dr)});var it=le(er,2),ur=Ot=>{var Rn=GX(),zn=Q(Rn);qe(()=>{var mr;return Rt(zn,"Column: ".concat((mr=u(fn))!==null&&mr!==void 0?mr:""))}),Z(Ot,Rn)};we(it,Ot=>{u(fn)!==void 0&&Ot(ur)});var sn=le(it,2),pi=Ot=>{var Rn=JX(),zn=Q(Rn);qe(()=>{var mr;return Rt(zn,"Selection: ".concat((mr=u(Gn))!==null&&mr!==void 0?mr:""," characters"))}),Z(Ot,Rn)};we(sn,Ot=>{u(Gn)!==void 0&&u(Gn)>0&&Ot(pi)}),Z(Rr,pr),_t()})(rn,{get editorState(){return u(de)}})};we(Pn,rn=>{o()&&rn(Bt)});var Kn=le(Pn,2),jn=rn=>{po(rn,{type:"error",icon:Xl,get message(){return u(Mn).message},get actions(){return u(r)},onClick:Mr,onClose:B})};we(Kn,rn=>{u(Mn)&&rn(jn)});var nn=le(Kn,2),Ln=rn=>{po(rn,{type:"success",message:"Do you want to format the JSON?",actions:[{icon:fC,text:"Format",title:"Format JSON: add proper indentation and new lines (Ctrl+I)",onClick:Ce},{icon:Mg,text:"No thanks",title:"Close this message",onClick:()=>_(X,!1)}],onClose:B})};we(nn,rn=>{var Rr,ce;!u(Mn)&&u(X)&&(Rr=u(q),!(ce=Rr.substring(0,999).trim()).includes(`
`)&&fJ.test(ce))&&rn(Ln)}),Jx(le(nn,2),{get validationErrors(){return u($)},selectError:ke}),Z(vt,yt)};we(Ht,vt=>{u(zt)||vt(Kt)}),qe(()=>ze=qt(gt,1,"jse-contents svelte-xt61xw",null,ze,{"jse-hidden":u(zt)})),Z(xe,wt)},hr=xe=>{Z(xe,rZ())};return we(Pe,xe=>{ue?xe(hr,!1):xe(tn)}),jr(Wr,xe=>_(me,xe),()=>u(me)),qe(()=>ti=qt(Wr,1,"jse-text-mode svelte-xt61xw",null,ti,{"no-main-menu":!s()})),Z(t,Wr),Dt(e,"focus",B),Dt(e,"patch",lt),Dt(e,"handlePatch",Ze),Dt(e,"openTransformModal",bt),Dt(e,"refresh",en),Dt(e,"flush",ot),Dt(e,"validate",Sr),_t({focus:B,patch:lt,handlePatch:Ze,openTransformModal:bt,refresh:en,flush:ot,validate:Sr})}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-inline-value.svelte-h57m0p {
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  line-height: var(--jse-line-height, calc(1em + 4px));
  border: none;
  padding: 0 calc(0.5 * var(--jse-padding, 10px));
  background: transparent;
  color: inherit;
  cursor: inherit;
}
.jse-inline-value.jse-highlight.svelte-h57m0p {
  background-color: var(--jse-search-match-color, #ffe665);
  outline: var(--jse-search-match-outline, none);
}
.jse-inline-value.jse-highlight.jse-active.svelte-h57m0p {
  background-color: var(--jse-search-match-active-color, var(--jse-search-match-color, #ffe665));
  outline: var(--jse-search-match-outline, 2px solid #e0be00);
}`);var oZ=be('<button type="button"> </button>');Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-column-header.svelte-2i3vdx {
  background: none;
  border: none;
  font-family: inherit;
  font-size: inherit;
  color: inherit;
  display: flex;
  gap: var(--jse-padding, 10px);
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px)) calc(0.5 * var(--jse-padding, 10px));
  width: 100%;
}
.jse-column-header.svelte-2i3vdx:hover {
  background: var(--jse-table-header-background-highlight, #e8e8e8);
}
.jse-column-header.svelte-2i3vdx:not(.jse-column-header.jse-readonly) {
  cursor: pointer;
}
.jse-column-header.svelte-2i3vdx span.jse-column-sort-icon:where(.svelte-2i3vdx) {
  height: 1em;
}`);var aZ=be('<span class="jse-column-sort-icon svelte-2i3vdx"><!></span>'),lZ=be('<button type="button"><span class="jse-column-name"> </span> <!></button>');Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-table-mode-welcome.svelte-1q0ce0e {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: auto;
  align-items: center;
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-table-mode-welcome.svelte-1q0ce0e:last-child {
  border-bottom: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-table-mode-welcome.svelte-1q0ce0e .jse-space.jse-before:where(.svelte-1q0ce0e) {
  flex: 1;
}
.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) {
  display: flex;
  flex-direction: column;
  gap: var(--jse-padding, 10px);
  max-width: 300px;
  margin: 2em var(--jse-padding, 10px);
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
}
.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) .jse-nested-arrays-info:where(.svelte-1q0ce0e) {
  color: var(--jse-panel-color-readonly, #b2b2b2);
}
.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) button.jse-nested-array-action:where(.svelte-1q0ce0e) {
  text-align: left;
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));
  color: var(--jse-button-primary-color, #fff);
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  border-radius: 3px;
}
.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) button.jse-nested-array-action:where(.svelte-1q0ce0e):hover {
  background: var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff));
}
.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) button.jse-nested-array-action:where(.svelte-1q0ce0e):disabled {
  background: var(--jse-button-primary-background-disabled, #9d9d9d);
}
.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) button.jse-nested-array-action:where(.svelte-1q0ce0e) .jse-nested-array-count:where(.svelte-1q0ce0e) {
  opacity: 0.5;
  white-space: nowrap;
}
.jse-table-mode-welcome.svelte-1q0ce0e .jse-space.jse-after:where(.svelte-1q0ce0e) {
  flex: 2;
}`);var uZ=be("You can open the document in tree mode instead, or paste a JSON Array using <b>Ctrl+V</b>.",1),cZ=be('<button type="button" class="jse-nested-array-action svelte-1q0ce0e"> <span class="jse-nested-array-count svelte-1q0ce0e"> </span></button>'),fZ=be('<div class="jse-table-mode-welcome svelte-1q0ce0e" role="none"><div class="jse-space jse-before svelte-1q0ce0e"></div> <div class="jse-nested-arrays svelte-1q0ce0e"><div class="jse-nested-arrays-title"> </div> <div class="jse-nested-arrays-info svelte-1q0ce0e"><!> <!></div> <!> <button type="button" class="jse-nested-array-action svelte-1q0ce0e"> </button></div> <div class="jse-space jse-after svelte-1q0ce0e"></div></div>');function dZ(t,e){Ct(e,!1);var n=Y(void 0,!0),r=Y(void 0,!0),i=Y(void 0,!0),s=Y(void 0,!0),o=C(e,"text",9),a=C(e,"json",9),l=C(e,"readOnly",9),f=C(e,"parser",9),c=C(e,"openJSONEditorModal",9),d=C(e,"onChangeMode",9),h=C(e,"onClick",9),m=Y(void 0,!0);fe(()=>G(l()),()=>{_(n,l()?"View":"Edit")}),fe(()=>(G(a()),pC),()=>{_(m,a()?pC(a()).slice(0,99).filter(z=>z.length>0):[])}),fe(()=>u(m),()=>{_(r,!Yn(u(m)))}),fe(()=>(G(a()),G(o())),()=>{_(i,a()===void 0&&(o()===""||o()===void 0))}),fe(()=>(u(r),u(i),G(a()),G(f())),()=>{_(s,u(r)?"Object with nested arrays":u(i)?"An empty document":Zr(a())?"An object":Fr(a())?"An empty array":"A ".concat(Ax(a(),f())))}),_n(),Mt(!0);var p=fZ(),y=le(Q(p),2),g=Q(y),b=Q(g),v=le(g,2),x=Q(v),j=z=>{Z(z,Bi(`An object cannot be opened in table mode. You can open a nested array instead, or open the
        document in tree mode.`))},w=z=>{var K=Bi();qe(()=>{var ue;return Rt(K,"".concat((ue=u(s))!==null&&ue!==void 0?ue:""," cannot be opened in table mode."))}),Z(z,K)};we(x,z=>{u(r)?z(j):z(w,!1)});var k=le(x,2),S=z=>{Z(z,uZ())},M=z=>{Z(z,Bi("You can open the document in tree mode instead."))};we(k,z=>{u(i)&&!l()?z(S):z(M,!1)});var E=le(v,2);Ur(E,1,()=>u(m),ei,(z,K)=>{var ue=cZ(),ne=$e(()=>function(de){return rt(a(),de).length}(u(K))),re=Q(ue),me=Q(le(re));qe(de=>{var pe,X,$;Rt(re,"".concat((pe=u(n))!==null&&pe!==void 0?pe:"",' "').concat(de??"",'" ')),Rt(me,"(".concat((X=u(ne))!==null&&X!==void 0?X:""," ").concat(($=u(ne)!==1?"items":"item")!==null&&$!==void 0?$:"",")"))},[()=>so(u(K))],$e),Ae("click",ue,()=>c()(u(K))),Z(z,ue)});var J=le(E,2),W=Q(J);qe(()=>{var z;Rt(b,u(s)),Rt(W,"".concat((z=u(n))!==null&&z!==void 0?z:""," in tree mode"))}),Ae("click",J,()=>d()(li.tree)),Ae("click",p,()=>h()()),Z(t,p),_t()}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-column-header.svelte-fzj761 {
  background: none;
  border: none;
  font-family: inherit;
  font-size: inherit;
  color: inherit;
  display: flex;
  gap: var(--jse-padding, 10px);
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px)) calc(0.5 * var(--jse-padding, 10px));
  width: 100%;
}
.jse-column-header.svelte-fzj761:hover {
  background: var(--jse-table-header-background-highlight, #e8e8e8);
}
.jse-column-header.svelte-fzj761:not(.jse-column-header.jse-readonly) {
  cursor: pointer;
}`);var hZ=be('<button type="button"><!></button>');Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-table-mode.svelte-u14cgx {
  flex: 1;
  display: flex;
  flex-direction: column;
  position: relative;
  background: var(--jse-background-color, #fff);
  min-width: 0;
  min-height: 0;
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  color: var(--jse-text-color, #4d4d4d);
  line-height: var(--jse-line-height, calc(1em + 4px));
}
.jse-table-mode.no-main-menu.svelte-u14cgx {
  border-top: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-table-mode.svelte-u14cgx .jse-search-box-container:where(.svelte-u14cgx) {
  position: relative;
  height: 0;
  top: calc(var(--jse-line-height, calc(1em + 4px)) + 2 * var(--jse-padding, 10px));
  margin-right: calc(var(--jse-padding, 10px) + 20px);
  margin-left: var(--jse-padding, 10px);
  text-align: right;
  z-index: 3;
}
.jse-table-mode.svelte-u14cgx .jse-hidden-input-label:where(.svelte-u14cgx) {
  position: fixed;
  right: 0;
  top: 0;
  width: 0;
  height: 0;
}
.jse-table-mode.svelte-u14cgx .jse-hidden-input-label:where(.svelte-u14cgx) .jse-hidden-input:where(.svelte-u14cgx) {
  width: 0;
  height: 0;
  padding: 0;
  border: 0;
  outline: none;
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) {
  flex: 1;
  align-items: flex-start;
  flex-direction: column;
  display: flex;
  overflow: auto;
  overflow-anchor: none;
  scrollbar-gutter: stable;
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx):last-child {
  border-bottom: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) {
  border-collapse: collapse;
  border-spacing: 0;
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-invisible-start-section:where(.svelte-u14cgx) td:where(.svelte-u14cgx),
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-invisible-end-section:where(.svelte-u14cgx) td:where(.svelte-u14cgx) {
  margin: 0;
  padding: 0;
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-search-box-background:where(.svelte-u14cgx) {
  background: var(--jse-table-header-background, #f5f5f5);
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-invisible-end-section:where(.svelte-u14cgx) td:where(.svelte-u14cgx) {
  padding-bottom: var(--jse-padding, 10px);
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx):hover {
  background-color: var(--jse-table-row-odd-background, rgba(0, 0, 0, 0.05));
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell:where(.svelte-u14cgx) {
  padding: 0 var(--jse-padding, 10px) 0 0;
  vertical-align: top;
  white-space: nowrap;
  height: var(--jse-line-height, calc(1em + 4px));
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell.jse-table-cell-header:where(.svelte-u14cgx), .jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell.jse-table-cell-gutter:where(.svelte-u14cgx) {
  font-weight: normal;
  text-align: left;
  color: var(--jse-text-readonly, #8d8d8d);
  background: var(--jse-table-header-background, #f5f5f5);
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell.jse-table-cell-header:where(.svelte-u14cgx) {
  padding: 0;
  position: sticky;
  top: 0;
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell.jse-table-cell-header:where(.svelte-u14cgx) .jse-table-root-error:where(.svelte-u14cgx) {
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px)) calc(0.5 * var(--jse-padding, 10px));
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell.jse-table-cell-gutter:where(.svelte-u14cgx) {
  padding: 0 var(--jse-padding, 10px) 0 calc(0.5 * var(--jse-padding, 10px));
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell:where(.svelte-u14cgx) .jse-value-outer:where(.svelte-u14cgx) {
  display: inline-block;
  cursor: var(--jse-contents-cursor, pointer);
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell:where(.svelte-u14cgx) .jse-value-outer:where(.svelte-u14cgx):hover {
  background: var(--jse-hover-background-color, rgba(0, 0, 0, 0.06));
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell:where(.svelte-u14cgx) .jse-value-outer.jse-selected-value:where(.svelte-u14cgx) {
  background: var(--jse-selection-background-color, #d3d3d3);
}
.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell:where(.svelte-u14cgx) .jse-context-menu-anchor:where(.svelte-u14cgx) {
  display: inline-flex;
  position: relative;
  vertical-align: top;
}
.jse-table-mode.svelte-u14cgx .jse-contents.jse-contents-loading:where(.svelte-u14cgx) {
  align-items: unset;
}
.jse-table-mode.svelte-u14cgx .jse-contents.jse-contents-loading:where(.svelte-u14cgx) .jse-loading-space:where(.svelte-u14cgx) {
  flex: 1;
}
.jse-table-mode.svelte-u14cgx .jse-contents.jse-contents-loading:where(.svelte-u14cgx) .jse-loading:where(.svelte-u14cgx) {
  flex: 2;
  text-align: center;
  color: var(--jse-panel-color-readonly, #b2b2b2);
  box-sizing: border-box;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
}`);var pZ=be('<div class="jse-table-root-error svelte-u14cgx"><!></div>'),mZ=be('<th class="jse-table-cell jse-table-cell-header svelte-u14cgx"><!></th>'),gZ=be('<th class="jse-table-cell jse-table-cell-header svelte-u14cgx"><!></th>'),vZ=be('<th class="jse-table-cell jse-table-cell-gutter svelte-u14cgx"> <!></th>'),bZ=be('<div class="jse-context-menu-anchor svelte-u14cgx"><!></div>'),yZ=be('<td class="jse-table-cell svelte-u14cgx"><div><!><!></div> <!></td>'),xZ=be('<td class="jse-table-cell svelte-u14cgx"></td>'),wZ=be('<tr class="jse-table-row svelte-u14cgx"><!><!><!></tr>'),jZ=be('<div class="jse-search-box-container svelte-u14cgx"><!></div> <div class="jse-contents svelte-u14cgx"><table class="jse-table-main svelte-u14cgx"><tbody><tr class="jse-table-row jse-table-row-header svelte-u14cgx"><th class="jse-table-cell jse-table-cell-header svelte-u14cgx"><!></th><!><!></tr><tr><td class="svelte-u14cgx"></td></tr><!><tr class="jse-table-invisible-end-section svelte-u14cgx"><td class="svelte-u14cgx"></td></tr></tbody></table></div> <!> <!> <!>',1),kZ=be("<!> <!>",1),SZ=be('<label class="jse-hidden-input-label svelte-u14cgx"><input type="text" tabindex="-1" class="jse-hidden-input svelte-u14cgx"></label> <!>',1),CZ=be('<div class="jse-contents jse-contents-loading svelte-u14cgx"><div class="jse-loading-space svelte-u14cgx"></div> <div class="jse-loading svelte-u14cgx">loading...</div></div>'),_Z=be('<div role="table"><!> <!></div> <!> <!>',1);function AZ(t,e){Ct(e,!1);var n=Y(void 0,!0),r=Y(void 0,!0),i=Y(void 0,!0),s=fi("jsoneditor:TableMode"),{openAbsolutePopup:o,closeAbsolutePopup:a}=Cl("absolute-popup"),l=x5(),f=ol(),c=ol(),d=typeof window>"u";s("isSSR:",d);var h=C(e,"readOnly",9),m=C(e,"externalContent",9),p=C(e,"externalSelection",9),y=C(e,"history",9),g=C(e,"mainMenuBar",9),b=C(e,"escapeControlCharacters",9),v=C(e,"escapeUnicodeCharacters",9),x=C(e,"flattenColumns",9),j=C(e,"parser",9),w=C(e,"parseMemoizeOne",9),k=C(e,"validator",9),S=C(e,"validationParser",9),M=C(e,"indentation",9),E=C(e,"onChange",9),J=C(e,"onChangeMode",9),W=C(e,"onSelect",9),z=C(e,"onUndo",9),K=C(e,"onRedo",9),ue=C(e,"onRenderValue",9),ne=C(e,"onRenderMenu",9),re=C(e,"onRenderContextMenu",9),me=C(e,"onFocus",9),de=C(e,"onBlur",9),pe=C(e,"onSortModal",9),X=C(e,"onTransformModal",9),$=C(e,"onJSONEditorModal",9),ie=Y(void 0,!0),T=Y(void 0,!0),A=Y(void 0,!0),P=Y(void 0,!0),se=Y(void 0,!0);Gx({onMount:Pi,onDestroy:Ks,getWindow:()=>Ld(u(T)),hasFocus:()=>pt&&document.hasFocus()||Mx(u(T)),onFocus:()=>{bt=!0,me()&&me()()},onBlur:()=>{bt=!1,de()&&de()()}});var te,q=Y(void 0,!0),ge=Y(void 0,!0),V=Y(void 0,!0),F=Y(void 0,!0),ee=Y(void 0,!0),U=Y(!1,!0),H=Y(!1,!0);function B(L){_(ee,(te=L)?a5(u(q),te.items):void 0)}function Te(L){return lt.apply(this,arguments)}function lt(){return(lt=Lt(function*(L){_(oe,void 0),yield xn(L)})).apply(this,arguments)}function Ze(){_(U,!1),_(H,!1),ot()}var Ce=Y(1e4,!0),Ve=Y([],!0),Ie=Y(void 0,!0),pt=!1,bt=!1,nt=Y(!1,!0),Ne=Y({},!0),O=Y(600,!0),I=Y(0,!0),D=18;function ae(L){_(oe,L)}function he(L){u(oe)&&L!==void 0&&(Is(L,Ul(u(oe)))&&Is(L,dt(u(oe)))||(s("clearing selection: path does not exist anymore",u(oe)),_(oe,void 0)))}var ke=Y(u(q)!==void 0?Jb({json:u(q)}):void 0,!0),oe=Y(sd(p())?p():void 0,!0),Me=Y(void 0,!0),Ye=Y(!1,!0);function Tt(L){if(!h()){s("onSortByHeader",L);var ye=L.sortDirection===eo.desc?-1:1;mn(C5(u(q),[],L.path,ye),(Re,De)=>({state:De,sortedColumn:L}))}}Pi(()=>{u(oe)&&Mn(dt(u(oe)))});var kt=Y(void 0,!0);function Ee(L){if(L.json!==void 0||L.text!==void 0){var ye=u(q)!==void 0&&L.json!==void 0;y().add({type:"tree",undo:{patch:ye?[{op:"replace",path:"",value:L.json}]:void 0,json:L.json,text:L.text,documentState:L.documentState,textIsRepaired:L.textIsRepaired,selection:Ro(L.selection),sortedColumn:L.sortedColumn},redo:{patch:ye?[{op:"replace",path:"",value:u(q)}]:void 0,json:u(q),text:u(ge),documentState:u(ke),textIsRepaired:u(Ye),selection:Ro(u(oe)),sortedColumn:u(Me)}})}}var It=Y([],!0),Hn=Yf(w5);function On(L,ye,Re,De){Bu(()=>{var Be;try{Be=Hn(L,ye,Re,De)}catch(Qe){Be=[{path:[],message:"Failed to validate: "+Qe.message,severity:lo.warning}]}ln(Be,u(It))||(s("validationErrors changed:",Be),_(It,Be))},Be=>s("validationErrors updated in ".concat(Be," ms")))}function en(){return s("validate"),u(V)?{parseError:u(V),isRepairable:!1}:(On(u(q),k(),j(),S()),Yn(u(It))?void 0:{validationErrors:u(It)})}function Vt(L,ye){if(s("patch",L,ye),u(q)===void 0)throw new Error("Cannot apply patch: no JSON");var Re=u(q),De={json:void 0,text:u(ge),documentState:u(ke),selection:Ro(u(oe)),sortedColumn:u(Me),textIsRepaired:u(Ye)},Be=o5(u(q),L),Qe=JT(u(q),u(ke),L),Ke=wX(u(Me),L,u(Ve)),ft=typeof ye=="function"?ye(Qe.json,Qe.documentState,u(oe)):void 0;return _(q,(ft==null?void 0:ft.json)!==void 0?ft.json:Qe.json),_(ke,(ft==null?void 0:ft.state)!==void 0?ft.state:Qe.documentState),_(oe,(ft==null?void 0:ft.selection)!==void 0?ft.selection:u(oe)),_(Me,(ft==null?void 0:ft.sortedColumn)!==void 0?ft.sortedColumn:Ke),_(ge,void 0),_(Ye,!1),_(F,void 0),_(V,void 0),y().add({type:"tree",undo:Le({patch:Be},De),redo:{patch:L,json:void 0,text:void 0,documentState:u(ke),selection:Ro(u(oe)),sortedColumn:u(Me),textIsRepaired:u(Ye)}}),{json:u(q),previousJson:Re,undo:Be,redo:L}}function mn(L,ye){s("handlePatch",L,ye);var Re={json:u(q),text:u(ge)},De=Vt(L,ye);return En(Re,De),De}function En(L,ye){if((L.json!==void 0||(L==null?void 0:L.text)!==void 0)&&E()){if(u(ge)!==void 0){var Re={text:u(ge),json:void 0};E()(Re,L,{contentErrors:en(),patchResult:ye})}else if(u(q)!==void 0){var De={text:void 0,json:u(q)};E()(De,L,{contentErrors:en(),patchResult:ye})}}}function Zn(L){s("pasted json as text",L),_(F,L)}function cn(L){var ye=parseInt(L[0],10),Re=[String(ye+1),...L.slice(1)];return Is(u(q),Re)?dn(Re):dn(L)}function ot(){s("focus"),u(P)&&(u(P).focus(),u(P).select())}function gn(L){_(I,L.target.scrollTop)}function mt(){u(oe)||_(oe,function(){if(Fr(u(q))&&!Yn(u(q))&&!Yn(u(Ve)))return dn(["0",...u(Ve)[0]])}())}function Yt(){if(u(Ye)&&u(q)!==void 0){var L={json:u(q),text:u(ge)},ye={json:u(q),documentState:u(ke),selection:u(oe),sortedColumn:u(Me),text:u(ge),textIsRepaired:u(Ye)};_(ge,void 0),_(Ye,!1),he(u(q)),Ee(ye),En(L,void 0)}return{json:u(q),text:u(ge)}}function xn(L){var ye=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Re=u(U)?vf:0,De=hC(L,u(Ve),Ne,D),Be=De-u(I)+Re+D,Qe=sr(L);if(s("scrollTo",{path:L,top:De,scrollTop:u(I),elem:Qe}),!u(A))return Promise.resolve();var Ke=u(A).getBoundingClientRect();if(Qe&&!ye){var ft=Qe.getBoundingClientRect();if(ft.bottom>Ke.top&&ft.top<Ke.bottom)return Promise.resolve()}var Ft=-Math.max(Re+2*D,Ke.height/4);return new Promise(Qe?vn=>{l(Qe,{container:u(A),offset:Ft,duration:300,callback:()=>{Dn(L),vn()}})}:vn=>{l(Be,{container:u(A),offset:Ft,duration:300,callback:()=>{Nr(),Dn(L),vn()}})})}function Dn(L){var ye=sr(L);if(ye&&u(A)){var Re=u(A).getBoundingClientRect(),De=ye.getBoundingClientRect();if(De.right>Re.right){var Be=De.right-Re.right;xs(A,u(A).scrollLeft+=Be)}if(De.left<Re.left){var Qe=Re.left-De.left;xs(A,u(A).scrollLeft-=Qe)}}}function Mn(L){(function(ye){if(u(A)){var{rowIndex:Re}=Ms(ye,u(Ve)),De=hC(ye,u(Ve),Ne,D),Be=De+(Ne[Re]||D),Qe=D,Ke=u(A).getBoundingClientRect(),ft=u(I),Ft=u(I)+Ke.height-Qe;if(Be>Ft){var vn=Be-Ft;xs(A,u(A).scrollTop+=vn)}if(De<ft){var bn=ft-De;xs(A,u(A).scrollTop-=bn)}}})(L),Dn(L)}function sr(L){var ye,Re,De=u(Ve).find(Qe=>Aa(L.slice(1),Qe)),Be=De?L.slice(0,1).concat(De):L;return(ye=(Re=u(A))===null||Re===void 0?void 0:Re.querySelector('td[data-path="'.concat(Vb(Be),'"]')))!==null&&ye!==void 0?ye:void 0}function Sr(L){var ye,{anchor:Re,left:De,top:Be,width:Qe,height:Ke,offsetTop:ft,offsetLeft:Ft,showTip:vn}=L,bn=function(ve){var{json:_e,documentState:et,selection:He,readOnly:Ue,onEditValue:We,onEditRow:ct,onToggleEnforceString:At,onCut:Cn,onCopy:an,onPaste:tr,onRemove:Pt,onDuplicateRow:Lr,onInsertBeforeRow:or,onInsertAfterRow:Cr,onRemoveRow:St}=ve,Je=_e!==void 0,Wt=!!He,Vr=_e!==void 0&&He?rt(_e,dt(He)):void 0,Jn=Je&&(xr(He)||ui(He)||Qn(He)),Bn=!Ue&&Je&&He!==void 0&&Pm(He),cr=Bn&&!Xr(Vr),Qr=!Ue&&Jn,Gt=He!==void 0&&wa(_e,et,dt(He));return[{type:"separator"},{type:"row",items:[{type:"column",items:[{type:"label",text:"Table cell:"},{type:"dropdown-button",main:{type:"button",onClick:()=>We(),icon:Yu,text:"Edit",title:"Edit the value (Double-click on the value)",disabled:!Bn},width:"11em",items:[{type:"button",icon:Yu,text:"Edit",title:"Edit the value (Double-click on the value)",onClick:()=>We(),disabled:!Bn},{type:"button",icon:Gt?DR:zR,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:()=>At(),disabled:!cr}]},{type:"dropdown-button",main:{type:"button",onClick:()=>Cn(!0),icon:Ju,text:"Cut",title:"Cut selected contents, formatted with indentation (Ctrl+X)",disabled:!Qr},width:"10em",items:[{type:"button",icon:Ju,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:()=>Cn(!0),disabled:Ue||!Jn},{type:"button",icon:Ju,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:()=>Cn(!1),disabled:Ue||!Jn}]},{type:"dropdown-button",main:{type:"button",onClick:()=>an(!0),icon:Ha,text:"Copy",title:"Copy selected contents, formatted with indentation (Ctrl+C)",disabled:!Jn},width:"12em",items:[{type:"button",icon:Ha,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:()=>an(!1),disabled:!Jn},{type:"button",icon:Ha,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:()=>an(!1),disabled:!Jn}]},{type:"button",onClick:()=>tr(),icon:IR,text:"Paste",title:"Paste clipboard contents (Ctrl+V)",disabled:Ue||!Wt},{type:"button",onClick:()=>Pt(),icon:Tb,text:"Remove",title:"Remove selected contents (Delete)",disabled:Ue||!Jn}]},{type:"column",items:[{type:"label",text:"Table row:"},{type:"button",onClick:()=>ct(),icon:Yu,text:"Edit row",title:"Edit the current row",disabled:Ue||!Wt||!Je},{type:"button",onClick:()=>Lr(),icon:FR,text:"Duplicate row",title:"Duplicate the current row (Ctrl+D)",disabled:Ue||!Wt||!Je},{type:"button",onClick:()=>or(),icon:Iu,text:"Insert before",title:"Insert a row before the current row",disabled:Ue||!Wt||!Je},{type:"button",onClick:()=>Cr(),icon:Iu,text:"Insert after",title:"Insert a row after the current row",disabled:Ue||!Wt||!Je},{type:"button",onClick:()=>St(),icon:Tb,text:"Remove row",title:"Remove current row",disabled:Ue||!Wt||!Je}]}]}]}({json:u(q),documentState:u(ke),selection:u(oe),readOnly:h(),onEditValue:Yr,onEditRow:ti,onToggleEnforceString:Wr,onCut:ze,onCopy:zt,onPaste:Pe,onRemove:Qt,onDuplicateRow:wn,onInsertBeforeRow:Ht,onInsertAfterRow:Kt,onRemoveRow:vt}),Fn=(ye=re()(bn))!==null&&ye!==void 0?ye:bn;if(Fn!==!1){var Un={left:De,top:Be,offsetTop:ft,offsetLeft:Ft,width:Qe,height:Ke,anchor:Re,closeOnOuterClick:!0,onClose:()=>{pt=!1,ot()}};pt=!0;var N=o(N5,{tip:vn?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0,items:Fn,onRequestClose(){a(N),ot()}},Un)}}function hi(L){if(!Ji(u(oe)))if(L&&(L.stopPropagation(),L.preventDefault()),L&&L.type==="contextmenu"&&L.target!==u(P))Sr({left:L.clientX,top:L.clientY,width:ma,height:pa,showTip:!1});else{var ye,Re=(ye=u(A))===null||ye===void 0?void 0:ye.querySelector(".jse-table-cell.jse-selected-value");if(Re)Sr({anchor:Re,offsetTop:2,width:ma,height:pa,showTip:!1});else{var De,Be=(De=u(A))===null||De===void 0?void 0:De.getBoundingClientRect();Be&&Sr({top:Be.top+2,left:Be.left+2,width:ma,height:pa,showTip:!1})}}}function Mr(L){Sr({anchor:WT(L.target,"BUTTON"),offsetTop:0,width:ma,height:pa,showTip:!0})}function Yr(){if(!h()&&u(oe)){var L=dt(u(oe));Xr(rt(u(q),L))?rn(L):_(oe,dn(L))}}function ti(){!h()&&u(oe)&&rn(dt(u(oe)).slice(0,1))}function Wr(){if(!h()&&Qn(u(oe))){var L=u(oe).path,ye=jt(L),Re=rt(u(q),L),De=!wa(u(q),u(ke),L),Be=De?String(Re):Dc(String(Re),j());s("handleToggleEnforceString",{enforceString:De,value:Re,updatedValue:Be}),mn([{op:"replace",path:ye,value:Be}],(Qe,Ke)=>({state:Hg(u(q),Ke,L,{type:"value",enforceString:De})}))}}function br(){return Pr.apply(this,arguments)}function Pr(){return(Pr=Lt(function*(){if(s("apply pasted json",u(F)),u(F)){var{onPasteAsJson:L}=u(F);L(),setTimeout(ot)}})).apply(this,arguments)}function Pe(){return tn.apply(this,arguments)}function tn(){return(tn=Lt(function*(){try{Bt(yield navigator.clipboard.readText())}catch(L){console.error(L),_(nt,!0)}})).apply(this,arguments)}function hr(){s("clear pasted json"),_(F,void 0),ot()}function xe(){J()(li.text)}function ze(L){return wt.apply(this,arguments)}function wt(){return(wt=Lt(function*(L){yield E5({json:u(q),selection:u(oe),indentation:L?M():void 0,readOnly:h(),parser:j(),onPatch:mn})})).apply(this,arguments)}function zt(){return gt.apply(this,arguments)}function gt(){return gt=Lt(function*(){var L=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];u(q)!==void 0&&(yield M5({json:u(q),selection:u(oe),indentation:L?M():void 0,parser:j()}))}),gt.apply(this,arguments)}function Qt(){R5({json:u(q),text:u(ge),selection:u(oe),keepSelection:!0,readOnly:h(),onChange:E(),onPatch:mn})}function wn(){(function(L){var{json:ye,selection:Re,columns:De,readOnly:Be,onPatch:Qe}=L;if(!Be&&ye!==void 0&&Re&&Lu(Re)){var{rowIndex:Ke,columnIndex:ft}=Ms(dt(Re),De);Di("duplicate row",{rowIndex:Ke});var Ft=[String(Ke)];Qe(r5(ye,[Ft]),(vn,bn)=>({state:bn,selection:dn($l({rowIndex:Ke<ye.length?Ke+1:Ke,columnIndex:ft},De))}))}})({json:u(q),selection:u(oe),columns:u(Ve),readOnly:h(),onPatch:mn})}function Ht(){(function(L){var{json:ye,selection:Re,columns:De,readOnly:Be,onPatch:Qe}=L;if(!Be&&ye!==void 0&&Re&&Lu(Re)){var{rowIndex:Ke}=Ms(dt(Re),De);Di("insert before row",{rowIndex:Ke}),Qe(zu(ye,[String(Ke)],[{key:"",value:Zr(ye[0])?{}:""}]))}})({json:u(q),selection:u(oe),columns:u(Ve),readOnly:h(),onPatch:mn})}function Kt(){(function(L){var{json:ye,selection:Re,columns:De,readOnly:Be,onPatch:Qe}=L;if(!Be&&ye!==void 0&&Re&&Lu(Re)){var{rowIndex:Ke,columnIndex:ft}=Ms(dt(Re),De);Di("insert after row",{rowIndex:Ke});var Ft=Ke+1,vn=[String(Ft)],bn=[{key:"",value:Zr(ye[0])?{}:""}];Qe(Ft<ye.length?zu(ye,vn,bn):Qb(ye,[],bn),(Fn,Un)=>({state:Un,selection:dn($l({rowIndex:Ft,columnIndex:ft},De))}))}})({json:u(q),selection:u(oe),columns:u(Ve),readOnly:h(),onPatch:mn})}function vt(){(function(L){var{json:ye,selection:Re,columns:De,readOnly:Be,onPatch:Qe}=L;if(!Be&&ye!==void 0&&Re&&Lu(Re)){var{rowIndex:Ke,columnIndex:ft}=Ms(dt(Re),De);Di("remove row",{rowIndex:Ke}),Qe(Tm([[String(Ke)]]),(Ft,vn)=>{var bn=Ke<Ft.length?Ke:Ke>0?Ke-1:void 0,Fn=bn!==void 0?dn($l({rowIndex:bn,columnIndex:ft},De)):void 0;return Di("remove row new selection",{rowIndex:Ke,newRowIndex:bn,newSelection:Fn}),{state:vn,selection:Fn}})}})({json:u(q),selection:u(oe),columns:u(Ve),readOnly:h(),onPatch:mn})}function yt(){return(yt=Lt(function*(L){yield T5({char:L,selectInside:!1,json:u(q),selection:u(oe),readOnly:h(),parser:j(),onPatch:mn,onReplaceJson:Kn,onSelect:ae})})).apply(this,arguments)}function Pn(L){var ye;L.preventDefault(),Bt((ye=L.clipboardData)===null||ye===void 0?void 0:ye.getData("text/plain"))}function Bt(L){L!==void 0&&P5({clipboardText:L,json:u(q),selection:u(oe),readOnly:h(),parser:j(),onPatch:mn,onChangeText:jn,openRepairModal:Rr})}function Kn(L,ye){var Re={json:u(q),text:u(ge)},De={json:u(q),documentState:u(ke),selection:u(oe),sortedColumn:u(Me),text:u(ge),textIsRepaired:u(Ye)},Be=bs(L,u(ke)),Qe=typeof ye=="function"?ye(L,Be,u(oe)):void 0;_(q,(Qe==null?void 0:Qe.json)!==void 0?Qe.json:L),_(ke,(Qe==null?void 0:Qe.state)!==void 0?Qe.state:Be),_(oe,(Qe==null?void 0:Qe.selection)!==void 0?Qe.selection:u(oe)),_(Me,void 0),_(ge,void 0),_(Ye,!1),_(V,void 0),he(u(q)),Ee(De),En(Re,void 0)}function jn(L,ye){s("handleChangeText");var Re={json:u(q),text:u(ge)},De={json:u(q),documentState:u(ke),selection:u(oe),sortedColumn:u(Me),text:u(ge),textIsRepaired:u(Ye)};try{_(q,w()(L)),_(ke,bs(u(q),u(ke))),_(ge,void 0),_(Ye,!1),_(V,void 0)}catch(Qe){try{_(q,w()(zo(L))),_(ke,bs(u(q),u(ke))),_(ge,L),_(Ye,!0),_(V,void 0)}catch{_(q,void 0),_(ke,void 0),_(ge,L),_(Ye,!1),_(V,u(ge)!==""?hc(u(ge),Qe.message||String(Qe)):void 0)}}if(typeof ye=="function"){var Be=ye(u(q),u(ke),u(oe));_(q,(Be==null?void 0:Be.json)!==void 0?Be.json:u(q)),_(ke,(Be==null?void 0:Be.state)!==void 0?Be.state:u(ke)),_(oe,(Be==null?void 0:Be.selection)!==void 0?Be.selection:u(oe))}he(u(q)),Ee(De),En(Re,void 0)}function nn(L){s("select validation error",L),_(oe,dn(L.path)),xn(L.path)}function Ln(L){if(u(q)!==void 0){var{id:ye,onTransform:Re,onClose:De}=L,Be=L.rootPath||[];pt=!0,X()({id:ye||c,json:u(q),rootPath:Be||[],onTransform:Qe=>{Re?Re({operations:Qe,json:u(q),transformedJson:oo(u(q),Qe)}):(s("onTransform",Be,Qe),mn(Qe))},onClose:()=>{pt=!1,setTimeout(ot),De&&De()}})}}function rn(L){s("openJSONEditorModal",{path:L}),pt=!0,$()({content:{json:rt(u(q),L)},path:L,onPatch:mn,onClose:()=>{pt=!1,setTimeout(ot)}})}function Rr(L,ye){_(se,{text:L,onParse:Re=>Wg(Re,De=>Dd(De,j())),onRepair:IT,onApply:ye,onClose:ot})}function ce(){(function(L){h()||u(q)===void 0||(pt=!0,pe()({id:f,json:u(q),rootPath:L,onSort:ye=>{var{operations:Re,itemPath:De,direction:Be}=ye;s("onSort",Re,L,De,Be),mn(Re,(Qe,Ke)=>({state:Ke,sortedColumn:{path:De,sortDirection:Be===-1?eo.desc:eo.asc}}))},onClose:()=>{pt=!1,setTimeout(ot)}}))})([])}function je(){Ln({rootPath:[]})}function Fe(L){s("openFind",{findAndReplace:L}),_(U,!1),_(H,!1),Nr(),_(U,!0),_(H,L)}function Ut(){if(!h()&&y().canUndo){var L=y().undo();if(Mm(L)){var ye={json:u(q),text:u(ge)};_(q,L.undo.patch?oo(u(q),L.undo.patch):L.undo.json),_(ke,L.undo.documentState),_(oe,L.undo.selection),_(Me,L.undo.sortedColumn),_(ge,L.undo.text),_(Ye,L.undo.textIsRepaired),_(V,void 0),s("undo",{item:L,json:u(q)}),En(ye,L.undo.patch&&L.redo.patch?{json:u(q),previousJson:ye.json,redo:L.undo.patch,undo:L.redo.patch}:void 0),ot(),u(oe)&&xn(dt(u(oe)),!1)}else z()(L)}}function kn(){if(!h()&&y().canRedo){var L=y().redo();if(Mm(L)){var ye={json:u(q),text:u(ge)};_(q,L.redo.patch?oo(u(q),L.redo.patch):L.redo.json),_(ke,L.redo.documentState),_(oe,L.redo.selection),_(Me,L.redo.sortedColumn),_(ge,L.redo.text),_(Ye,L.redo.textIsRepaired),_(V,void 0),s("redo",{item:L,json:u(q)}),En(ye,L.undo.patch&&L.redo.patch?{json:u(q),previousJson:ye.json,redo:L.redo.patch,undo:L.undo.patch}:void 0),ot(),u(oe)&&xn(dt(u(oe)),!1)}else K()(L)}}function fn(L){_(O,L.getBoundingClientRect().height)}fe(()=>(G(b()),G(v())),()=>{_(ie,Ox({escapeControlCharacters:b(),escapeUnicodeCharacters:v()}))}),fe(()=>u(U),()=>{(function(L){if(u(A)){var ye=L?vf:-100;u(A).scrollTo({top:xs(A,u(A).scrollTop+=ye),left:u(A).scrollLeft})}})(u(U))}),fe(()=>G(m()),()=>{(function(L){var ye={json:u(q)},Re=Zf(L)?L.text!==u(ge):!ln(ye.json,L.json);if(s("update external content",{isChanged:Re}),Re){var De={json:u(q),documentState:u(ke),selection:u(oe),sortedColumn:u(Me),text:u(ge),textIsRepaired:u(Ye)};if(Zf(L))try{_(q,w()(L.text)),_(ke,bs(u(q),u(ke))),_(ge,L.text),_(Ye,!1),_(V,void 0)}catch(Be){try{_(q,w()(zo(L.text))),_(ke,bs(u(q),u(ke))),_(ge,L.text),_(Ye,!0),_(V,void 0)}catch{_(q,void 0),_(ke,void 0),_(ge,L.text),_(Ye,!1),_(V,u(ge)!==""?hc(u(ge),Be.message||String(Be)):void 0)}}else _(q,L.json),_(ke,bs(u(q),u(ke))),_(ge,void 0),_(Ye,!1),_(V,void 0);he(u(q)),_(Me,void 0),Ee(De)}})(m())}),fe(()=>G(p()),()=>{(function(L){ln(u(oe),L)||(s("applyExternalSelection",{selection:u(oe),externalSelection:L}),sd(L)&&_(oe,L))})(p())}),fe(()=>(u(Ve),u(q),G(x()),u(Ce)),()=>{_(Ve,Fr(u(q))?function(L,ye){var Re=new Set(ye.map(jt)),De=new Set(L.map(jt));for(var Be of Re)De.has(Be)||Re.delete(Be);for(var Qe of De)Re.has(Qe)||Re.add(Qe);return[...Re].map(qs)}(vX(u(q),x(),u(Ce)),u(Ve)):[])}),fe(()=>(u(q),u(Ve)),()=>{_(Ie,!(!u(q)||Yn(u(Ve))))}),fe(()=>(u(q),u(Ce)),()=>{_(n,Array.isArray(u(q))&&u(q).length>u(Ce))}),fe(()=>(u(I),u(O),u(q),u(U),vf),()=>{_(r,bX(u(I),u(O),u(q),Ne,D,u(U)?vf:0))}),fe(()=>u(q),()=>{u(q),u(A)&&u(A).scrollTo({top:u(A).scrollTop,left:u(A).scrollLeft})}),fe(()=>u(oe),()=>{var L;L=u(oe),ln(L,p())||(s("onSelect",L),W()(L))}),fe(()=>(G(h()),G(j()),u(ie),u(q),u(ke),G(ue())),()=>{_(kt,{mode:li.table,readOnly:h(),parser:j(),normalization:u(ie),getJson:()=>u(q),getDocumentState:()=>u(ke),findElement:sr,findNextInside:cn,focus:ot,onPatch:(L,ye)=>mn(function(Re,De){return Re.flatMap(Be=>{if(sx(Be)){var Qe=qs(Be.path);if(Qe.length>0){for(var Ke=[Be],ft=hn(Qe);ft.length>0&&!Is(De,ft);)Ke.unshift({op:"add",path:jt(ft),value:{}}),ft=hn(ft);return Ke}}return Be})}(L,u(q)),ye),onSelect:ae,onFind:Fe,onPasteJson:Zn,onRenderValue:ue()})}),fe(()=>(u(q),G(k()),G(j()),G(S())),()=>{On(u(q),k(),j(),S())}),fe(()=>(u(It),u(Ve)),()=>{_(i,yX(u(It),u(Ve)))}),_n(),Mt(!0);var Gn=_Z();Ae("mousedown",xa,function(L){!Lc(L.target,ye=>ye===u(T))&&Ji(u(oe))&&(s("click outside the editor, exit edit mode"),_(oe,Ro(u(oe))),bt&&u(P)&&(u(P).focus(),u(P).blur()),s("blur (outside editor)"),u(P)&&u(P).blur())});var pr,er=st(Gn),Dr=Q(er),it=L=>{(function(ye,Re){Ct(Re,!1);var De=C(Re,"containsValidArray",9),Be=C(Re,"readOnly",9),Qe=C(Re,"showSearch",13,!1),Ke=C(Re,"history",9),ft=C(Re,"onSort",9),Ft=C(Re,"onTransform",9),vn=C(Re,"onContextMenu",9),bn=C(Re,"onUndo",9),Fn=C(Re,"onRedo",9),Un=C(Re,"onRenderMenu",9);function N(){Qe(!Qe())}var ve=Y(void 0,!0),_e=Y(void 0,!0);fe(()=>(G(Be()),G(ft()),G(De()),G(Ft()),G(vn()),G(bn()),G(Ke()),G(Fn())),()=>{_(ve,Be()?[{type:"space"}]:[{type:"button",icon:bm,title:"Sort",className:"jse-sort",onClick:ft(),disabled:Be()||!De()},{type:"button",icon:gm,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:Ft(),disabled:Be()||!De()},{type:"button",icon:Eg,title:"Search (Ctrl+F)",className:"jse-search",onClick:N,disabled:!De()},{type:"button",icon:BR,title:$x,className:"jse-contextmenu",onClick:vn()},{type:"separator"},{type:"button",icon:hx,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:bn(),disabled:!Ke().canUndo},{type:"button",icon:dx,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:Fn(),disabled:!Ke().canRedo},{type:"space"}])}),fe(()=>(G(Un()),u(ve)),()=>{_(_e,Un()(u(ve))||u(ve))}),_n(),Mt(!0),Xg(ye,{get items(){return u(_e)}}),_t()})(L,{get containsValidArray(){return u(Ie)},get readOnly(){return h()},get history(){return y()},onSort:ce,onTransform:je,onUndo:Ut,onRedo:kn,onContextMenu:Mr,get onRenderMenu(){return ne()},get showSearch(){return u(U)},set showSearch(ye){_(U,ye)},$$legacy:!0})};we(Dr,L=>{g()&&L(it)});var ur=le(Dr,2),sn=L=>{var ye=SZ(),Re=st(ye),De=Q(Re);De.readOnly=!0,jr(De,ft=>_(P,ft),()=>u(P));var Be=le(Re,2),Qe=ft=>{var Ft=jZ(),vn=st(Ft);_5(Q(vn),{get json(){return u(q)},get documentState(){return u(ke)},get parser(){return j()},get showSearch(){return u(U)},get showReplace(){return u(H)},get readOnly(){return h()},get columns(){return u(Ve)},onSearch:B,onFocus:Te,onPatch:mn,onClose:Ze});var bn=le(vn,2),Fn=Q(bn),Un=Q(Fn),N=Q(Un),ve=Q(N),_e=Q(ve),et=St=>{var Je=on(),Wt=$e(()=>{var Bn;return v0([],(Bn=u(i))===null||Bn===void 0?void 0:Bn.root)}),Vr=st(Je),Jn=Bn=>{var cr=pZ();tc(Q(cr),{get validationError(){return u(Wt)},onExpand:Ps}),Z(Bn,cr)};we(Vr,Bn=>{u(Wt)&&Bn(Jn)}),Z(St,Je)};we(_e,St=>{var Je;Yn((Je=u(i))===null||Je===void 0?void 0:Je.root)||St(et)});var He=le(ve);Ur(He,1,()=>u(Ve),ei,(St,Je)=>{var Wt=mZ();(function(Vr,Jn){Ct(Jn,!1);var Bn=Y(void 0,!0),cr=Y(void 0,!0),Qr=Y(void 0,!0),Gt=C(Jn,"path",9),gr=C(Jn,"sortedColumn",9),wi=C(Jn,"readOnly",9),Qs=C(Jn,"onSort",9);fe(()=>(G(Gt()),so),()=>{_(Bn,Yn(Gt())?"values":so(Gt()))}),fe(()=>(G(gr()),G(Gt())),()=>{var _r;_(cr,gr()&&ln(Gt(),(_r=gr())===null||_r===void 0?void 0:_r.path)?gr().sortDirection:void 0)}),fe(()=>(u(cr),IS),()=>{_(Qr,u(cr)?IS[u(cr)]:void 0)}),_n(),Mt(!0);var Ti,Wi=lZ(),sa=Q(Wi),mu=Q(sa),$a=le(sa,2),mi=_r=>{var Vi=aZ(),fs=Q(Vi),Xs=$e(()=>u(cr)===eo.asc?dl:CH);yn(fs,{get data(){return u(Xs)}}),qe(()=>$n(Vi,"title","Currently sorted in ".concat(u(Qr)," order"))),Z(_r,Vi)};we($a,_r=>{u(cr)!==void 0&&_r(mi)}),qe(_r=>{Ti=qt(Wi,1,"jse-column-header svelte-2i3vdx",null,Ti,{"jse-readonly":wi()}),$n(Wi,"title",wi()?u(Bn):u(Bn)+" (Click to sort the data by this column)"),Rt(mu,_r)},[()=>td(u(Bn),50)],$e),Ae("click",Wi,function(){wi()||Qs()({path:Gt(),sortDirection:u(cr)===eo.asc?eo.desc:eo.asc})}),Z(Vr,Wi),_t()})(Q(Wt),{get path(){return u(Je)},get sortedColumn(){return u(Me)},get readOnly(){return h()},onSort:Tt}),Z(St,Wt)});var Ue=le(He),We=St=>{var Je=gZ(),Wt=Q(Je),Vr=$e(()=>Array.isArray(u(q))?u(q).length:0);(function(Jn,Bn){Ct(Bn,!1);var cr=C(Bn,"count",9),Qr=C(Bn,"maxSampleCount",9),Gt=C(Bn,"readOnly",9),gr=C(Bn,"onRefresh",9);Mt(!0);var wi,Qs=hZ();yn(Q(Qs),{data:zH}),qe(()=>{wi=qt(Qs,1,"jse-column-header svelte-fzj761",null,wi,{"jse-readonly":Gt()}),$n(Qs,"title","The Columns are created by sampling ".concat(Qr()," items out of ").concat(cr(),". ")+"If you're missing a column, click here to sample all of the items instead of a subset. This is slower.")}),Ae("click",Qs,()=>gr()()),Z(Jn,Qs),_t()})(Wt,{get count(){return u(Vr)},get maxSampleCount(){return u(Ce)},get readOnly(){return h()},onRefresh:()=>_(Ce,1/0)}),Z(St,Je)};we(Ue,St=>{u(n)&&St(We)});var ct,At=le(N),Cn=Q(At),an=le(At);Ur(an,1,()=>u(r).visibleItems,ei,(St,Je,Wt)=>{var Vr=wZ(),Jn=$e(()=>u(r).startIndex+Wt),Bn=$e(()=>u(i).rows[u(Jn)]),cr=$e(()=>{var Ti;return v0([String(u(Jn))],(Ti=u(Bn))===null||Ti===void 0?void 0:Ti.row)}),Qr=$e(()=>Fl(u(q),u(ee),[String(u(Jn))])),Gt=Q(Vr);CT(Gt,()=>u(Jn),Ti=>{var Wi=vZ(),sa=Q(Wi),mu=le(sa),$a=mi=>{tc(mi,{get validationError(){return u(cr)},onExpand:Ps})};we(mu,mi=>{u(cr)&&mi($a)}),Li(Wi,(mi,_r)=>vp==null?void 0:vp(mi,_r),()=>mi=>function(_r,Vi){Ne[Vi]=_r.getBoundingClientRect().height}(mi,u(Jn))),qe(()=>{var mi;return Rt(sa,"".concat((mi=u(Jn))!==null&&mi!==void 0?mi:""," "))}),Z(Ti,Wi)});var gr=le(Gt);Ur(gr,1,()=>u(Ve),ei,(Ti,Wi,sa,mu)=>{var $a,mi=yZ(),_r=$e(()=>[String(u(Jn))].concat(u(Wi))),Vi=$e(()=>rt(u(Je),u(Wi))),fs=$e(()=>Qn(u(oe))&&Aa(u(oe).path,u(_r))),Xs=$e(()=>{var ni;return(ni=u(Bn))===null||ni===void 0?void 0:ni.columns[sa]}),Bc=$e(()=>v0(u(_r),u(Xs))),ts=Q(mi),qc=Q(ts),Zg=ni=>{var jo=$e(()=>Zb(Fl(u(Je),u(Qr),u(Wi)))),Es=$e(()=>!!u(jo)&&u(jo).some(Al=>Al.active)),oa=$e(()=>!Yn(u(jo)));(function(Al,ns){Ct(ns,!1);var nv=C(ns,"path",9),rv=C(ns,"value",9),iv=C(ns,"parser",9),gu=C(ns,"isSelected",9),Vc=C(ns,"containsSearchResult",9),L5=C(ns,"containsActiveSearchResult",9),z5=C(ns,"onEdit",9);Mt(!0);var Xx,Fd=oZ(),B5=Q(Fd);qe(Hc=>{Xx=qt(Fd,1,"jse-inline-value svelte-h57m0p",null,Xx,{"jse-selected":gu(),"jse-highlight":Vc(),"jse-active":L5()}),Rt(B5,Hc)},[()=>{var Hc;return td((Hc=iv().stringify(rv()))!==null&&Hc!==void 0?Hc:"",50)}],$e),Ae("dblclick",Fd,()=>z5()(nv())),Z(Al,Fd),_t()})(ni,{get path(){return u(_r)},get value(){return u(Vi)},get parser(){return j()},get isSelected(){return u(fs)},get containsSearchResult(){return u(oa)},get containsActiveSearchResult(){return u(Es)},onEdit:rn})},Fc=ni=>{var jo=$e(()=>{var ns;return(ns=Fl(u(q),u(ee),u(_r)))===null||ns===void 0?void 0:ns.searchResults}),Es=$e(()=>u(Vi)!==void 0?u(Vi):""),oa=$e(()=>wa(u(q),u(ke),u(_r))),Al=$e(()=>u(fs)?u(oe):void 0);S5(ni,{get path(){return u(_r)},get value(){return u(Es)},get enforceString(){return u(oa)},get selection(){return u(Al)},get searchResultItems(){return u(jo)},get context(){return u(kt)}})};we(qc,ni=>{Xr(u(Vi))?ni(Zg):ni(Fc,!1)});var ev=le(qc),Uc=ni=>{var jo=bZ();La(Q(jo),{selected:!0,onContextMenu:Sr}),Z(ni,jo)};we(ev,ni=>{h()||!u(fs)||Ji(u(oe))||ni(Uc)});var Wc=le(ts,2),tv=ni=>{tc(ni,{get validationError(){return u(Bc)},onExpand:Ps})};we(Wc,ni=>{u(Bc)&&ni(tv)}),qe(ni=>{$n(mi,"data-path",ni),$a=qt(ts,1,"jse-value-outer svelte-u14cgx",null,$a,{"jse-selected-value":u(fs)})},[()=>Vb(u(_r))],$e),Z(Ti,mi)});var wi=le(gr),Qs=Ti=>{Z(Ti,xZ())};we(wi,Ti=>{u(n)&&Ti(Qs)}),Z(St,Vr)});var tr=Q(le(an));jr(bn,St=>_(A,St),()=>u(A)),Li(bn,(St,Je)=>vp==null?void 0:vp(St,Je),()=>fn),vi(()=>Ae("scroll",bn,gn));var Pt=le(bn,2),Lr=St=>{var Je=$e(()=>"You pasted a JSON ".concat(Array.isArray(u(F).contents)?"array":"object"," as text"));po(St,{type:"info",get message(){return u(Je)},actions:[{icon:fc,text:"Paste as JSON instead",title:"Paste the text as JSON instead of a single value",onMouseDown:br},{text:"Leave as is",title:"Keep the pasted content as a single value",onClick:hr}]})};we(Pt,St=>{u(F)&&St(Lr)});var or=le(Pt,2),Cr=St=>{var Je=$e(()=>h()?[]:[{icon:px,text:"Ok",title:"Accept the repaired document",onClick:Yt},{icon:vm,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:xe}]);po(St,{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",get actions(){return u(Je)},onClose:ot})};we(or,St=>{u(Ye)&&St(Cr)}),Jx(le(or,2),{get validationErrors(){return u(It)},selectError:nn}),qe(()=>{ct=qt(At,1,"jse-table-invisible-start-section svelte-u14cgx",null,ct,{"jse-search-box-background":u(U)}),$n(Cn,"colspan",u(Ve).length),Qu(Cn,"height",u(r).startHeight+"px"),$n(tr,"colspan",u(Ve).length),Qu(tr,"height",u(r).endHeight+"px")}),Z(ft,Ft)},Ke=ft=>{var Ft=on(),vn=st(Ft),bn=Un=>{var N=kZ(),ve=st(N),_e=$e(()=>h()?[]:[{icon:vm,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:xe}]);po(ve,{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",get actions(){return u(_e)}}),$5(le(ve,2),{get text(){return u(ge)},get json(){return u(q)},get indentation(){return M()},get parser(){return j()}}),Z(Un,N)},Fn=Un=>{dZ(Un,{get text(){return u(ge)},get json(){return u(q)},get readOnly(){return h()},get parser(){return j()},openJSONEditorModal:rn,get onChangeMode(){return J()},onClick:()=>{ot()}})};we(vn,Un=>{u(V)&&u(ge)!==void 0&&u(ge)!==""?Un(bn):Un(Fn,!1)},!0),Z(ft,Ft)};we(Be,ft=>{u(Ie)?ft(Qe):ft(Ke,!1)}),Ae("paste",De,Pn),Z(L,ye)},pi=L=>{Z(L,CZ())};we(ur,L=>{d?L(pi,!1):L(sn)}),jr(er,L=>_(T,L),()=>u(T));var Ot=le(er,2),Rn=L=>{j5(L,{onClose:()=>_(nt,!1)})};we(Ot,L=>{u(nt)&&L(Rn)});var zn=le(Ot,2),mr=L=>{k5(L,el(()=>u(se),{onClose:()=>{var ye;(ye=u(se))===null||ye===void 0||ye.onClose(),_(se,void 0)}}))};return we(zn,L=>{u(se)&&L(mr)}),qe(()=>pr=qt(er,1,"jse-table-mode svelte-u14cgx",null,pr,{"no-main-menu":!g()})),Ae("mousedown",er,function(L){if(L.buttons===1||L.buttons===2){var ye=L.target;ye.isContentEditable||ot();var Re=VT(ye);if(Re){if(Ji(u(oe))&&od(u(q),u(oe),Re))return;_(oe,dn(Re)),L.preventDefault()}}}),Ae("keydown",er,function(L){var ye=_a(L);if(s("keydown",{combo:ye,key:L.key}),ye==="Ctrl+X"&&(L.preventDefault(),ze(!0)),ye==="Ctrl+Shift+X"&&(L.preventDefault(),ze(!1)),ye==="Ctrl+C"&&(L.preventDefault(),zt(!0)),ye==="Ctrl+Shift+C"&&(L.preventDefault(),zt(!1)),ye==="Ctrl+D"&&(L.preventDefault(),wn()),ye!=="Delete"&&ye!=="Backspace"||(L.preventDefault(),Qt()),ye==="Insert"&&L.preventDefault(),ye==="Ctrl+A"&&L.preventDefault(),ye==="Ctrl+Q"&&hi(L),ye==="ArrowLeft"&&(L.preventDefault(),mt(),u(oe))){var Re=function(Ft,vn){var{rowIndex:bn,columnIndex:Fn}=Ms(dt(vn),Ft);return Fn>0?dn($l({rowIndex:bn,columnIndex:Fn-1},Ft)):vn}(u(Ve),u(oe));_(oe,Re),Mn(dt(Re))}if(ye==="ArrowRight"&&(L.preventDefault(),mt(),u(oe))){var De=function(Ft,vn){var{rowIndex:bn,columnIndex:Fn}=Ms(dt(vn),Ft);return Fn<Ft.length-1?dn($l({rowIndex:bn,columnIndex:Fn+1},Ft)):vn}(u(Ve),u(oe));_(oe,De),Mn(dt(De))}if(ye==="ArrowUp"&&(L.preventDefault(),mt(),u(oe))){var Be=function(Ft,vn){var{rowIndex:bn,columnIndex:Fn}=Ms(dt(vn),Ft);return bn>0?dn($l({rowIndex:bn-1,columnIndex:Fn},Ft)):vn}(u(Ve),u(oe));_(oe,Be),Mn(dt(Be))}if(ye==="ArrowDown"&&(L.preventDefault(),mt(),u(oe))){var Qe=function(Ft,vn,bn){var{rowIndex:Fn,columnIndex:Un}=Ms(dt(bn),vn);return Fn<Ft.length-1?dn($l({rowIndex:Fn+1,columnIndex:Un},vn)):bn}(u(q),u(Ve),u(oe));_(oe,Qe),Mn(dt(Qe))}if(ye==="Enter"&&u(oe)&&Qn(u(oe))){L.preventDefault();var Ke=u(oe).path;Xr(rt(u(q),Ke))?rn(Ke):h()||_(oe,Le(Le({},u(oe)),{},{edit:!0}))}if(ye.replace(/^Shift\+/,"").length===1&&u(oe))return L.preventDefault(),void function(Ft){yt.apply(this,arguments)}(L.key);if(ye==="Ctrl+Enter"&&Qn(u(oe))){L.preventDefault();var ft=rt(u(q),u(oe).path);Ug(ft)&&window.open(String(ft),"_blank")}ye==="Escape"&&u(oe)&&(L.preventDefault(),_(oe,void 0)),ye==="Ctrl+F"&&(L.preventDefault(),Fe(!1)),ye==="Ctrl+H"&&(L.preventDefault(),Fe(!0)),ye==="Ctrl+Z"&&(L.preventDefault(),Ut()),ye==="Ctrl+Shift+Z"&&(L.preventDefault(),kn())}),Ae("contextmenu",er,hi),Z(t,Gn),Dt(e,"validate",en),Dt(e,"patch",Vt),Dt(e,"focus",ot),Dt(e,"acceptAutoRepair",Yt),Dt(e,"scrollTo",xn),Dt(e,"findElement",sr),Dt(e,"openTransformModal",Ln),_t({validate:en,patch:Vt,focus:ot,acceptAutoRepair:Yt,scrollTo:xn,findElement:sr,openTransformModal:Ln})}function gC(t,e){Ct(e,!1);var n=C(e,"content",8),r=C(e,"selection",12),i=C(e,"readOnly",8),s=C(e,"indentation",8),o=C(e,"tabSize",8),a=C(e,"externalMode",8),l=C(e,"mainMenuBar",8),f=C(e,"navigationBar",8),c=C(e,"statusBar",8),d=C(e,"askToFormat",8),h=C(e,"escapeControlCharacters",8),m=C(e,"escapeUnicodeCharacters",8),p=C(e,"flattenColumns",8),y=C(e,"parser",8),g=C(e,"parseMemoizeOne",8),b=C(e,"validator",8),v=C(e,"validationParser",8),x=C(e,"pathParser",8),j=C(e,"insideModal",8),w=C(e,"onChange",8),k=C(e,"onChangeMode",8),S=C(e,"onSelect",8),M=C(e,"onRenderValue",8),E=C(e,"onClassName",8),J=C(e,"onRenderMenu",8),W=C(e,"onRenderContextMenu",8),z=C(e,"onError",8),K=C(e,"onFocus",8),ue=C(e,"onBlur",8),ne=C(e,"onSortModal",8),re=C(e,"onTransformModal",8),me=C(e,"onJSONEditorModal",8),de=Y(),pe=Y(),X=Y(),$=fi("jsoneditor:JSONEditorRoot"),ie=Y(D5({onChange:Ne=>_(ie,Ne)}).get()),T=Y(a());function A(Ne){if(BS(Ne)){_(T,Ne.undo.mode);var O=u(ie).items(),I=O.findIndex(ae=>ae===Ne),D=I!==-1?O[I-1]:void 0;$("handleUndo",{index:I,item:Ne,items:O,prevItem:D}),D&&r(D.redo.selection),k()(u(T))}}function P(Ne){if(BS(Ne)){_(T,Ne.redo.mode);var O=u(ie).items(),I=O.findIndex(ae=>ae===Ne),D=I!==-1?O[I+1]:void 0;$("handleRedo",{index:I,item:Ne,items:O,nextItem:D}),D&&r(D.undo.selection),k()(u(T))}}var se=Y(),te={type:"separator"},q=Y(),ge=Y();function V(Ne){if(u(de))return u(de).patch(Ne);if(u(pe))return u(pe).patch(Ne);if(u(X))return u(X).patch(Ne);throw new Error('Method patch is not available in mode "'.concat(u(T),'"'))}function F(Ne,O){if(u(de))return u(de).expand(Ne,O);throw new Error('Method expand is not available in mode "'.concat(u(T),'"'))}function ee(Ne,O){if(u(de))return u(de).collapse(Ne,O);throw new Error('Method collapse is not available in mode "'.concat(u(T),'"'))}function U(Ne){if(u(X))u(X).openTransformModal(Ne);else if(u(de))u(de).openTransformModal(Ne);else{if(!u(pe))throw new Error('Method transform is not available in mode "'.concat(u(T),'"'));u(pe).openTransformModal(Ne)}}function H(){if(u(X))return u(X).validate();if(u(de))return u(de).validate();if(u(pe))return u(pe).validate();throw new Error('Method validate is not available in mode "'.concat(u(T),'"'))}function B(){return u(de)?u(de).acceptAutoRepair():n()}function Te(Ne){if(u(de))return u(de).scrollTo(Ne);if(u(pe))return u(pe).scrollTo(Ne);throw new Error('Method scrollTo is not available in mode "'.concat(u(T),'"'))}function lt(Ne){if(u(de))return u(de).findElement(Ne);if(u(pe))return u(pe).findElement(Ne);throw new Error('Method findElement is not available in mode "'.concat(u(T),'"'))}function Ze(){u(X)?u(X).focus():u(de)?u(de).focus():u(pe)&&u(pe).focus()}function Ce(){return Ve.apply(this,arguments)}function Ve(){return(Ve=Lt(function*(){u(X)&&(yield u(X).refresh())})).apply(this,arguments)}fe(()=>G(a()),()=>{(function(Ne){if(Ne!==u(T)){var O={type:"mode",undo:{mode:u(T),selection:void 0},redo:{mode:Ne,selection:void 0}};u(T)==="text"&&u(X)&&u(X).flush(),$("add history item",O),u(ie).add(O),_(T,Ne)}})(a())}),fe(()=>(u(T),G(k())),()=>{_(se,[{type:"button",text:"text",title:"Switch to text mode (current mode: ".concat(u(T),")"),className:"jse-group-button jse-first"+(u(T)===li.text?" jse-selected":""),onClick:()=>k()(li.text)},{type:"button",text:"tree",title:"Switch to tree mode (current mode: ".concat(u(T),")"),className:"jse-group-button "+(u(T)===li.tree?" jse-selected":""),onClick:()=>k()(li.tree)},{type:"button",text:"table",title:"Switch to table mode (current mode: ".concat(u(T),")"),className:"jse-group-button jse-last"+(u(T)===li.table?" jse-selected":""),onClick:()=>k()(li.table)}])}),fe(()=>(u(se),G(J()),u(T),G(j()),G(i())),()=>{_(q,Ne=>{var O=KT(Ne[0])?u(se).concat(Ne):u(se).concat(te,Ne),I=Ef(O);return J()(O,{mode:u(T),modal:j(),readOnly:i()})||I})}),fe(()=>(G(W()),u(T),G(j()),G(i()),G(r())),()=>{_(ge,Ne=>{var O,I=Ef(Ne);return(O=W()(Ne,{mode:u(T),modal:j(),readOnly:i(),selection:r()}))!==null&&O!==void 0?O:!i()&&I})}),_n(),Mt();var Ie=on(),pt=st(Ie),bt=Ne=>{jr(sZ(Ne,{get externalContent(){return n()},get externalSelection(){return r()},get history(){return u(ie)},get readOnly(){return i()},get indentation(){return s()},get tabSize(){return o()},get mainMenuBar(){return l()},get statusBar(){return c()},get askToFormat(){return d()},get escapeUnicodeCharacters(){return m()},get parser(){return y()},get validator(){return b()},get validationParser(){return v()},get onChange(){return w()},get onChangeMode(){return k()},get onSelect(){return S()},onUndo:A,onRedo:P,get onError(){return z()},get onFocus(){return K()},get onBlur(){return ue()},get onRenderMenu(){return u(q)},get onSortModal(){return ne()},get onTransformModal(){return re()},$$legacy:!0}),O=>_(X,O),()=>u(X))},nt=Ne=>{var O=on(),I=st(O),D=he=>{jr(AZ(he,{get externalContent(){return n()},get externalSelection(){return r()},get history(){return u(ie)},get readOnly(){return i()},get mainMenuBar(){return l()},get escapeControlCharacters(){return h()},get escapeUnicodeCharacters(){return m()},get flattenColumns(){return p()},get parser(){return y()},get parseMemoizeOne(){return g()},get validator(){return b()},get validationParser(){return v()},get indentation(){return s()},get onChange(){return w()},get onChangeMode(){return k()},get onSelect(){return S()},onUndo:A,onRedo:P,get onRenderValue(){return M()},get onFocus(){return K()},get onBlur(){return ue()},get onRenderMenu(){return u(q)},get onRenderContextMenu(){return u(ge)},get onSortModal(){return ne()},get onTransformModal(){return re()},get onJSONEditorModal(){return me()},$$legacy:!0}),ke=>_(pe,ke),()=>u(pe))},ae=he=>{jr(c1(he,{get externalContent(){return n()},get externalSelection(){return r()},get history(){return u(ie)},get readOnly(){return i()},get indentation(){return s()},get mainMenuBar(){return l()},get navigationBar(){return f()},get escapeControlCharacters(){return h()},get escapeUnicodeCharacters(){return m()},get parser(){return y()},get parseMemoizeOne(){return g()},get validator(){return b()},get validationParser(){return v()},get pathParser(){return x()},get onError(){return z()},get onChange(){return w()},get onChangeMode(){return k()},get onSelect(){return S()},onUndo:A,onRedo:P,get onRenderValue(){return M()},get onClassName(){return E()},get onFocus(){return K()},get onBlur(){return ue()},get onRenderMenu(){return u(q)},get onRenderContextMenu(){return u(ge)},get onSortModal(){return ne()},get onTransformModal(){return re()},get onJSONEditorModal(){return me()},$$legacy:!0}),ke=>_(de,ke),()=>u(de))};we(I,he=>{u(T)===li.table?he(D):he(ae,!1)},!0),Z(Ne,O)};return we(pt,Ne=>{u(T)===li.text||String(u(T))==="code"?Ne(bt):Ne(nt,!1)}),Z(t,Ie),Dt(e,"patch",V),Dt(e,"expand",F),Dt(e,"collapse",ee),Dt(e,"transform",U),Dt(e,"validate",H),Dt(e,"acceptAutoRepair",B),Dt(e,"scrollTo",Te),Dt(e,"findElement",lt),Dt(e,"focus",Ze),Dt(e,"refresh",Ce),_t({patch:V,expand:F,collapse:ee,transform:U,validate:H,acceptAutoRepair:B,scrollTo:Te,findElement:lt,focus:Ze,refresh:Ce})}Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-modal-wrapper.svelte-v0el4e {
  flex: 1;
  display: flex;
  min-width: 0;
  min-height: 0;
  flex-direction: column;
}
.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 20px;
  overflow: auto;
  min-width: 0;
  min-height: 0;
}
.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-actions:where(.svelte-v0el4e) {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  padding-top: var(--jse-padding, 10px);
}
.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-actions:where(.svelte-v0el4e) button.jse-primary:where(.svelte-v0el4e) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));
  color: var(--jse-button-primary-color, #fff);
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  border-radius: 3px;
}
.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-actions:where(.svelte-v0el4e) button.jse-primary:where(.svelte-v0el4e):hover {
  background: var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff));
}
.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-actions:where(.svelte-v0el4e) button.jse-primary:where(.svelte-v0el4e):disabled {
  background: var(--jse-button-primary-background-disabled, #9d9d9d);
}
.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-label:where(.svelte-v0el4e) {
  font-weight: bold;
  display: block;
  box-sizing: border-box;
}
.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-label:where(.svelte-v0el4e) .jse-label-inner:where(.svelte-v0el4e) {
  margin-top: calc(2 * var(--jse-padding, 10px));
  margin-bottom: calc(0.5 * var(--jse-padding, 10px));
  box-sizing: border-box;
}
.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-modal-inline-editor:where(.svelte-v0el4e) {
  flex: 1;
  min-height: 150px;
  min-width: 0;
  max-width: 100%;
  display: flex;
  --jse-theme-color: var(--jse-modal-editor-theme-color, #707070);
  --jse-theme-color-highlight: var(--jse-modal-editor-theme-color-highlight, #646464);
}
.jse-modal-wrapper.svelte-v0el4e .jse-actions:where(.svelte-v0el4e) {
  gap: var(--jse-padding, 10px);
  align-items: center;
}
.jse-modal-wrapper.svelte-v0el4e .jse-actions:where(.svelte-v0el4e) .jse-error:where(.svelte-v0el4e) {
  flex: 1;
  color: var(--jse-error-color, #ee5341);
}
.jse-modal-wrapper.svelte-v0el4e .jse-actions:where(.svelte-v0el4e) button.jse-secondary:where(.svelte-v0el4e) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-button-secondary-background, #d3d3d3);
  color: var(--jse-button-secondary-color, var(--jse-text-color, #4d4d4d));
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  border-radius: 3px;
}
.jse-modal-wrapper.svelte-v0el4e .jse-actions:where(.svelte-v0el4e) button.jse-secondary:where(.svelte-v0el4e):hover {
  background: var(--jse-button-secondary-background-highlight, #e1e1e1);
}
.jse-modal-wrapper.svelte-v0el4e .jse-actions:where(.svelte-v0el4e) button.jse-secondary:where(.svelte-v0el4e):disabled {
  background: var(--jse-button-secondary-background-disabled, #9d9d9d);
}
.jse-modal-wrapper.svelte-v0el4e input:where(.svelte-v0el4e) {
  border: var(--jse-input-border, 1px solid #d8dbdf);
  outline: none;
  box-sizing: border-box;
  padding: calc(0.5 * var(--jse-padding, 10px));
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  color: inherit;
  background: var(--jse-input-background, var(--jse-background-color, #fff));
}
.jse-modal-wrapper.svelte-v0el4e input:where(.svelte-v0el4e):focus {
  border: var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)));
}
.jse-modal-wrapper.svelte-v0el4e input:where(.svelte-v0el4e):read-only {
  background: var(--jse-input-background-readonly, transparent);
}`);var OZ=be('<div class="jse-error svelte-v0el4e"> </div>'),EZ=be('<button type="button" class="jse-secondary svelte-v0el4e"><!> Back</button>'),MZ=be('<button type="button" class="jse-primary svelte-v0el4e">Apply</button>'),PZ=be('<button type="button" class="jse-primary svelte-v0el4e">Close</button>'),RZ=be('<!> <div class="jse-modal-contents svelte-v0el4e"><div class="jse-label svelte-v0el4e"><div class="jse-label-inner svelte-v0el4e">Path</div></div> <input class="jse-path svelte-v0el4e" type="text" readonly="" title="Selected path"> <div class="jse-label svelte-v0el4e"><div class="jse-label-inner svelte-v0el4e">Contents</div></div> <div class="jse-modal-inline-editor svelte-v0el4e"><!></div> <div class="jse-actions svelte-v0el4e"><!> <!> <!></div></div>',1),TZ=be('<div class="jse-modal-wrapper svelte-v0el4e"><!></div>'),$Z={};Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-modal-contents.svelte-1v9c92j {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 20px;
  overflow: auto;
  min-width: 0;
  min-height: 0;
}
.jse-modal-contents.svelte-1v9c92j .jse-actions:where(.svelte-1v9c92j) {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  padding-top: var(--jse-padding, 10px);
}
.jse-modal-contents.svelte-1v9c92j .jse-actions:where(.svelte-1v9c92j) button.jse-primary:where(.svelte-1v9c92j) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));
  color: var(--jse-button-primary-color, #fff);
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  border-radius: 3px;
}
.jse-modal-contents.svelte-1v9c92j .jse-actions:where(.svelte-1v9c92j) button.jse-primary:where(.svelte-1v9c92j):hover {
  background: var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff));
}
.jse-modal-contents.svelte-1v9c92j .jse-actions:where(.svelte-1v9c92j) button.jse-primary:where(.svelte-1v9c92j):disabled {
  background: var(--jse-button-primary-background-disabled, #9d9d9d);
}
.jse-modal-contents.svelte-1v9c92j table:where(.svelte-1v9c92j) {
  width: 100%;
  border-collapse: collapse;
  border-spacing: 0;
}
.jse-modal-contents.svelte-1v9c92j table:where(.svelte-1v9c92j) th:where(.svelte-1v9c92j),
.jse-modal-contents.svelte-1v9c92j table:where(.svelte-1v9c92j) td:where(.svelte-1v9c92j) {
  text-align: left;
  vertical-align: middle;
  font-weight: normal;
  padding-bottom: var(--jse-padding, 10px);
}
.jse-modal-contents.svelte-1v9c92j input.jse-path:where(.svelte-1v9c92j) {
  width: 100%;
  box-sizing: border-box;
  padding: 5px 10px;
  border: var(--jse-input-border, 1px solid #d8dbdf);
  border-radius: var(--jse-input-radius, 3px);
  font-family: inherit;
  font-size: inherit;
  background: inherit;
  background: var(--jse-input-background-readonly, transparent);
  color: inherit;
  outline: none;
}
.jse-modal-contents.svelte-1v9c92j .svelte-select input {
  box-sizing: border-box;
}
.jse-modal-contents.svelte-1v9c92j .jse-space:where(.svelte-1v9c92j) {
  height: 200px;
}
.jse-modal-contents.svelte-1v9c92j .jse-space:where(.svelte-1v9c92j) .jse-error:where(.svelte-1v9c92j) {
  color: var(--jse-error-color, #ee5341);
}`);var Su=Fg(()=>$Z),NZ=be('<tr><th class="svelte-1v9c92j">Property</th><td class="svelte-1v9c92j"><!></td></tr>'),IZ=be('<div class="jse-error svelte-1v9c92j"> </div>'),DZ=be('<!> <div class="jse-modal-contents svelte-1v9c92j"><table class="svelte-1v9c92j"><colgroup><col width="25%"><col width="75%"></colgroup><tbody><tr><th class="svelte-1v9c92j">Path</th><td class="svelte-1v9c92j"><input class="jse-path svelte-1v9c92j" type="text" readonly="" title="Selected path"></td></tr><!><tr><th class="svelte-1v9c92j">Direction</th><td class="svelte-1v9c92j"><!></td></tr></tbody></table> <div class="jse-space svelte-1v9c92j"><!></div> <div class="jse-actions svelte-1v9c92j"><button type="button" class="jse-primary svelte-1v9c92j">Sort</button></div></div>',1);Nt(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-main.svelte-57bmz4 {
  width: 100%;
  height: 100%;
  min-width: 0;
  min-height: 150px;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  line-height: normal;
  position: relative;
  display: flex;
  flex-direction: row;
}
.jse-main.svelte-57bmz4:not(.jse-focus) {
  --jse-selection-background-color: var(--jse-selection-background-inactive-color, #e8e8e8);
  --jse-context-menu-pointer-background: var(--jse-context-menu-pointer-hover-background, #b2b2b2);
}`);var LZ=be('<div role="none"><!></div> <!> <!> <!>',1);function zZ(t,e){Ct(e,!1);var n=Y(void 0,!0),r=fi("jsoneditor:JSONEditor"),i={text:""},s=void 0,o=!1,a=li.tree,l=!0,f=!0,c=!0,d=!0,h=!1,m=!1,p=!0,y=JSON,g=void 0,b=JSON,v={parse:rY,stringify:so},x=[kJ],j=x[0].id,w=Ps,k=void 0,S=void 0,M=nY,E=Ps,J=Ps,W=Ps,z=Ps,K=Pe=>{console.error(Pe),alert(Pe.toString())},ue=Ps,ne=Ps,re=C(e,"content",13,i),me=C(e,"selection",13,s),de=C(e,"readOnly",13,o),pe=C(e,"indentation",13,2),X=C(e,"tabSize",13,4),$=C(e,"mode",13,a),ie=C(e,"mainMenuBar",13,l),T=C(e,"navigationBar",13,f),A=C(e,"statusBar",13,c),P=C(e,"askToFormat",13,d),se=C(e,"escapeControlCharacters",13,h),te=C(e,"escapeUnicodeCharacters",13,m),q=C(e,"flattenColumns",13,p),ge=C(e,"parser",13,y),V=C(e,"validator",13,g),F=C(e,"validationParser",13,b),ee=C(e,"pathParser",13,v),U=C(e,"queryLanguages",13,x),H=C(e,"queryLanguageId",13,j),B=C(e,"onChangeQueryLanguage",13,w),Te=C(e,"onChange",13,k),lt=C(e,"onSelect",13,S),Ze=C(e,"onRenderValue",13,M),Ce=C(e,"onClassName",13,E),Ve=C(e,"onRenderMenu",13,J),Ie=C(e,"onRenderContextMenu",13,W),pt=C(e,"onChangeMode",13,z),bt=C(e,"onError",13,K),nt=C(e,"onFocus",13,ue),Ne=C(e,"onBlur",13,ne),O=Y(Du(),!0),I=Y(!1,!0),D=Y(void 0,!0),ae=Y(void 0,!0),he=Y(void 0,!0),ke=Y(void 0,!0),oe=Y(ge(),!0);function Me(){return re()}function Ye(Pe){r("set");var tn=e0(Pe);if(tn)throw new Error(tn);_(O,Du()),re(Pe),Nr()}function Tt(Pe){r("update");var tn=e0(Pe);if(tn)throw new Error(tn);re(Pe),Nr()}function kt(Pe){var tn=u(D).patch(Pe);return Nr(),tn}function Ee(Pe){me(Pe),Nr()}function It(Pe,tn){u(D).expand(Pe,tn),Nr()}function Hn(Pe){var tn=arguments.length>1&&arguments[1]!==void 0&&arguments[1];u(D).collapse(Pe,tn),Nr()}function On(){var Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};u(D).transform(Pe),Nr()}function en(){return u(D).validate()}function Vt(){var Pe=u(D).acceptAutoRepair();return Nr(),Pe}function mn(Pe){return En.apply(this,arguments)}function En(){return(En=Lt(function*(Pe){yield u(D).scrollTo(Pe)})).apply(this,arguments)}function Zn(Pe){return u(D).findElement(Pe)}function cn(){u(D).focus(),Nr()}function ot(){return gn.apply(this,arguments)}function gn(){return(gn=Lt(function*(){yield u(D).refresh()})).apply(this,arguments)}function mt(Pe){var tn,hr,xe,ze,wt,zt,gt,Qt,wn,Ht,Kt,vt,yt,Pn,Bt,Kn,jn,nn,Ln,rn,Rr,ce,je,Fe,Ut,kn,fn,Gn,pr,er,Dr=Object.keys(Pe);for(var it of Dr)switch(it){case"content":re((tn=Pe[it])!==null&&tn!==void 0?tn:i);break;case"selection":me((hr=Pe[it])!==null&&hr!==void 0?hr:s);break;case"readOnly":de((xe=Pe[it])!==null&&xe!==void 0?xe:o);break;case"indentation":pe((ze=Pe[it])!==null&&ze!==void 0?ze:2);break;case"tabSize":X((wt=Pe[it])!==null&&wt!==void 0?wt:4);break;case"mode":$((zt=Pe[it])!==null&&zt!==void 0?zt:a);break;case"mainMenuBar":ie((gt=Pe[it])!==null&&gt!==void 0?gt:l);break;case"navigationBar":T((Qt=Pe[it])!==null&&Qt!==void 0?Qt:f);break;case"statusBar":A((wn=Pe[it])!==null&&wn!==void 0?wn:c);break;case"askToFormat":P((Ht=Pe[it])!==null&&Ht!==void 0?Ht:d);break;case"escapeControlCharacters":se((Kt=Pe[it])!==null&&Kt!==void 0?Kt:h);break;case"escapeUnicodeCharacters":te((vt=Pe[it])!==null&&vt!==void 0?vt:m);break;case"flattenColumns":q((yt=Pe[it])!==null&&yt!==void 0?yt:p);break;case"parser":ge((Pn=Pe[it])!==null&&Pn!==void 0?Pn:y);break;case"validator":V((Bt=Pe[it])!==null&&Bt!==void 0?Bt:g);break;case"validationParser":F((Kn=Pe[it])!==null&&Kn!==void 0?Kn:b);break;case"pathParser":ee((jn=Pe[it])!==null&&jn!==void 0?jn:v);break;case"queryLanguages":U((nn=Pe[it])!==null&&nn!==void 0?nn:x);break;case"queryLanguageId":H((Ln=Pe[it])!==null&&Ln!==void 0?Ln:j);break;case"onChangeQueryLanguage":B((rn=Pe[it])!==null&&rn!==void 0?rn:w);break;case"onChange":Te((Rr=Pe[it])!==null&&Rr!==void 0?Rr:k);break;case"onRenderValue":Ze((ce=Pe[it])!==null&&ce!==void 0?ce:M);break;case"onClassName":Ce((je=Pe[it])!==null&&je!==void 0?je:E);break;case"onRenderMenu":Ve((Fe=Pe[it])!==null&&Fe!==void 0?Fe:J);break;case"onRenderContextMenu":Ie((Ut=Pe[it])!==null&&Ut!==void 0?Ut:W);break;case"onChangeMode":pt((kn=Pe[it])!==null&&kn!==void 0?kn:z);break;case"onSelect":lt((fn=Pe[it])!==null&&fn!==void 0?fn:S);break;case"onError":bt((Gn=Pe[it])!==null&&Gn!==void 0?Gn:K);break;case"onFocus":nt((pr=Pe[it])!==null&&pr!==void 0?pr:ue);break;case"onBlur":Ne((er=Pe[it])!==null&&er!==void 0?er:ne);break;default:ur(it)}function ur(sn){r('Unknown property "'.concat(sn,'"'))}U().some(sn=>sn.id===H())||H(U()[0].id),Nr()}function Yt(){return xn.apply(this,arguments)}function xn(){return(xn=Lt(function*(){throw new Error("class method destroy() is deprecated. It is replaced with a method destroy() in the vanilla library.")})).apply(this,arguments)}function Dn(Pe,tn,hr){re(Pe),Te()&&Te()(Pe,tn,hr)}function Mn(Pe){me(Pe),lt()&&lt()(Ef(Pe))}function sr(){_(I,!0),nt()&&nt()()}function Sr(){_(I,!1),Ne()&&Ne()()}function hi(Pe){return Mr.apply(this,arguments)}function Mr(){return(Mr=Lt(function*(Pe){$()!==Pe&&($(Pe),Nr(),cn(),pt()(Pe))})).apply(this,arguments)}function Yr(Pe){r("handleChangeQueryLanguage",Pe),H(Pe),B()(Pe)}function ti(Pe){var{id:tn,json:hr,rootPath:xe,onTransform:ze,onClose:wt}=Pe;de()||_(ke,{id:tn,json:hr,rootPath:xe,indentation:pe(),escapeControlCharacters:se(),escapeUnicodeCharacters:te(),parser:ge(),parseMemoizeOne:u(n),validationParser:F(),pathParser:ee(),queryLanguages:U(),queryLanguageId:H(),onChangeQueryLanguage:Yr,onRenderValue:Ze(),onRenderMenu:zt=>Ve()(zt,{mode:$(),modal:!0,readOnly:de()}),onRenderContextMenu:zt=>Ie()(zt,{mode:$(),modal:!0,readOnly:de(),selection:me()}),onClassName:Ce(),onTransform:ze,onClose:wt})}function Wr(Pe){de()||_(he,Pe)}function br(Pe){var{content:tn,path:hr,onPatch:xe,onClose:ze}=Pe;r("onJSONEditorModal",{content:tn,path:hr}),_(ae,{content:tn,path:hr,onPatch:xe,readOnly:de(),indentation:pe(),tabSize:X(),mainMenuBar:ie(),navigationBar:T(),statusBar:A(),askToFormat:P(),escapeControlCharacters:se(),escapeUnicodeCharacters:te(),flattenColumns:q(),parser:ge(),validator:void 0,validationParser:F(),pathParser:ee(),onRenderValue:Ze(),onClassName:Ce(),onRenderMenu:Ve(),onRenderContextMenu:Ie(),onSortModal:Wr,onTransformModal:ti,onClose:ze})}function Pr(Pe){Pe.stopPropagation()}return fe(()=>(G(ge()),u(oe),G(re()),Du),()=>{if(!cJ(ge(),u(oe))){if(r("parser changed, recreate editor"),ed(re())){var Pe=u(oe).stringify(re().json);re({json:Pe!==void 0?ge().parse(Pe):void 0})}_(oe,ge()),_(O,Du())}}),fe(()=>G(re()),()=>{var Pe=e0(re());Pe&&console.error("Error: "+Pe)}),fe(()=>G(me()),()=>{me()===null&&console.warn("selection is invalid: it is null but should be undefined")}),fe(()=>G(ge()),()=>{_(n,Yf(ge().parse))}),fe(()=>G($()),()=>{r("mode changed to",$())}),_n(),Mt(!0),Hb(t,{children:(Pe,tn)=>{var hr,xe=LZ(),ze=st(xe);CT(Q(ze),()=>u(O),Kt=>{jr(gC(Kt,{get externalMode(){return $()},get content(){return re()},get selection(){return me()},get readOnly(){return de()},get indentation(){return pe()},get tabSize(){return X()},get statusBar(){return A()},get askToFormat(){return P()},get mainMenuBar(){return ie()},get navigationBar(){return T()},get escapeControlCharacters(){return se()},get escapeUnicodeCharacters(){return te()},get flattenColumns(){return q()},get parser(){return ge()},get parseMemoizeOne(){return u(n)},get validator(){return V()},get validationParser(){return F()},get pathParser(){return ee()},insideModal:!1,get onError(){return bt()},onChange:Dn,onChangeMode:hi,onSelect:Mn,get onRenderValue(){return Ze()},get onClassName(){return Ce()},onFocus:sr,onBlur:Sr,get onRenderMenu(){return Ve()},get onRenderContextMenu(){return Ie()},onSortModal:Wr,onTransformModal:ti,onJSONEditorModal:br,$$legacy:!0}),vt=>_(D,vt),()=>u(D))});var wt=le(ze,2),zt=Kt=>{(function(vt,yt){var Pn,Bt;Ct(yt,!1);var Kn=Y(void 0,!0),jn=Y(void 0,!0),nn=Y(void 0,!0),Ln=Y(void 0,!0),rn=fi("jsoneditor:SortModal"),Rr=C(yt,"id",9),ce=C(yt,"json",9),je=C(yt,"rootPath",9),Fe=C(yt,"onSort",9),Ut=C(yt,"onClose",9),kn={value:1,label:"ascending"},fn=[kn,{value:-1,label:"descending"}],Gn="".concat(Rr(),":").concat(jt(je())),pr=Y((Pn=Su()[Gn])===null||Pn===void 0?void 0:Pn.selectedProperty,!0),er=Y(((Bt=Su()[Gn])===null||Bt===void 0?void 0:Bt.selectedDirection)||kn,!0),Dr=Y(void 0,!0);function it(){try{var sn,pi,Ot;_(Dr,void 0);var Rn=((sn=u(pr))===null||sn===void 0?void 0:sn.value)||((pi=u(Ln))===null||pi===void 0||(pi=pi[0])===null||pi===void 0?void 0:pi.value)||[],zn=(Ot=u(er))===null||Ot===void 0?void 0:Ot.value,mr=C5(ce(),je(),Rn,zn);Fe()!==void 0&&je()!==void 0&&Fe()({operations:mr,rootPath:je(),itemPath:Rn,direction:zn}),Ut()()}catch(L){_(Dr,String(L))}}function ur(sn){sn.focus()}fe(()=>(G(ce()),G(je())),()=>{_(Kn,rt(ce(),je()))}),fe(()=>u(Kn),()=>{_(jn,Array.isArray(u(Kn)))}),fe(()=>(u(jn),u(Kn)),()=>{_(nn,u(jn)?Ub(u(Kn)):void 0)}),fe(()=>(u(nn),qa),()=>{_(Ln,u(nn)?u(nn).map(qa):void 0)}),fe(()=>(Su(),u(pr),u(er)),()=>{Su(Su()[Gn]={selectedProperty:u(pr),selectedDirection:u(er)}),rn("store state in memory",Gn,Su()[Gn])}),_n(),Mt(!0),ud(vt,{get onClose(){return Ut()},className:"jse-sort-modal",children:(sn,pi)=>{var Ot=DZ(),Rn=st(Ot),zn=$e(()=>u(jn)?"Sort array items":"Sort object keys");zm(Rn,{get title(){return u(zn)},get onClose(){return Ut()}});var mr=Q(le(Rn,2)),L=le(Q(mr)),ye=Q(L),Re=le(Q(ye)),De=Q(Re),Be=le(ye),Qe=Un=>{var N=NZ(),ve=le(Q(N));Ll(Q(ve),{showChevron:!0,get items(){return u(Ln)},get value(){return u(pr)},set value(_e){_(pr,_e)},$$legacy:!0}),Z(Un,N)};we(Be,Un=>{var N;u(jn)&&(u(Ln)&&((N=u(Ln))===null||N===void 0?void 0:N.length)>1||u(pr)===void 0)&&Un(Qe)});var Ke=le(Be),ft=le(Q(Ke));Ll(Q(ft),{showChevron:!0,clearable:!1,items:fn,get value(){return u(er)},set value(Un){_(er,Un)},$$legacy:!0});var Ft=le(mr,2),vn=Q(Ft),bn=Un=>{var N=IZ(),ve=Q(N);qe(()=>Rt(ve,u(Dr))),Z(Un,N)};we(vn,Un=>{u(Dr)&&Un(bn)});var Fn=Q(le(Ft,2));vi(()=>Ae("click",Fn,it)),Li(Fn,Un=>ur==null?void 0:ur(Un)),qe(Un=>{var N;eu(De,Un),Fn.disabled=!!(u(jn)&&u(Ln)&&((N=u(Ln))===null||N===void 0?void 0:N.length)>1)&&!u(pr)},[()=>je()&&!Yn(je())?so(je()):"(document root)"],$e),Z(sn,Ot)},$$slots:{default:!0}}),_t()})(Kt,el(()=>u(he),{onClose:()=>{var vt;(vt=u(he))===null||vt===void 0||vt.onClose(),_(he,void 0)}}))};we(wt,Kt=>{u(he)&&Kt(zt)});var gt=le(wt,2),Qt=Kt=>{HX(Kt,el(()=>u(ke),{onClose:()=>{var vt;(vt=u(ke))===null||vt===void 0||vt.onClose(),_(ke,void 0)}}))};we(gt,Kt=>{u(ke)&&Kt(Qt)});var wn=le(gt,2),Ht=Kt=>{(function(vt,yt){Ct(yt,!1);var Pn=Y(void 0,!0),Bt=Y(void 0,!0),Kn=Y(void 0,!0),jn=Y(void 0,!0),nn=fi("jsoneditor:JSONEditorModal"),Ln=C(yt,"content",9),rn=C(yt,"path",9),Rr=C(yt,"onPatch",9),ce=C(yt,"readOnly",9),je=C(yt,"indentation",9),Fe=C(yt,"tabSize",9),Ut=C(yt,"mainMenuBar",9),kn=C(yt,"navigationBar",9),fn=C(yt,"statusBar",9),Gn=C(yt,"askToFormat",9),pr=C(yt,"escapeControlCharacters",9),er=C(yt,"escapeUnicodeCharacters",9),Dr=C(yt,"flattenColumns",9),it=C(yt,"parser",9),ur=C(yt,"validator",9),sn=C(yt,"validationParser",9),pi=C(yt,"pathParser",9),Ot=C(yt,"onRenderValue",9),Rn=C(yt,"onClassName",9),zn=C(yt,"onRenderMenu",9),mr=C(yt,"onRenderContextMenu",9),L=C(yt,"onSortModal",9),ye=C(yt,"onTransformModal",9),Re=C(yt,"onClose",9),De=Y(void 0,!0),Be=Y(void 0,!0),Qe={mode:Ft(Ln()),content:Ln(),selection:void 0,relativePath:rn()},Ke=Y([Qe],!0),ft=Y(void 0,!0);function Ft(We){return ed(We)&&Fr(We.json)?li.table:li.tree}function vn(){var We,ct=(We=Et(u(Ke)))===null||We===void 0?void 0:We.selection;sd(ct)&&u(De).scrollTo(dt(ct))}function bn(){if(nn("handleApply"),!ce())try{_(ft,void 0);var We=u(Pn).relativePath,ct=u(Pn).content,At=[{op:"replace",path:jt(We),value:PS(ct,it()).json}];if(u(Ke).length>1){var Cn=PS(u(Ke)[u(Ke).length-2].content,it()).json,an={json:oo(Cn,At)},tr=Le(Le({},u(Ke)[u(Ke).length-2]||Qe),{},{content:an});_(Ke,[...u(Ke).slice(0,u(Ke).length-2),tr]),Nr(),vn()}else Rr()(At),Re()()}catch(Pt){_(ft,String(Pt))}}function Fn(){if(nn("handleClose"),u(Be))_(Be,!1);else if(u(Ke).length>1){var We;_(Ke,hn(u(Ke))),Nr(),(We=u(De))===null||We===void 0||We.focus(),vn(),_(ft,void 0)}else Re()()}function Un(We){nn("handleChange",We),_e(ct=>Le(Le({},ct),{},{content:We}))}function N(We){nn("handleChangeSelection",We),_e(ct=>Le(Le({},ct),{},{selection:We}))}function ve(We){nn("handleChangeMode",We),_e(ct=>Le(Le({},ct),{},{mode:We}))}function _e(We){var ct=We(Et(u(Ke)));_(Ke,[...hn(u(Ke)),ct])}function et(We){_(ft,We.toString()),console.error(We)}function He(We){var ct,{content:At,path:Cn}=We;nn("handleJSONEditorModal",{content:At,path:Cn});var an={mode:Ft(At),content:At,selection:void 0,relativePath:Cn};_(Ke,[...u(Ke),an]),Nr(),(ct=u(De))===null||ct===void 0||ct.focus()}function Ue(We){We.focus()}Pi(()=>{var We;(We=u(De))===null||We===void 0||We.focus()}),fe(()=>u(Ke),()=>{_(Pn,Et(u(Ke))||Qe)}),fe(()=>u(Ke),()=>{_(Bt,u(Ke).flatMap(We=>We.relativePath))}),fe(()=>(u(Bt),so),()=>{_(Kn,Yn(u(Bt))?"(document root)":so(u(Bt)))}),fe(()=>G(it()),()=>{_(jn,Yf(it().parse))}),_n(),Mt(!0),ud(vt,{onClose:Fn,className:"jse-jsoneditor-modal",get fullscreen(){return u(Be)},children:(We,ct)=>{var At=TZ();Hb(Q(At),{children:(Cn,an)=>{var tr=RZ(),Pt=st(tr),Lr=$e(()=>u(Ke).length>1?" (".concat(u(Ke).length,")"):"");zm(Pt,{get title(){var Gt;return"Edit nested content ".concat((Gt=u(Lr))!==null&&Gt!==void 0?Gt:"")},fullScreenButton:!0,onClose:Fn,get fullscreen(){return u(Be)},set fullscreen(Gt){_(Be,Gt)},$$legacy:!0});var or=le(Pt,2),Cr=le(Q(or),2),St=le(Cr,4);jr(gC(Q(St),{get externalMode(){return u(Pn).mode},get content(){return u(Pn).content},get selection(){return u(Pn).selection},get readOnly(){return ce()},get indentation(){return je()},get tabSize(){return Fe()},get statusBar(){return fn()},get askToFormat(){return Gn()},get mainMenuBar(){return Ut()},get navigationBar(){return kn()},get escapeControlCharacters(){return pr()},get escapeUnicodeCharacters(){return er()},get flattenColumns(){return Dr()},get parser(){return it()},get parseMemoizeOne(){return u(jn)},get validator(){return ur()},get validationParser(){return sn()},get pathParser(){return pi()},insideModal:!0,onError:et,onChange:Un,onChangeMode:ve,onSelect:N,get onRenderValue(){return Ot()},get onClassName(){return Rn()},onFocus:Ps,onBlur:Ps,get onRenderMenu(){return zn()},get onRenderContextMenu(){return mr()},get onSortModal(){return L()},get onTransformModal(){return ye()},onJSONEditorModal:He,$$legacy:!0}),Gt=>_(De,Gt),()=>u(De));var Je=Q(le(St,2)),Wt=Gt=>{var gr=OZ(),wi=Q(gr);qe(()=>Rt(wi,u(ft))),Z(Gt,gr)};we(Je,Gt=>{u(ft)&&Gt(Wt)});var Vr=le(Je,2),Jn=Gt=>{var gr=EZ();yn(Q(gr),{data:bH}),Ae("click",gr,Fn),Z(Gt,gr)};we(Vr,Gt=>{u(Ke).length>1&&Gt(Jn)});var Bn=le(Vr,2),cr=Gt=>{var gr=MZ();vi(()=>Ae("click",gr,bn)),Li(gr,wi=>Ue==null?void 0:Ue(wi)),Z(Gt,gr)},Qr=Gt=>{var gr=PZ();Ae("click",gr,Fn),Z(Gt,gr)};we(Bn,Gt=>{ce()?Gt(Qr,!1):Gt(cr)}),qe(()=>eu(Cr,u(Kn))),Z(Cn,tr)},$$slots:{default:!0}}),Z(We,At)},$$slots:{default:!0}}),_t()})(Kt,el(()=>u(ae),{onClose:()=>{var vt;(vt=u(ae))===null||vt===void 0||vt.onClose(),_(ae,void 0)}}))};we(wn,Kt=>{u(ae)&&Kt(Ht)}),qe(()=>hr=qt(ze,1,"jse-main svelte-57bmz4",null,hr,{"jse-focus":u(I)})),Ae("keydown",ze,Pr),Z(Pe,xe)},$$slots:{default:!0}}),Dt(e,"get",Me),Dt(e,"set",Ye),Dt(e,"update",Tt),Dt(e,"patch",kt),Dt(e,"select",Ee),Dt(e,"expand",It),Dt(e,"collapse",Hn),Dt(e,"transform",On),Dt(e,"validate",en),Dt(e,"acceptAutoRepair",Vt),Dt(e,"scrollTo",mn),Dt(e,"findElement",Zn),Dt(e,"focus",cn),Dt(e,"refresh",ot),Dt(e,"updateProps",mt),Dt(e,"destroy",Yt),_t({get:Me,set:Ye,update:Tt,patch:kt,select:Ee,expand:It,collapse:Hn,transform:On,validate:en,acceptAutoRepair:Vt,scrollTo:mn,findElement:Zn,focus:cn,refresh:ot,updateProps:mt,destroy:Yt})}function lee(t){var{target:e,props:n}=t,r=UG(zZ,{target:e,props:n});return r.destroy=Lt(function*(){return function(i,s){var o=qb.get(i);return o?(qb.delete(i),o(s)):Promise.resolve()}(r)}),Nr(),r}export{Ho as $,Oe as A,WZ as B,JZ as C,FW as D,tt as E,Lf as F,YF as G,Ed as H,QF as I,da as J,Tn as K,LM as L,Sc as M,YZ as N,ree as O,tee as P,UZ as Q,Hr as R,rP as S,Tq as T,YB as U,IM as V,pn as W,Jr as X,at as Y,di as Z,t8 as _,Cs as a,cg as a$,TM as a0,Xt as a1,jl as a2,Go as a3,xt as a4,fr as a5,Js as a6,Yi as a7,ra as a8,_c as a9,Bf as aA,qf as aB,IB as aC,Ir as aD,HB as aE,JB as aF,dB as aG,tB as aH,oB as aI,CB as aJ,OB as aK,bB as aL,rU as aM,kU as aN,qE as aO,A4 as aP,lee as aQ,aee as aR,oee as aS,li as aT,U_ as aU,Et as aV,$O as aW,wz as aX,ul as aY,$E as aZ,k1 as a_,ll as aa,va as ab,jy as ac,qi as ad,Wn as ae,qr as af,yg as ag,Ly as ah,Ff as ai,nr as aj,na as ak,ci as al,Oi as am,si as an,Lo as ao,$o as ap,bo as aq,Ad as ar,is as as,PM as at,Mo as au,vg as av,ky as aw,_i as ax,Kl as ay,Kr as az,XM as b,ol as b0,NA as b1,OA as b2,B_ as b3,Ru as b4,m_ as b5,QE as b6,dy as b7,lO as b8,Ef as b9,vd as bA,ag as bB,LO as bC,F_ as bD,c_ as bE,X4 as bF,RE as bG,_4 as bH,jO as bI,G4 as bJ,zs as bK,$r as bL,Z4 as bM,w_ as bN,G1 as bO,TE as bP,see as bQ,ny as ba,P_ as bb,T_ as bc,F4 as bd,hW as be,ZZ as bf,vq as bg,oR as bh,OW as bi,XZ as bj,wq as bk,aq as bl,Cq as bm,Rq as bn,uW as bo,xW as bp,KZ as bq,Rs as br,pg as bs,$s as bt,lq as bu,Bl as bv,JP as bw,ac as bx,UC as by,oy as bz,Ge as c,Hl as d,ZB as e,h_ as f,C0 as g,S4 as h,hA as i,em as j,pm as k,BM as l,pd as m,UM as n,o3 as o,Q2 as p,nee as q,xO as r,PO as s,hE as t,EE as u,hu as v,eee as w,AU as x,yi as y,uq as z};
